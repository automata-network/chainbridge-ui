{"version":3,"sources":["Contracts/WethFactory.ts","Contexts/Adaptors/EVMAdaptors/EVMHomeAdaptorProvider.tsx","chainbridgeConfig.ts","media/tokens/eth.svg","media/tokens/weth.svg","media/tokens/dai.svg","media/tokens/cusd.svg","Contexts/Adaptors/SubstrateApis lazy /^/.//.*$/ groupOptions: {} namespace object","Components/Custom/CustomDrawer.tsx","Modules/AboutDrawer.tsx","Modules/ChangeNetworkDrawer.tsx","Utils/Helpers.tsx","Modules/PreflightModalTransfer.tsx","Components/Custom/AddressInput.tsx","Components/Custom/CustomModal.tsx","Modules/NetworkSelectModal.tsx","Contexts/ChainbridgeContext.tsx","Modules/TransferActiveModal.tsx","Components/Custom/TokenSelectInput.tsx","Components/Custom/TokenInput.tsx","Components/Pages/FormikContextElements/Fees.tsx","Modules/NetworkUnsupportedModal.tsx","Components/Pages/TransferPage.tsx","Components/Routes.tsx","Themes/LightTheme.ts","Layouts/AppHeader.tsx","media/Icons/global.svg","Layouts/AppWrapper.tsx","App.tsx","serviceWorker.ts","index.tsx","Contexts/HomeBridgeContext.tsx","Contexts/Adaptors/EVMAdaptors/EVMDestinationAdaptorProvider.tsx","Contexts/Adaptors/SubstrateAdaptors.tsx","Contexts/Reducers/TransitMessageReducer.tsx","Contexts/NetworkManagerContext.tsx","Contexts/DestinationBridgeContext.tsx","Contexts/Adaptors/EVMAdaptors/helpers.ts","Contexts/Adaptors/SubstrateApis/ChainBridgeAPI.tsx","Contracts/Erc20DetailedFactory.ts"],"names":["WethFactory","address","signerOrProvider","Contract","_abi","constant","inputs","name","outputs","type","payable","stateMutability","anonymous","indexed","resetAllowanceLogicFor","EVMHomeAdaptorProvider","children","useWeb3","isReady","network","provider","gasPrice","tokens","wallet","checkIsReady","ethBalance","onboard","resetOnboard","useNetworkManager","homeChainConfig","setTransactionStatus","setDepositNonce","handleSetHomeChain","homeChains","setNetworkId","useState","undefined","homeBridge","setHomeBridge","relayerThreshold","setRelayerThreshold","bridgeFee","setBridgeFee","depositAmount","setDepositAmount","selectedToken","setSelectedToken","wrapper","setWrapper","wrapTokenConfig","setWrapperConfig","useEffect","chain","find","networkId","chainId","initialising","setInitialising","walletSelected","setWalletSelected","console","log","then","success","signer","getSigner","bridge","BridgeFactory","connect","bridgeAddress","wrapperToken","token","isNativeWrappedToken","connectedWeth","catch","error","finally","walletSelect","getRelayerThreshold","a","BigNumber","_relayerThreshold","threshold","from","toNumber","getBridgeFee","Number","utils","_fee","formatEther","handleConnect","useCallback","handleCheckSupplies","amount","tokenAddress","destinationChainId","destinationChain","chainbridgeConfig","chains","c","hasTokenSupplies","deposit","recipient","Buffer","decodeAddress","toString","erc20","Erc20DetailedFactory","erc20Decimals","decimals","data","hexZeroPad","parseUnits","toHexString","substr","hexlify","length","getPriceCompatibility","gasPriceCompatibility","allowance","erc20HandlerAddress","currentAllowance","formatUnits","includes","approve","wait","once","filters","Deposit","resourceId","destChainId","depositNonce","value","Promise","resolve","wrapToken","tx","hash","unwrapToken","withdraw","Provider","disconnect","getNetworkName","id","chainConfig","nativeTokenBalance","process","rpcUrl","nativeTokenSymbol","symbol","chainbridgePalletName","bridgeFeeValue","transferPalletName","transferFunctionName","typesFileName","module","exports","map","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","all","slice","t","keys","Object","useStyles","makeStyles","constants","palette","createStyles","root","backgroundColor","additional","color","common","white","main","border","padding","generalUnit","backdrop","opacity","CustomDrawer","className","rest","classes","classNames","clsx","display","flexDirection","justifyContent","buttons","alignItems","marginRight","textDecoration","AboutDrawer","open","close","onClose","variant","component","onClick","rel","href","target","flexWrap","marginTop","paragraph","margin","ChangeNetworkDrawer","setWalletType","setDestinationChain","useHomeBridge","destinationBridge","useDestinationBridge","require","encodeAddress","hexToU8a","isHex","shortenAddress","zIndex","blocker","position","content","height","width","borderRadius","top","left","transform","subtitle","agreement","startButton","marginBottom","layer4","PreflightModalTransfer","receiver","sender","sourceNetwork","targetNetwork","tokenSymbol","start","size","fullsize","input","label","checkbox","AddressInput","senderAddress","inputVariant","placeholder","labelClassName","captionMessage","sendToSameAccountHelper","useField","field","meta","helpers","stored","setStored","toggleReceiver","setValue","state","onChange","disabled","borderTopLeftRadius","borderTopRightRadius","overflow","CustomModal","slide","textAlign","NetworkSelectModal","useChainbridge","walletType","active","closePosition","injectedClass","inner","ChainbridgeContext","React","createContext","ChainbridgeProvider","destinationChainConfig","setDepositVotes","transferTxHash","inTransitMessages","tokensDispatch","transactionStatus","depositVotes","destinationChains","handleDeposit","checkSupplies","homeConfig","resetDeposit","context","useContext","animation","typography","maxWidth","bottom","transitionDuration","heading","whiteSpace","stepIndicator","h4","button","borderColor","initCopy","sendingCopy","vote","textOverflow","marginLeft","fontStyle","warning","fontWeight","receipt","weighted","progress","background","TransferActiveModal","m","i","key","signed","TokenSelectInput","sync","labelParsed","balance","synced","setSynced","TokenInput","tokenSelectorKey","values","useFormikContext","FeesFormikWrapped","fee","feeSymbol","amountFormikName","toFixed","icon","fill","NetworkUnsupportedModal","pathname","useLocation","setOpen","supportedNetworks","setSupportedNetworks","ROUTE_LINKS","Transfer","filter","bc","n","PredefinedIcons","ETHIcon","WETHIcon","DAIIcon","celoUSD","walletArea","connectButton","connecting","connected","changeButton","cursor","networkName","formArea","currencySection","tokenInputArea","tokenInputSection","tokenInput","borderBottomRightRadius","borderRight","maxButton","borderBottomLeftRadius","currencySelector","paddingRight","addressInput","generalInput","faqButton","tokenItem","minWidth","fees","accountSelector","TransferPage","accounts","selectAccount","aboutOpen","setAboutOpen","walletConnecting","setWalletConnecting","changeNetworkOpen","setChangeNetworkOpen","preflightModalOpen","setPreflightModalOpen","tokenAmount","preflightDetails","setPreflightDetails","DECIMALS","REGEX","RegExp","transferSchema","object","shape","string","test","parseFloat","supplies","Boolean","required","isValidSubstrateAddress","isAddress","options","acc","findIndex","v","initialValues","validateOnChange","validationSchema","onSubmit","props","isValidating","dc","url","imageUri","src","alt","Fees","FilesRoutes","exact","path","to","lightTheme","createTheme","globalStyling","body","themeConfig","navItemHeight","general","1","transferUi","header","2","3","preflight","transactionModal","overrides","CheckboxInput","Button","variants","primary","hover","focus","outline","breakpoints","borderBottom","layer2","down","logo","maxHeight","indicator","accountInfo","mainInfo","AppHeader","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","viewBox","ref","ForwardRef","forwardRef","minHeight","paddingTop","between","paddingBottom","cta","right","pageArea","navTabs","AppWrapper","activeClassName","App","reduce","tca","fallback","componentStack","eventId","resetError","message","showReportDialog","onReset","window","location","reload","themes","light","autoDismiss","tokensToWatch","networkIds","onboardConfig","dappId","wallets","walletName","preferred","subscriptions","checkNetwork","gasPricePollingInterval","gasPriceSetting","Routes","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","HomeBridgeContext","EVMDestinationAdaptorProvider","setTransferTxHash","setDestinationBridge","getProvider","on","ProposalEvent","originChainId","status","dataHash","payload","transactionHash","ProposalVote","getTransactionReceipt","txReceipt","String","removeAllListeners","DestinationBridgeContext","SubstrateHomeAdaptorProvider","registry","TypeRegistry","api","setApi","setIsReady","setAccounts","setAddress","setTokens","initiaising","createApi","query","toHuman","config","bridgeFeeFunctionName","BN","shiftedBy","confirmChainID","currentId","consts","bridgeChainId","item","isConnected","unsubscribe","system","account","result","toJSON","free","parseInt","balanceBN","unsub","web3Enable","web3Accounts","injectedAccounts","index","allAccounts","targetAccount","transferExtrinsic","submitDeposit","web3FromSource","injector","signAndSend","events","isInBlock","isFinalized","event","FungibleTransfer","is","chainNonces","response","SubstrateDestinationAdaptorProvider","listenerActive","setListenerActive","forEach","record","phase","types","typeDef","section","method","documentation","unsubscribeCall","transitMessageReducer","transitMessage","action","NetworkManagerContext","NetworkManagerProvider","setHomeChainConfig","setHomeChains","setDestinationChains","useReducer","bridgeConfig","handleSetDestination","DestinationProvider","CeloProvider","startsWith","parts","split","ethers","providers","InfuraWebSocketProvider","AlchemyWebSocketProvider","urlInstance","URL","username","password","urlInfo","user","JsonRpcProvider","getRpcProviderFromHttpUrl","destinationToken","_token","erc20destinationToken","destinationErc20Handler","destinationErc20DHandlerInstance","Erc20HandlerFactory","_burnList","balanceOf","balanceTokens","detectEIP1559MaxFeePerGas","getFeeData","maxFeePerGas","warn","defaultGasPrice","WsProvider","subChainConfig","ApiPromise","create","multipliedBy","pow"],"mappings":"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","file":"static/js/main.4615312c.chunk.js","sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Signer } from \"ethers\";\nimport { Provider } from \"@ethersproject/providers\";\n\nimport type { Weth } from \"./Weth\";\n\nexport class WethFactory {\n  static connect(address: string, signerOrProvider: Signer | Provider): Weth {\n    return new Contract(address, _abi, signerOrProvider) as Weth;\n  }\n}\n\nconst _abi = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"guy\",\n        type: \"address\",\n      },\n      {\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"src\",\n        type: \"address\",\n      },\n      {\n        name: \"dst\",\n        type: \"address\",\n      },\n      {\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transferFrom\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"withdraw\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint8\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"dst\",\n        type: \"address\",\n      },\n      {\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transfer\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [],\n    name: \"deposit\",\n    outputs: [],\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: \"\",\n        type: \"address\",\n      },\n      {\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowance\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"fallback\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"src\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        name: \"guy\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"src\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        name: \"dst\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"dst\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Deposit\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"src\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"wad\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Withdrawal\",\n    type: \"event\",\n  },\n];\n","import React from \"react\";\nimport { Bridge, BridgeFactory } from \"@chainsafe/chainbridge-contracts\";\nimport { useWeb3 } from \"@chainsafe/web3-context\";\nimport { BigNumber, utils } from \"ethers\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  chainbridgeConfig,\n  EvmBridgeConfig,\n  TokenConfig,\n} from \"../../../chainbridgeConfig\";\nimport { Erc20DetailedFactory } from \"../../../Contracts/Erc20DetailedFactory\";\nimport { Weth } from \"../../../Contracts/Weth\";\nimport { WethFactory } from \"../../../Contracts/WethFactory\";\nimport { useNetworkManager } from \"../../NetworkManagerContext\";\nimport { IHomeBridgeProviderProps } from \"../interfaces\";\nimport { HomeBridgeContext } from \"../../HomeBridgeContext\";\nimport { parseUnits } from \"ethers/lib/utils\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\n\nimport { hasTokenSupplies, getPriceCompatibility } from \"./helpers\";\n\nconst resetAllowanceLogicFor = [\n  \"0xdac17f958d2ee523a2206206994597c13d831ec7\", //USDT\n  \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\", //cUSD CELO\n  // \"0xe09523d86d9b788BCcb580d061605F31FCe69F51\", //TST CELO cUSD on Rinkeby\n  //Add other offending tokens here\n];\n\nexport const EVMHomeAdaptorProvider = ({\n  children,\n}: IHomeBridgeProviderProps) => {\n  const {\n    isReady,\n    network,\n    provider,\n    gasPrice,\n    address,\n    tokens,\n    wallet,\n    checkIsReady,\n    ethBalance,\n    onboard,\n    resetOnboard,\n  } = useWeb3();\n\n  const getNetworkName = (id: any) => {\n    switch (Number(id)) {\n      case 5:\n        return \"Localhost\";\n      case 1:\n        return \"Mainnet\";\n      case 3:\n        return \"Ropsten\";\n      case 4:\n        return \"Rinkeby\";\n      // case 5:\n      //   return \"Goerli\";\n      case 6:\n        return \"Kotti\";\n      case 42:\n        return \"Kovan\";\n      case 61:\n        return \"Ethereum Classic - Mainnet\";\n      case 42220:\n        return \"CELO - Mainnet\";\n      case 44787:\n        return \"CELO - Alfajores Testnet\";\n      case 62320:\n        return \"CELO - Baklava Testnet\";\n      default:\n        return \"Other\";\n    }\n  };\n\n  const {\n    homeChainConfig,\n    setTransactionStatus,\n    setDepositNonce,\n    handleSetHomeChain,\n    homeChains,\n    setNetworkId,\n  } = useNetworkManager();\n\n  const [homeBridge, setHomeBridge] = useState<Bridge | undefined>(undefined);\n  const [relayerThreshold, setRelayerThreshold] = useState<number | undefined>(\n    undefined\n  );\n  const [bridgeFee, setBridgeFee] = useState<number | undefined>();\n\n  const [depositAmount, setDepositAmount] = useState<number | undefined>();\n  const [selectedToken, setSelectedToken] = useState<string>(\"\");\n\n  // Contracts\n  const [wrapper, setWrapper] = useState<Weth | undefined>(undefined);\n  const [wrapTokenConfig, setWrapperConfig] = useState<TokenConfig | undefined>(\n    undefined\n  );\n\n  useEffect(() => {\n    if (network) {\n      const chain = homeChains.find((chain) => chain.networkId === network);\n      setNetworkId(network);\n      if (chain) {\n        handleSetHomeChain(chain.chainId);\n      }\n    }\n  }, [handleSetHomeChain, homeChains, network, setNetworkId]);\n\n  const [initialising, setInitialising] = useState(false);\n  const [walletSelected, setWalletSelected] = useState(false);\n  useEffect(() => {\n    if (initialising || homeBridge || !onboard) return;\n    console.log(\"starting init\");\n    setInitialising(true);\n    if (!walletSelected) {\n      onboard\n        .walletSelect(\"metamask\")\n        .then((success) => {\n          setWalletSelected(success);\n          if (success) {\n            checkIsReady()\n              .then((success) => {\n                if (success) {\n                  if (homeChainConfig && network && isReady && provider) {\n                    const signer = provider.getSigner();\n                    if (!signer) {\n                      console.log(\"No signer\");\n                      setInitialising(false);\n                      return;\n                    }\n\n                    const bridge = BridgeFactory.connect(\n                      (homeChainConfig as EvmBridgeConfig).bridgeAddress,\n                      signer\n                    );\n                    setHomeBridge(bridge);\n\n                    const wrapperToken = homeChainConfig.tokens.find(\n                      (token) => token.isNativeWrappedToken\n                    );\n\n                    if (!wrapperToken) {\n                      setWrapperConfig(undefined);\n                      setWrapper(undefined);\n                    } else {\n                      setWrapperConfig(wrapperToken);\n                      const connectedWeth = WethFactory.connect(\n                        wrapperToken.address,\n                        signer\n                      );\n                      setWrapper(connectedWeth);\n                    }\n                  }\n                }\n              })\n              .catch((error) => {\n                console.error(error);\n              })\n              .finally(() => {\n                setInitialising(false);\n              });\n          }\n        })\n        .catch((error) => {\n          setInitialising(false);\n          console.error(error);\n        });\n    } else {\n      checkIsReady()\n        .then((success) => {\n          if (success) {\n            if (homeChainConfig && network && isReady && provider) {\n              const signer = provider.getSigner();\n              if (!signer) {\n                console.log(\"No signer\");\n                setInitialising(false);\n                return;\n              }\n\n              const bridge = BridgeFactory.connect(\n                (homeChainConfig as EvmBridgeConfig).bridgeAddress,\n                signer\n              );\n              setHomeBridge(bridge);\n\n              const wrapperToken = homeChainConfig.tokens.find(\n                (token) => token.isNativeWrappedToken\n              );\n\n              if (!wrapperToken) {\n                setWrapperConfig(undefined);\n                setWrapper(undefined);\n              } else {\n                setWrapperConfig(wrapperToken);\n                const connectedWeth = WethFactory.connect(\n                  wrapperToken.address,\n                  signer\n                );\n                setWrapper(connectedWeth);\n              }\n            }\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        })\n        .finally(() => {\n          setInitialising(false);\n        });\n    }\n  }, [\n    initialising,\n    homeChainConfig,\n    isReady,\n    provider,\n    checkIsReady,\n    network,\n    homeBridge,\n    onboard,\n    walletSelected,\n  ]);\n\n  useEffect(() => {\n    const getRelayerThreshold = async () => {\n      if (homeBridge) {\n        const threshold = BigNumber.from(\n          await homeBridge._relayerThreshold()\n        ).toNumber();\n        setRelayerThreshold(threshold);\n      }\n    };\n    const getBridgeFee = async () => {\n      if (homeBridge) {\n        const bridgeFee = Number(utils.formatEther(await homeBridge._fee()));\n        setBridgeFee(bridgeFee);\n      }\n    };\n    getRelayerThreshold();\n    getBridgeFee();\n  }, [homeBridge]);\n\n  const handleConnect = useCallback(async () => {\n    if (wallet && wallet.connect && network) {\n      await onboard?.walletSelect(\"metamask\");\n      await wallet.connect();\n    }\n  }, [wallet, network, onboard]);\n\n  const handleCheckSupplies = useCallback(\n    async (\n      amount: number,\n      tokenAddress: string,\n      destinationChainId: number\n    ) => {\n      if (homeChainConfig) {\n        const destinationChain = chainbridgeConfig.chains.find(\n          (c) => c.chainId === destinationChainId\n        );\n        const token = homeChainConfig.tokens.find(\n          (token) => token.address === tokenAddress\n        );\n\n        if (destinationChain?.type === \"Ethereum\" && token) {\n          const hasSupplies = await hasTokenSupplies(\n            destinationChain,\n            tokens,\n            token,\n            amount,\n            tokenAddress\n          );\n          if (!hasSupplies) {\n            return false;\n          }\n        }\n        return true;\n      }\n    },\n    [homeChainConfig, tokens]\n  );\n\n  const deposit = useCallback(\n    async (\n      amount: number,\n      recipient: string,\n      tokenAddress: string,\n      destinationChainId: number\n    ) => {\n      if (!homeChainConfig || !homeBridge) {\n        console.error(\"Home bridge contract is not instantiated\");\n        return;\n      }\n      const signer = provider?.getSigner();\n      if (!address || !signer) {\n        console.log(\"No signer\");\n        return;\n      }\n\n      const destinationChain = chainbridgeConfig.chains.find(\n        (c) => c.chainId === destinationChainId\n      );\n      if (destinationChain?.type === \"Substrate\") {\n        recipient = `0x${Buffer.from(decodeAddress(recipient)).toString(\n          \"hex\"\n        )}`;\n      }\n      const token = homeChainConfig.tokens.find(\n        (token) => token.address === tokenAddress\n      );\n\n      if (!token) {\n        console.log(\"Invalid token selected\");\n        return;\n      }\n      setTransactionStatus(\"Initializing Transfer\");\n      setDepositAmount(amount);\n      setSelectedToken(tokenAddress);\n      const erc20 = Erc20DetailedFactory.connect(tokenAddress, signer);\n      const erc20Decimals = tokens[tokenAddress].decimals;\n\n      const data =\n        \"0x\" +\n        utils\n          .hexZeroPad(\n            // TODO Wire up dynamic token decimals\n            BigNumber.from(\n              utils.parseUnits(amount.toString(), erc20Decimals)\n            ).toHexString(),\n            32\n          )\n          .substr(2) + // Deposit Amount (32 bytes)\n        utils\n          .hexZeroPad(utils.hexlify((recipient.length - 2) / 2), 32)\n          .substr(2) + // len(recipientAddress) (32 bytes)\n        recipient.substr(2); // recipientAddress (?? bytes)\n\n      try {\n        const gasPriceCompatibility = await getPriceCompatibility(\n          provider,\n          homeChainConfig,\n          gasPrice\n        );\n\n        const currentAllowance = await erc20.allowance(\n          address,\n          (homeChainConfig as EvmBridgeConfig).erc20HandlerAddress\n        );\n\n        if (\n          Number(utils.formatUnits(currentAllowance, erc20Decimals)) < amount\n        ) {\n          if (\n            Number(utils.formatUnits(currentAllowance, erc20Decimals)) > 0 &&\n            resetAllowanceLogicFor.includes(tokenAddress)\n          ) {\n            //We need to reset the user's allowance to 0 before we give them a new allowance\n            //TODO Should we alert the user this is happening here?\n            await (\n              await erc20.approve(\n                (homeChainConfig as EvmBridgeConfig).erc20HandlerAddress,\n                BigNumber.from(utils.parseUnits(\"0\", erc20Decimals)),\n                {\n                  gasPrice: gasPriceCompatibility,\n                }\n              )\n            ).wait(1);\n          }\n          await (\n            await erc20.approve(\n              (homeChainConfig as EvmBridgeConfig).erc20HandlerAddress,\n              BigNumber.from(\n                utils.parseUnits(amount.toString(), erc20Decimals)\n              ),\n              {\n                gasPrice: gasPriceCompatibility,\n              }\n            )\n          ).wait(1);\n        }\n        homeBridge.once(\n          homeBridge.filters.Deposit(\n            destinationChainId,\n            token.resourceId,\n            null\n          ),\n          (destChainId, resourceId, depositNonce) => {\n            setDepositNonce(`${depositNonce.toString()}`);\n            setTransactionStatus(\"In Transit\");\n          }\n        );\n\n        await (\n          await homeBridge.deposit(destinationChainId, token.resourceId, data, {\n            gasPrice: gasPriceCompatibility,\n            value: utils.parseUnits((bridgeFee || 0).toString(), 18),\n          })\n        ).wait();\n\n        return Promise.resolve();\n      } catch (error) {\n        console.error(error);\n        setTransactionStatus(\"Transfer Aborted\");\n        setSelectedToken(tokenAddress);\n      }\n    },\n    [\n      homeBridge,\n      address,\n      bridgeFee,\n      homeChainConfig,\n      gasPrice,\n      provider,\n      setDepositNonce,\n      setTransactionStatus,\n      tokens,\n    ]\n  );\n\n  const wrapToken = async (value: number): Promise<string> => {\n    if (!wrapTokenConfig || !wrapper?.deposit || !homeChainConfig)\n      return \"not ready\";\n\n    try {\n      const gasPriceCompatibility = await getPriceCompatibility(\n        provider,\n        homeChainConfig,\n        gasPrice\n      );\n\n      const tx = await wrapper.deposit({\n        value: parseUnits(`${value}`, homeChainConfig.decimals),\n        gasPrice: gasPriceCompatibility,\n      });\n\n      await tx?.wait();\n      if (tx?.hash) {\n        return tx?.hash;\n      } else {\n        return \"\";\n      }\n    } catch (error) {\n      console.error(error);\n      return \"\";\n    }\n  };\n\n  const unwrapToken = async (value: number): Promise<string> => {\n    if (!wrapTokenConfig || !wrapper?.withdraw || !homeChainConfig)\n      return \"not ready\";\n\n    try {\n      const gasPriceCompatibility = await getPriceCompatibility(\n        provider,\n        homeChainConfig,\n        gasPrice\n      );\n\n      const tx = await wrapper.deposit({\n        value: parseUnits(`${value}`, homeChainConfig.decimals),\n        gasPrice: gasPriceCompatibility,\n      });\n\n      await tx?.wait();\n      if (tx?.hash) {\n        return tx?.hash;\n      } else {\n        return \"\";\n      }\n    } catch (error) {\n      console.error(error);\n      return \"\";\n    }\n  };\n\n  return (\n    <HomeBridgeContext.Provider\n      value={{\n        connect: handleConnect,\n        disconnect: async () => {\n          await resetOnboard();\n        },\n        getNetworkName,\n        bridgeFee,\n        deposit,\n        depositAmount,\n        selectedToken,\n        setDepositAmount,\n        setSelectedToken,\n        tokens,\n        relayerThreshold,\n        wrapTokenConfig,\n        wrapper,\n        wrapToken,\n        unwrapToken,\n        isReady,\n        chainConfig: homeChainConfig,\n        address,\n        nativeTokenBalance: ethBalance,\n        handleCheckSupplies,\n      }}\n    >\n      {children}\n    </HomeBridgeContext.Provider>\n  );\n};\n","export type TokenConfig = {\n  address: string;\n  name?: string;\n  symbol?: string;\n  imageUri?: string;\n  resourceId: string;\n  isNativeWrappedToken?: boolean;\n};\n\nexport type ChainType = \"Ethereum\" | \"Substrate\";\n\nexport type BridgeConfig = {\n  networkId?: number;\n  chainId: number;\n  name: string;\n  rpcUrl: string;\n  type: ChainType;\n  tokens: TokenConfig[];\n  nativeTokenSymbol: string;\n  decimals: number;\n};\n\nexport type EvmBridgeConfig = BridgeConfig & {\n  bridgeAddress: string;\n  erc20HandlerAddress: string;\n  type: \"Ethereum\";\n  //This should be the full path to display a tx hash, without the trailing slash, ie. https://etherscan.io/tx\n  blockExplorer?: string;\n  defaultGasPrice?: number;\n  deployedBlockNumber?: number;\n};\n\nexport type SubstrateBridgeConfig = BridgeConfig & {\n  type: \"Substrate\";\n  chainbridgePalletName: string;\n  bridgeFeeFunctionName?: string; // If this value is provided, the chain value will be used will be used\n  bridgeFeeValue?: number; // If the above value is not provided, this value will be used for the fee. No scaling should be applied.\n  transferPalletName: string;\n  transferFunctionName: string;\n  typesFileName: string;\n};\n\nexport type ChainbridgeConfig = {\n  chains: Array<EvmBridgeConfig | SubstrateBridgeConfig>;\n};\n\nexport const chainbridgeConfig: ChainbridgeConfig = {\n  // Local GETH <> Local Substrate\n  chains: [\n    {\n      chainId: +((process.env\n        .REACT_APP_ETHEREUM_CHAIN_ID as unknown) as number),\n      networkId: +((process.env\n        .REACT_APP_ETHEREUM_NETWORK_ID as unknown) as number),\n      name: process.env.REACT_APP_ETHEREUM_NETWORK_NAME as string,\n      decimals: 18,\n      bridgeAddress: process.env.REACT_APP_ETHEREUM_BRIDGE_ADDRESS as string,\n      erc20HandlerAddress: process.env\n        .REACT_APP_ETHEREUM_ERC20_HANDLER_ADDRESS as string,\n      rpcUrl: process.env.REACT_APP_ETHEREUM_RPC_URL as string,\n      type: \"Ethereum\",\n      nativeTokenSymbol: \"ETH\",\n      tokens: [\n        {\n          address: process.env.REACT_APP_ETHEREUM_ERC20_TOKEN_ADDRESS as string,\n          name: process.env.REACT_APP_ETHEREUM_ERC20_NAME as string,\n          symbol: process.env.REACT_APP_ETHEREUM_ERC20_SYMBOL as string,\n          // imageUri: ATAIcon,\n          resourceId: process.env.REACT_APP_ETHEREUM_RESOURCE_ID as string,\n        },\n      ],\n    },\n    {\n      chainId: +((process.env\n        .REACT_APP_ATA_BRIDGECHAIN_ID as unknown) as number),\n      networkId: +((process.env.REACT_APP_ATA_NETWORK_ID as unknown) as number),\n      name: process.env.REACT_APP_ATA_NETWORK_NAME as string,\n      decimals: 18,\n      rpcUrl: process.env.REACT_APP_ATA_RPC_URL as string,\n      type: \"Substrate\",\n      nativeTokenSymbol: \"ATA\",\n      chainbridgePalletName: \"chainBridge\",\n      bridgeFeeValue: 0,\n      transferPalletName: \"bridgeTransfer\",\n      transferFunctionName: \"transfer_native\",\n      typesFileName: \"bridgeTypes.json\",\n      tokens: [\n        {\n          address: process.env.REACT_APP_ETHEREUM_ERC20_TOKEN_ADDRESS as string,\n          name: process.env.REACT_APP_ETHEREUM_ERC20_NAME as string,\n          symbol: process.env.REACT_APP_ETHEREUM_ERC20_SYMBOL as string,\n          // imageUri: ATAIcon,\n          resourceId: process.env.REACT_APP_ETHEREUM_RESOURCE_ID as string,\n        },\n      ],\n    },\n  ],\n};\n","module.exports = __webpack_public_path__ + \"static/media/eth.9b4c5748.svg\";","module.exports = __webpack_public_path__ + \"static/media/weth.802c6eac.svg\";","module.exports = __webpack_public_path__ + \"static/media/dai.15edf859.svg\";","module.exports = __webpack_public_path__ + \"static/media/cusd.45c5902a.svg\";","var map = {\n\t\"./ChainBridgeAPI\": [\n\t\t552,\n\t\t9\n\t],\n\t\"./ChainBridgeAPI.tsx\": [\n\t\t552,\n\t\t9\n\t],\n\t\"./bridgeTypes\": [\n\t\t1311,\n\t\t3,\n\t\t14\n\t],\n\t\"./bridgeTypes.json\": [\n\t\t1311,\n\t\t3,\n\t\t14\n\t],\n\t\"./centrifuge-types\": [\n\t\t1312,\n\t\t9,\n\t\t12\n\t],\n\t\"./centrifuge-types.ts\": [\n\t\t1312,\n\t\t9,\n\t\t12\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1599;\nmodule.exports = webpackAsyncContext;","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport { Drawer, IDrawerProps } from \"@chainsafe/common-components\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles(({ constants, palette }: ITheme) =>\n  createStyles({\n    root: {\n      backgroundColor: `${palette.additional[\"gray\"][9]} !important`,\n      color: palette.common.white.main,\n      border: \"none\",\n      padding: `${constants.generalUnit * 3}px ${constants.generalUnit * 4}px`,\n    },\n    backdrop: {\n      backgroundColor: `${palette.additional[\"gray\"][9]} !important`,\n      opacity: `0.6 !important`,\n    },\n  })\n);\n\ninterface ICustomDrawerProps extends IDrawerProps {}\n\nconst CustomDrawer: React.FC<ICustomDrawerProps> = ({\n  children,\n  className,\n  ...rest\n}: ICustomDrawerProps) => {\n  const classes = useStyles();\n\n  return (\n    <Drawer\n      classNames={{\n        backdrop: classes.backdrop,\n      }}\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      {children}\n    </Drawer>\n  );\n};\n\nexport default CustomDrawer;\n","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport CustomDrawer from \"../Components/Custom/CustomDrawer\";\nimport { Button, Typography } from \"@chainsafe/common-components\";\n\nconst useStyles = makeStyles(({ constants }: ITheme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n    },\n    buttons: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      \"& *\": {\n        marginRight: constants.generalUnit,\n        textDecoration: \"none\",\n      },\n    },\n  })\n);\n\ninterface IAboutDrawerProps {\n  open: boolean;\n  close: () => void;\n}\n\nconst AboutDrawer: React.FC<IAboutDrawerProps> = ({\n  open,\n  close,\n}: IAboutDrawerProps) => {\n  const classes = useStyles();\n\n  return (\n    <CustomDrawer onClose={close} open={open} className={classes.root}>\n      <Typography variant=\"h1\" component=\"h4\">\n        What is ChainBridge?\n      </Typography>\n      <Typography component=\"p\" variant=\"h5\">\n        ChainBridge is a modular multi-directional blockchain bridge to allow\n        data and value transfer between any number of blockchains. This should\n        enable users to specify a destination blockchain from their source\n        chain, and send data to that blockchain for consumption on the\n        destination chain. <br />\n        <br />\n        This could be a token that is locked on ChainA and redeemed on ChainB,\n        or an operation that is executed on a destination chain and initiated on\n        the source chain.\n      </Typography>\n      <section className={classes.buttons}>\n        <Button onClick={() => close()} variant=\"outline\">\n          OK\n        </Button>\n        <a\n          rel=\"noopener noreferrer\"\n          href={process.env.REACT_APP_SUPPORT_URL}\n          target=\"_blank\"\n        >\n          <Button variant=\"outline\">\n            Ask a question on {process.env.REACT_APP_SUPPORT_SERVICE}\n          </Button>\n        </a>\n      </section>\n    </CustomDrawer>\n  );\n};\n\nexport default AboutDrawer;\n","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport CustomDrawer from \"../Components/Custom/CustomDrawer\";\nimport { Button, Typography } from \"@chainsafe/common-components\";\nimport { useNetworkManager } from \"../Contexts/NetworkManagerContext\";\nimport { useHomeBridge } from \"../Contexts/HomeBridgeContext\";\nimport { useDestinationBridge } from \"../Contexts/DestinationBridgeContext\";\n\nconst useStyles = makeStyles(({ constants }: ITheme) =>\n  createStyles({\n    root: {},\n    buttons: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      \"& > *\": {\n        marginTop: constants.generalUnit * 2,\n        marginRight: constants.generalUnit,\n        textDecoration: \"none\",\n      },\n    },\n    paragraph: {\n      margin: `${constants.generalUnit * 3}px 0`,\n    },\n  })\n);\n\ninterface IChangeNetworkDrawerProps {\n  open: boolean;\n  close: () => void;\n}\n\nconst ChangeNetworkDrawer: React.FC<IChangeNetworkDrawerProps> = ({\n  open,\n  close,\n}) => {\n  const classes = useStyles();\n\n  const {\n    setWalletType,\n    handleSetHomeChain,\n    setDestinationChain,\n  } = useNetworkManager();\n  const { disconnect } = useHomeBridge();\n  const destinationBridge = useDestinationBridge();\n\n  return (\n    <CustomDrawer open={open} className={classes.root}>\n      <Typography variant=\"h3\" component=\"h2\">\n        Changing Networks\n      </Typography>\n      <Typography className={classes.paragraph} component=\"p\" variant=\"h5\">\n        To change networks, please open your browser wallet and change networks\n        there. If your wallet does not support your desired home network, please\n        connect a different wallet. <br />\n        <br />\n        Note: your transfer settings will be reset.\n      </Typography>\n      <section className={classes.buttons}>\n        <Button onClick={close} variant=\"outline\">\n          OK\n        </Button>\n        <Button\n          onClick={async () => {\n            // TODO: trigger unsubscribes & clear all state\n            await Promise.all([destinationBridge.disconnect(), disconnect()]);\n            handleSetHomeChain(undefined);\n            setDestinationChain(undefined);\n            setWalletType(\"select\");\n          }}\n          variant=\"outline\"\n        >\n          Connect different wallet\n        </Button>\n        <a\n          rel=\"noopener noreferrer\"\n          href={process.env.REACT_APP_SUPPORT_URL}\n          target=\"_blank\"\n        >\n          <Button variant=\"outline\">\n            Ask a question on {process.env.REACT_APP_SUPPORT_SERVICE}\n          </Button>\n        </a>\n      </section>\n    </CustomDrawer>\n  );\n};\n\nexport default ChangeNetworkDrawer;\n","const { decodeAddress, encodeAddress } = require(\"@polkadot/keyring\");\nconst { hexToU8a, isHex } = require(\"@polkadot/util\");\n\nexport const shortenAddress = (address: string) => {\n  return `${address.substr(0, 6)}...${address.substr(address.length - 6, 6)}`;\n};\n\nexport const isValidSubstrateAddress = (address: string) => {\n  try {\n    encodeAddress(isHex(address) ? hexToU8a(address) : decodeAddress(address));\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport CustomDrawer from \"../Components/Custom/CustomDrawer\";\nimport { Button, Typography } from \"@chainsafe/common-components\";\nimport { shortenAddress } from \"../Utils/Helpers\";\n\nconst useStyles = makeStyles(({ constants, palette, zIndex }: ITheme) =>\n  createStyles({\n    root: {\n      zIndex: zIndex?.blocker,\n      position: \"absolute\",\n      \"& li\": {\n        position: \"relative\",\n        padding: `${constants.generalUnit}px 0 ${constants.generalUnit}px ${\n          constants.generalUnit * 8\n        }px`,\n        \"&:before\": {\n          content: \"''\",\n          display: \"block\",\n          backgroundColor: palette.additional[\"gray\"][2],\n          height: constants.generalUnit,\n          width: constants.generalUnit,\n          borderRadius: \"50%\",\n          position: \"absolute\",\n          top: \"50%\",\n          left: constants.generalUnit * 4,\n          transform: \"translate(-50%, -50%)\",\n        },\n      },\n    },\n    subtitle: {\n      margin: `${constants.generalUnit * 2}px 0`,\n    },\n    agreement: {\n      margin: `${constants.generalUnit * 2}px 0`,\n    },\n    startButton: {\n      backgroundColor: palette.additional[\"preflight\"][1],\n      color: palette.additional[\"preflight\"][2],\n      marginBottom: constants.generalUnit * 2,\n    },\n    backdrop: {\n      position: \"absolute\",\n      zIndex: zIndex?.layer4,\n    },\n  })\n);\n\ninterface IPreflightModalTransferProps {\n  open: boolean;\n  close: () => void;\n  sender: string;\n  receiver: string;\n  value: number;\n  tokenSymbol: string;\n  sourceNetwork: string;\n  targetNetwork: string;\n  start: () => void;\n}\n\nconst PreflightModalTransfer: React.FC<IPreflightModalTransferProps> = ({\n  open,\n  close,\n  receiver,\n  sender,\n  sourceNetwork,\n  targetNetwork,\n  tokenSymbol,\n  value,\n  start,\n}: IPreflightModalTransferProps) => {\n  const classes = useStyles();\n\n  return (\n    <CustomDrawer\n      className={classes.root}\n      classNames={{\n        backdrop: classes.backdrop,\n      }}\n      size={430}\n      open={open}\n    >\n      <Typography variant=\"h3\" component=\"h2\">\n        Pre-flight check\n      </Typography>\n      <Typography className={classes.subtitle} variant=\"h5\" component=\"p\">\n        Please be advised this is an experimental application:\n      </Typography>\n      <ul>\n        <li>\n          <Typography variant=\"h5\">\n            You will not be able to cancel the transaction once you submit it.\n          </Typography>\n        </li>\n        <li>\n          <Typography variant=\"h5\">\n            Your transaction could get stuck for an indefinite amount of time\n          </Typography>\n        </li>\n        <li>\n          <Typography variant=\"h5\">\n            Funds cannot be returned if they are sent to the wrong address.\n          </Typography>\n        </li>\n        <li>\n          <Typography variant=\"h5\">\n            The transaction fee may be higher than expected.\n          </Typography>\n        </li>\n      </ul>\n      <Typography className={classes.agreement} variant=\"h5\" component=\"p\">\n        I agree and want to send{\" \"}\n        <strong>\n          {value} {tokenSymbol}\n        </strong>{\" \"}\n        from&nbsp;\n        <strong>{shortenAddress(sender)}</strong> on{\" \"}\n        <strong>{sourceNetwork}</strong> to&nbsp;\n        <strong>{shortenAddress(receiver)}</strong> on{\" \"}\n        <strong>{targetNetwork}</strong>.\n      </Typography>\n      <Button onClick={start} className={classes.startButton} fullsize>\n        Start Transfer\n      </Button>\n      <Button onClick={close}>Back</Button>\n    </CustomDrawer>\n  );\n};\n\nexport default PreflightModalTransfer;\n","import React, { useCallback, useState } from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport {\n  CheckboxInput,\n  FormikTextInputProps,\n  TextInput,\n} from \"@chainsafe/common-components\";\nimport clsx from \"clsx\";\nimport { useField } from \"formik\";\n\nconst useStyles = makeStyles(({ constants }: ITheme) =>\n  createStyles({\n    root: {},\n    input: {\n      margin: 0,\n      width: \"100%\",\n    },\n    label: {\n      marginBottom: constants.generalUnit,\n    },\n    checkbox: {\n      marginTop: constants.generalUnit * 3,\n    },\n  })\n);\n\ninterface IAddressInput extends FormikTextInputProps {\n  senderAddress: string;\n  classNames?: {\n    input?: string;\n  };\n  sendToSameAccountHelper?: boolean;\n}\n\nconst AddressInput: React.FC<IAddressInput> = ({\n  classNames,\n  senderAddress,\n  className,\n  inputVariant = \"default\",\n  type = \"text\",\n  placeholder,\n  name,\n  size,\n  label,\n  labelClassName,\n  captionMessage,\n  sendToSameAccountHelper = false,\n  ...rest\n}: IAddressInput) => {\n  const classes = useStyles();\n  const [field, meta, helpers] = useField(name);\n\n  const [stored, setStored] = useState<string | undefined>();\n\n  const toggleReceiver = useCallback(() => {\n    if (stored === undefined) {\n      setStored(field.value);\n      helpers.setValue(senderAddress);\n    } else {\n      helpers.setValue(stored);\n      setStored(undefined);\n    }\n  }, [helpers, field, senderAddress, stored, setStored]);\n\n  return (\n    <section className={clsx(classes.root, className)}>\n      <div>\n        <TextInput\n          {...rest}\n          label={label ? label : field.name}\n          inputVariant={inputVariant}\n          type={type}\n          size={size}\n          className={clsx(classNames?.input, classes.input)}\n          labelClassName={clsx(labelClassName, classes.label)}\n          name={field.name}\n          value={field.value}\n          placeholder={placeholder}\n          captionMessage={\n            meta.error ? `${meta.error}` : captionMessage && captionMessage\n          }\n          state={meta.error ? \"error\" : undefined}\n          onChange={helpers.setValue}\n          disabled={stored !== undefined}\n        />\n      </div>\n      {sendToSameAccountHelper && (\n        <div className={classes.checkbox}>\n          <CheckboxInput\n            label=\"I want to send funds to my address\"\n            value={stored !== undefined}\n            onChange={() => toggleReceiver()}\n          />\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default AddressInput;\n","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport { IModalProps, Modal } from \"@chainsafe/common-components\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles(({ constants }: ITheme) =>\n  createStyles({\n    root: {\n      height: `100% !important`,\n      borderTopLeftRadius: constants.generalUnit / 2,\n      borderTopRightRadius: constants.generalUnit / 2,\n      overflow: \"hidden\",\n      position: \"absolute\",\n    },\n  })\n);\n\ninterface ICustomModalProps extends IModalProps {}\n\nconst CustomModal: React.FC<ICustomModalProps> = ({\n  children,\n  className,\n  ...rest\n}: ICustomModalProps) => {\n  const classes = useStyles();\n\n  return (\n    <Modal className={clsx(classes.root, className)} {...rest}>\n      {children}\n    </Modal>\n  );\n};\n\nexport default CustomModal;\n","import React from \"react\";\nimport { createStyles, ITheme, makeStyles } from \"@chainsafe/common-theme\";\nimport { useChainbridge } from \"../Contexts/ChainbridgeContext\";\nimport { useNetworkManager } from \"../Contexts/NetworkManagerContext\";\nimport {\n  Button,\n  Modal,\n  ProgressBar,\n  Typography,\n} from \"@chainsafe/common-components\";\n\nconst useStyles = makeStyles(({ constants, palette, zIndex }: ITheme) => {\n  return createStyles({\n    root: {},\n    slide: {\n      borderRadius: constants.generalUnit / 2,\n      padding: `${constants.generalUnit}px ${constants.generalUnit * 2}px`,\n      \"& > p\": {\n        marginTop: constants.generalUnit * 2,\n        marginBottom: constants.generalUnit * 3,\n        textAlign: \"center\",\n      },\n    },\n    buttons: {\n      marginBottom: constants.generalUnit * 2,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-around\",\n    },\n  });\n});\n\nconst NetworkSelectModal = () => {\n  const classes = useStyles();\n  const { isReady } = useChainbridge();\n  const { walletType, setWalletType } = useNetworkManager();\n\n  return (\n    <Modal\n      active={walletType !== \"unset\" && walletType !== \"Ethereum\" && !isReady}\n      closePosition=\"right\"\n      className={classes.root}\n      injectedClass={{\n        inner: classes.slide,\n      }}\n    >\n      {walletType === \"select\" && (\n        <>\n          <Typography variant=\"h3\" component=\"p\">\n            Please select a wallet type\n          </Typography>\n          <section className={classes.buttons}>\n            <Button onClick={() => setWalletType(\"Ethereum\")}>\n              Use Ethereum wallet\n            </Button>\n            <Button onClick={() => setWalletType(\"Substrate\")}>\n              Use Substrate wallet\n            </Button>\n          </section>\n        </>\n      )}\n      {walletType === \"Substrate\" && (\n        <>\n          <Typography variant=\"h2\" component=\"p\">\n            Connecting to node\n          </Typography>\n          <ProgressBar size=\"small\" variant=\"primary\" />\n        </>\n      )}\n    </Modal>\n  );\n};\n\nexport default NetworkSelectModal;\n","import React, { useCallback, useContext } from \"react\";\nimport {\n  BridgeConfig,\n  chainbridgeConfig,\n  TokenConfig,\n} from \"../chainbridgeConfig\";\nimport { Tokens } from \"@chainsafe/web3-context/dist/context/tokensReducer\";\nimport {\n  TransactionStatus,\n  useNetworkManager,\n  Vote,\n} from \"./NetworkManagerContext\";\nimport { useHomeBridge } from \"./HomeBridgeContext\";\nimport NetworkSelectModal from \"../Modules/NetworkSelectModal\";\n\ninterface IChainbridgeContextProps {\n  children: React.ReactNode | React.ReactNode[];\n}\n\ntype ChainbridgeContext = {\n  homeConfig: BridgeConfig | undefined;\n  connect: () => Promise<void>;\n  handleSetHomeChain: (chainId: number) => void;\n  setDestinationChain: (chainId: number | undefined) => void;\n  destinationChains: Array<{ chainId: number; name: string }>;\n  destinationChainConfig?: BridgeConfig;\n  deposit(\n    amount: number,\n    recipient: string,\n    tokenAddress: string\n  ): Promise<void>;\n  resetDeposit(): void;\n  depositVotes: number;\n  relayerThreshold?: number;\n  depositNonce?: string;\n  depositAmount?: number;\n  bridgeFee?: number;\n  inTransitMessages: Array<string | Vote>;\n  transferTxHash?: string;\n  selectedToken?: string;\n  transactionStatus?: TransactionStatus;\n  wrapToken: (value: number) => Promise<string>;\n  unwrapToken: (value: number) => Promise<string>;\n  wrapTokenConfig: TokenConfig | undefined;\n  tokens: Tokens;\n  nativeTokenBalance: number | undefined;\n  isReady: boolean | undefined;\n  address: string | undefined;\n  chainId?: number;\n  checkSupplies?: (\n    amount: number,\n    tokenAddress: string,\n    destinationChainId: number\n  ) => Promise<boolean | undefined>;\n};\n\nconst ChainbridgeContext = React.createContext<ChainbridgeContext | undefined>(\n  undefined\n);\n\nconst ChainbridgeProvider = ({ children }: IChainbridgeContextProps) => {\n  const {\n    handleSetHomeChain,\n    destinationChainConfig,\n    setTransactionStatus,\n    setDestinationChain,\n    setDepositNonce,\n    setDepositVotes,\n    transferTxHash,\n    inTransitMessages,\n    tokensDispatch,\n    transactionStatus,\n    depositNonce,\n    depositVotes,\n    homeChainConfig,\n    destinationChains,\n    chainId,\n  } = useNetworkManager();\n\n  const {\n    connect,\n    setDepositAmount,\n    setSelectedToken,\n    chainConfig,\n    deposit,\n    relayerThreshold,\n    nativeTokenBalance,\n    address,\n    selectedToken,\n    bridgeFee,\n    depositAmount,\n    isReady,\n    wrapTokenConfig,\n    tokens,\n    wrapToken,\n    unwrapToken,\n    handleCheckSupplies,\n  } = useHomeBridge();\n\n  const resetDeposit = () => {\n    chainbridgeConfig.chains.length > 2 && setDestinationChain(undefined);\n    setTransactionStatus(undefined);\n    setDepositNonce(undefined);\n    setDepositVotes(0);\n    setDepositAmount(undefined);\n    tokensDispatch({\n      type: \"resetMessages\",\n    });\n    setSelectedToken(\"\");\n  };\n\n  const handleDeposit = useCallback(\n    async (amount: number, recipient: string, tokenAddress: string) => {\n      if (chainConfig && destinationChainConfig) {\n        return await deposit(\n          amount,\n          recipient,\n          tokenAddress,\n          destinationChainConfig.chainId\n        );\n      }\n    },\n    [deposit, destinationChainConfig, chainConfig]\n  );\n\n  const checkSupplies = async (\n    amount: number,\n    tokenAddress: string,\n    destinationChainId: number\n  ) => {\n    console.log(\"handleCheckSupplies\", handleCheckSupplies);\n    console.log(\"chainConfig\", chainConfig);\n    console.log(\"destinationChainConfig\", destinationChainConfig);\n\n    if (handleCheckSupplies && chainConfig && destinationChainConfig) {\n      return await handleCheckSupplies(\n        amount,\n        tokenAddress,\n        destinationChainId\n      );\n    }\n  };\n\n  return (\n    <ChainbridgeContext.Provider\n      value={{\n        homeConfig: homeChainConfig,\n        connect,\n        destinationChains,\n        handleSetHomeChain,\n        setDestinationChain,\n        resetDeposit,\n        deposit: handleDeposit,\n        destinationChainConfig,\n        depositVotes,\n        relayerThreshold,\n        depositNonce,\n        bridgeFee,\n        transactionStatus,\n        inTransitMessages,\n        depositAmount: depositAmount,\n        transferTxHash: transferTxHash,\n        selectedToken: selectedToken,\n        // TODO: Confirm if EVM specific\n        wrapToken,\n        wrapTokenConfig: wrapTokenConfig,\n        unwrapToken,\n        isReady: isReady,\n        nativeTokenBalance: nativeTokenBalance,\n        tokens,\n        address,\n        chainId,\n        checkSupplies,\n      }}\n    >\n      <NetworkSelectModal />\n      {children}\n    </ChainbridgeContext.Provider>\n  );\n};\n\nconst useChainbridge = () => {\n  const context = useContext(ChainbridgeContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useChainbridge must be called within a ChainbridgeProvider\"\n    );\n  }\n  return context;\n};\n\nexport { ChainbridgeProvider, useChainbridge };\n","import React from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport {\n  Button,\n  ExclamationCircleSvg,\n  ProgressBar,\n  Typography,\n} from \"@chainsafe/common-components\";\nimport CustomModal from \"../Components/Custom/CustomModal\";\nimport { useChainbridge } from \"../Contexts/ChainbridgeContext\";\n\nconst useStyles = makeStyles(\n  ({ animation, constants, palette, typography }: ITheme) =>\n    createStyles({\n      root: {\n        width: \"100%\",\n      },\n      inner: {\n        width: \"100% !important\",\n        maxWidth: \"unset !important\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        padding: `${constants.generalUnit * 5}px ${\n          constants.generalUnit * 3.5\n        }px`,\n        bottom: 0,\n        top: \"unset\",\n        transform: \"unset\",\n        left: 0,\n        border: \"none\",\n        borderRadius: 0,\n        transitionDuration: `${animation.transform}ms`,\n      },\n      heading: {\n        marginBottom: constants.generalUnit,\n        whiteSpace: \"nowrap\",\n      },\n      stepIndicator: {\n        ...typography.h4,\n        height: 40,\n        width: 40,\n        marginRight: constants.generalUnit * 2,\n        borderRadius: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        border: `1px solid ${palette.additional[\"transactionModal\"][2]}`,\n        color: palette.additional[\"transactionModal\"][3],\n        \"& svg\": {\n          height: 20,\n          width: 20,\n          display: \"block\",\n        },\n      },\n      content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n      },\n      buttons: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginTop: constants.generalUnit * 5,\n        \"& > *\": {\n          textDecoration: \"none\",\n          marginRight: constants.generalUnit,\n        },\n      },\n      button: {\n        borderColor: `${palette.additional[\"gray\"][8]} !important`,\n        color: `${palette.additional[\"gray\"][8]} !important`,\n        textDecoration: \"none\",\n        \"&:hover\": {\n          borderColor: `${palette.additional[\"gray\"][8]} !important`,\n          backgroundColor: `${palette.additional[\"gray\"][8]} !important`,\n          color: `${palette.common.white.main} !important`,\n          textDecoration: \"none\",\n        },\n      },\n      initCopy: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        \"& > *:first-child\": {\n          marginTop: constants.generalUnit * 3.5,\n          marginBottom: constants.generalUnit * 8,\n        },\n      },\n      sendingCopy: {},\n      vote: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginTop: constants.generalUnit,\n        \"& > *\": {\n          \"&:first-child\": {\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            maxWidth: 240,\n          },\n          \"&:last-child\": {\n            marginLeft: constants.generalUnit * 3.5,\n            fontStyle: \"italic\",\n          },\n        },\n      },\n      warning: {\n        marginTop: constants.generalUnit * 3.5,\n        display: \"block\",\n        fontWeight: 600,\n      },\n      receipt: {\n        marginTop: constants.generalUnit * 3.5,\n        marginBottom: constants.generalUnit * 8,\n      },\n      weighted: {\n        fontWeight: 600,\n      },\n      progress: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        \"& > *\": {\n          borderRadius: \"0 !important\",\n          \"&  >  *\": {\n            borderRadius: \"0 !important\",\n            background: `${palette.additional[\"transactionModal\"][1]} !important`,\n          },\n        },\n      },\n    })\n);\n\ninterface ITransferActiveModalProps {\n  open: boolean;\n  close: () => void;\n}\n\nconst TransferActiveModal: React.FC<ITransferActiveModalProps> = ({\n  open,\n  close,\n}: ITransferActiveModalProps) => {\n  const classes = useStyles();\n  const {\n    transactionStatus,\n    depositVotes,\n    relayerThreshold,\n    inTransitMessages,\n    homeConfig,\n    destinationChainConfig,\n    depositAmount,\n    selectedToken,\n    tokens,\n  } = useChainbridge();\n  const tokenSymbol = selectedToken && tokens[selectedToken]?.symbol;\n  return (\n    <CustomModal\n      className={classes.root}\n      injectedClass={{\n        inner: classes.inner,\n      }}\n      active={open}\n    >\n      <ProgressBar\n        className={classes.progress}\n        size=\"small\"\n        variant=\"primary\"\n        progress={transactionStatus !== \"Transfer Completed\" ? -1 : 100}\n      />\n      <section>\n        <div className={classes.stepIndicator}>\n          {transactionStatus === \"Initializing Transfer\" ? (\n            \"1\"\n          ) : transactionStatus === \"In Transit\" ? (\n            \"2\"\n          ) : transactionStatus === \"Transfer Completed\" ? (\n            \"3\"\n          ) : (\n            <ExclamationCircleSvg />\n          )}\n        </div>\n      </section>\n      <section className={classes.content}>\n        <Typography className={classes.heading} variant=\"h3\" component=\"h3\">\n          {transactionStatus === \"Initializing Transfer\"\n            ? \"Initializing Transfer\"\n            : transactionStatus === \"In Transit\"\n            ? `In Transit (${\n                depositVotes < (relayerThreshold || 0)\n                  ? `${depositVotes}/${relayerThreshold} signatures needed`\n                  : \"Executing proposal\"\n              })`\n            : transactionStatus === \"Transfer Completed\"\n            ? \"Transfer completed\"\n            : \"Transfer aborted\"}\n        </Typography>\n        {transactionStatus === \"Initializing Transfer\" ? (\n          <div className={classes.initCopy}>\n            <Typography>Deposit pending...</Typography>\n            <Typography className={classes.weighted}>\n              This should take a few minutes.\n              <br />\n              Please do not refresh or leave the page.\n            </Typography>\n          </div>\n        ) : transactionStatus === \"In Transit\" ? (\n          <div className={classes.sendingCopy}>\n            {inTransitMessages.map((m, i) => {\n              if (typeof m === \"string\") {\n                return (\n                  <Typography className={classes.vote} component=\"p\" key={i}>\n                    {m}\n                  </Typography>\n                );\n              } else {\n                return (\n                  <Typography className={classes.vote} component=\"p\" key={i}>\n                    <span>Vote casted by {m.address}</span>\n                    <span>{m.signed}</span>\n                  </Typography>\n                );\n              }\n            })}\n            <Typography className={classes.warning}>\n              This should take a few minutes. <br />\n              Please do not refresh or leave the page.\n            </Typography>\n          </div>\n        ) : transactionStatus === \"Transfer Completed\" ? (\n          <>\n            <Typography className={classes.receipt} component=\"p\">\n              Successfully transferred{\" \"}\n              <strong>\n                {depositAmount} {tokenSymbol}\n                <br /> from {homeConfig?.name} to {destinationChainConfig?.name}\n                .\n              </strong>\n            </Typography>\n            <section className={classes.buttons}>\n              {/* <Button\n                onClick={() =>\n                  destinationChainConfig &&\n                  (destinationChainConfig as EvmBridgeConfig).blockExplorer &&\n                  transferTxHash &&\n                  window.open(\n                    `${\n                      (destinationChainConfig as EvmBridgeConfig).blockExplorer\n                    }/${transferTxHash}`,\n                    \"_blank\"\n                  )\n                }\n                size=\"small\"\n                className={classes.button}\n                variant=\"outline\"\n                // disabled={\n                //   !destinationChain ||\n                //   !destinationChain.blockExplorer ||\n                //   !transferTxHash\n                // }\n              >\n                View transaction\n              </Button> */}\n              <Button\n                size=\"small\"\n                className={classes.button}\n                variant=\"outline\"\n                onClick={close}\n              >\n                Start new transfer\n              </Button>\n            </section>\n          </>\n        ) : (\n          <>\n            <Typography className={classes.receipt} component=\"p\">\n              Something went wrong and we could not complete your transfer.\n            </Typography>\n            {/* {homeConfig &&\n              (homeConfig as EvmBridgeConfig).blockExplorer &&\n              transferTxHash && (\n                <Button\n                  onClick={() =>\n                    window.open(\n                      `${\n                        (homeConfig as EvmBridgeConfig).blockExplorer\n                      }/${transferTxHash}`,\n                      \"_blank\"\n                    )\n                  }\n                  size=\"small\"\n                  className={classes.button}\n                  variant=\"outline\"\n                  disabled\n                >\n                  View transaction\n                </Button>\n              )} */}\n            <section className={classes.buttons}>\n              <Button\n                size=\"small\"\n                className={classes.button}\n                variant=\"outline\"\n                onClick={close}\n              >\n                Start new transfer\n              </Button>\n              <a\n                rel=\"noopener noreferrer\"\n                href={process.env.REACT_APP_SUPPORT_URL}\n                target=\"_blank\"\n              >\n                <Button variant=\"outline\">\n                  Ask a question on {process.env.REACT_APP_SUPPORT_SERVICE}\n                </Button>\n              </a>\n            </section>\n          </>\n        )}\n      </section>\n    </CustomModal>\n  );\n};\n\nexport default TransferActiveModal;\n","import React, { useEffect, useState } from \"react\";\nimport { useField } from \"formik\";\nimport {\n  IFormikSelectInputProps,\n  FormikSelectInput,\n} from \"@chainsafe/common-components\";\nimport { Tokens } from \"@chainsafe/web3-context/dist/context/tokensReducer\";\n\ninterface ITokenSelectInput extends IFormikSelectInputProps {\n  tokens: Tokens;\n  sync?: (value: string) => void;\n}\n\nconst TokenSelectInput: React.FC<ITokenSelectInput> = ({\n  className,\n  label,\n  name,\n  tokens,\n  sync,\n  ...rest\n}: ITokenSelectInput) => {\n  const [field, , helpers] = useField(name);\n  const labelParsed = tokens[field.value]\n    ? `${label} ${tokens[field.value]?.balance} ${tokens[field.value]?.symbol}`\n    : \"Please select token\";\n\n  const [synced, setSynced] = useState();\n  useEffect(() => {\n    if (sync && field.value !== synced) {\n      setSynced(field.value);\n      if (field.value !== \"\") {\n        sync(field.value);\n      }\n    }\n    // eslint-disable-next-line\n  }, [field]);\n\n  useEffect(() => {\n    // If there is only one token, auto select\n    if (Object.keys(tokens).length === 1 && field.value === \"\") {\n      helpers.setValue(Object.keys(tokens)[0]);\n    }\n  }, [tokens, helpers, field.value]);\n\n  return (\n    <FormikSelectInput\n      name={name}\n      className={className}\n      label={labelParsed}\n      {...rest}\n    />\n  );\n};\n\nexport default TokenSelectInput;\n","import React from \"react\";\n\nimport { useField, useFormikContext } from \"formik\";\nimport { Button, FormikTextInput } from \"@chainsafe/common-components\";\nimport { Tokens } from \"@chainsafe/web3-context/dist/context/tokensReducer\";\n\ninterface ITokenInput {\n  disabled?: boolean;\n  label: string;\n  name: string;\n  tokens: Tokens;\n  tokenSelectorKey: string;\n  classNames?: {\n    input?: string;\n    button?: string;\n  };\n}\n\nconst TokenInput: React.FC<ITokenInput> = ({\n  classNames,\n  disabled,\n  label,\n  tokens,\n  tokenSelectorKey,\n  name,\n}: ITokenInput) => {\n  const [, , helpers] = useField(name);\n\n  const { values } = useFormikContext();\n  return (\n    <>\n      <FormikTextInput\n        className={classNames?.input}\n        disabled={disabled}\n        name={name}\n        label={label}\n      />\n      <Button\n        disabled={\n          disabled || !tokens[(values as Record<string, any>)[tokenSelectorKey]]\n        }\n        className={classNames?.button}\n        onClick={() => {\n          helpers.setValue(\n            tokens[(values as Record<string, any>)[tokenSelectorKey]].balance\n          );\n        }}\n        variant=\"outline\"\n        type=\"button\"\n      >\n        MAX\n      </Button>\n    </>\n  );\n};\n\nexport default TokenInput;\n","import React from \"react\";\n\nimport { Typography } from \"@chainsafe/common-components\";\nimport { useFormikContext } from \"formik\";\n\ninterface IFeesFormikWrapped {\n  className?: string;\n  symbol?: string;\n  fee?: number;\n  feeSymbol?: string;\n  amountFormikName: string;\n}\n\nconst FeesFormikWrapped: React.FC<IFeesFormikWrapped> = ({\n  className,\n  symbol,\n  fee,\n  feeSymbol,\n  amountFormikName,\n}: IFeesFormikWrapped) => {\n  const { values } = useFormikContext();\n\n  return (\n    <section className={className}>\n      {fee !== undefined && feeSymbol !== undefined && (\n        <>\n          <Typography component=\"p\">Bridge Fee</Typography>\n          <Typography component=\"p\">\n            {fee} {feeSymbol}\n          </Typography>\n        </>\n      )}\n      {symbol !== undefined && (\n        <>\n          <Typography component=\"p\">Transfer Amount:</Typography>\n          <Typography component=\"p\">\n            {Number((values as Record<string, any>)[amountFormikName])?.toFixed(\n              3\n            )}{\" \"}\n            {symbol}\n          </Typography>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default FeesFormikWrapped;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport CustomModal from \"../Components/Custom/CustomModal\";\nimport {\n  Button,\n  ExclamationCircleInverseSvg,\n  Typography,\n  useLocation,\n} from \"@chainsafe/common-components\";\nimport { useNetworkManager } from \"../Contexts/NetworkManagerContext\";\nimport { ROUTE_LINKS } from \"../Components/Routes\";\nimport { useHomeBridge } from \"../Contexts/HomeBridgeContext\";\nimport { chainbridgeConfig } from \"../chainbridgeConfig\";\n\nconst useStyles = makeStyles(({ constants, palette }: ITheme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n    },\n    inner: {\n      width: \"100% !important\",\n      maxWidth: \"unset !important\",\n      borderRadius: \"4px\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      padding: `${constants.generalUnit * 6}px ${constants.generalUnit * 7}px`,\n    },\n    heading: {\n      marginBottom: constants.generalUnit,\n    },\n    icon: {\n      height: 20,\n      width: 20,\n      marginTop: constants.generalUnit * 0.8,\n      marginRight: constants.generalUnit * 2,\n      fill: palette.additional[\"gray\"][7],\n    },\n    buttons: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      marginTop: constants.generalUnit * 5,\n      \"& > *\": {\n        textDecoration: \"none\",\n        marginRight: constants.generalUnit,\n      },\n    },\n    button: {\n      borderColor: palette.additional[\"gray\"][8],\n      color: palette.additional[\"gray\"][8],\n      \"&:hover\": {\n        borderColor: palette.additional[\"gray\"][8],\n        backgroundColor: palette.additional[\"gray\"][8],\n        color: palette.common.white.main,\n      },\n    },\n  })\n);\n\nconst NetworkUnsupportedModal = () => {\n  const classes = useStyles();\n  const { homeChainConfig, networkId } = useNetworkManager();\n  const { getNetworkName, wrapTokenConfig, isReady } = useHomeBridge();\n  const { pathname } = useLocation();\n\n  const [open, setOpen] = useState(false);\n  const [supportedNetworks, setSupportedNetworks] = useState<number[]>([]);\n\n  useEffect(() => {\n    if (pathname === ROUTE_LINKS.Transfer) {\n      setOpen(!homeChainConfig && !!isReady);\n      setSupportedNetworks(\n        chainbridgeConfig.chains\n          .filter((bc) => bc.networkId !== undefined)\n          .map((bc) => Number(bc.networkId))\n      );\n      // } else if (pathname === ROUTE_LINKS.Wrap) {\n      //   setOpen(!wrapTokenConfig && !!isReady);\n      //   setSupportedNetworks(\n      //     chainbridgeConfig.chains\n      //       .filter((bc) => bc.networkId !== undefined)\n      //       .filter((bc) => bc.tokens.find((t) => t.isNativeWrappedToken))\n      //       .map((bc) => Number(bc.networkId))\n      //   );\n    } else {\n      setOpen(false);\n      setSupportedNetworks([]);\n    }\n  }, [pathname, setOpen, homeChainConfig, isReady, wrapTokenConfig]);\n\n  return (\n    <CustomModal\n      className={classes.root}\n      injectedClass={{\n        inner: classes.inner,\n      }}\n      active={open}\n    >\n      <section>\n        <ExclamationCircleInverseSvg className={classes.icon} />\n      </section>\n      <section>\n        <Typography className={classes.heading} variant=\"h3\" component=\"h3\">\n          Network Unsupported\n        </Typography>\n        <Typography component=\"p\" variant=\"body1\">\n          This app does not currently support transfers on{\" \"}\n          {getNetworkName(networkId)}. Please change networks from within your\n          browser wallet.\n        </Typography>\n        <br />\n        <Typography component=\"p\" variant=\"body1\">\n          This app is configured to work on{\" \"}\n          {supportedNetworks.map(\n            (n, i) =>\n              `${getNetworkName(n)}${\n                i < supportedNetworks.length - 1 ? \", \" : \"\"\n              }`\n          )}{\" \"}\n          networks\n        </Typography>\n        <section className={classes.buttons}>\n          <a\n            rel=\"noopener noreferrer\"\n            href={process.env.REACT_APP_SUPPORT_URL}\n            target=\"_blank\"\n          >\n            <Button variant=\"outline\">\n              Ask a question on {process.env.REACT_APP_SUPPORT_SERVICE}\n            </Button>\n          </a>\n        </section>\n      </section>\n    </CustomModal>\n  );\n};\n\nexport default NetworkUnsupportedModal;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles, createStyles, ITheme } from \"@chainsafe/common-theme\";\nimport AboutDrawer from \"../../Modules/AboutDrawer\";\nimport ChangeNetworkDrawer from \"../../Modules/ChangeNetworkDrawer\";\nimport PreflightModalTransfer from \"../../Modules/PreflightModalTransfer\";\nimport {\n  Button,\n  Typography,\n  QuestionCircleSvg,\n  SelectInput,\n} from \"@chainsafe/common-components\";\nimport { Form, Formik } from \"formik\";\nimport AddressInput from \"../Custom/AddressInput\";\nimport clsx from \"clsx\";\nimport TransferActiveModal from \"../../Modules/TransferActiveModal\";\nimport { useChainbridge } from \"../../Contexts/ChainbridgeContext\";\nimport TokenSelectInput from \"../Custom/TokenSelectInput\";\nimport TokenInput from \"../Custom/TokenInput\";\nimport { object, string } from \"yup\";\nimport { utils } from \"ethers\";\nimport FeesFormikWrapped from \"./FormikContextElements/Fees\";\nimport { useNetworkManager } from \"../../Contexts/NetworkManagerContext\";\nimport NetworkUnsupportedModal from \"../../Modules/NetworkUnsupportedModal\";\nimport { isValidSubstrateAddress } from \"../../Utils/Helpers\";\nimport { useHomeBridge } from \"../../Contexts/HomeBridgeContext\";\nimport ETHIcon from \"../../media/tokens/eth.svg\";\nimport WETHIcon from \"../../media/tokens/weth.svg\";\nimport DAIIcon from \"../../media/tokens/dai.svg\";\nimport celoUSD from \"../../media/tokens/cusd.svg\";\n\nconst PredefinedIcons: any = {\n  ETHIcon: ETHIcon,\n  WETHIcon: WETHIcon,\n  DAIIcon: DAIIcon,\n  celoUSD: celoUSD,\n};\n\nconst showImageUrl = (url?: string) =>\n  url && PredefinedIcons[url] ? PredefinedIcons[url] : url;\n\nconst useStyles = makeStyles(({ constants, palette }: ITheme) =>\n  createStyles({\n    root: {\n      padding: constants.generalUnit * 6,\n      position: \"relative\",\n    },\n    walletArea: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n    },\n    connectButton: {\n      margin: `${constants.generalUnit * 3}px 0 ${constants.generalUnit * 6}px`,\n    },\n    connecting: {\n      textAlign: \"center\",\n      marginBottom: constants.generalUnit * 2,\n    },\n    connected: {\n      width: \"100%\",\n      \"& > *:first-child\": {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n      },\n    },\n    changeButton: {\n      cursor: \"pointer\",\n    },\n    networkName: {\n      padding: `${constants.generalUnit * 2}px ${\n        constants.generalUnit * 1.5\n      }px`,\n      border: `1px solid ${palette.additional[\"gray\"][6]}`,\n      borderRadius: 2,\n      color: palette.additional[\"gray\"][9],\n      marginTop: constants.generalUnit,\n      marginBottom: constants.generalUnit * 3,\n    },\n    formArea: {\n      \"&.disabled\": {\n        opacity: 0.4,\n      },\n    },\n    currencySection: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-end\",\n      margin: `${constants.generalUnit * 3}px 0`,\n    },\n    tokenInputArea: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"flex-end\",\n      justifyContent: \"space-around\",\n    },\n    tokenInputSection: {\n      width: \"60%\",\n    },\n    tokenInput: {\n      margin: 0,\n      \"& > div\": {\n        height: 32,\n        \"& input\": {\n          borderBottomRightRadius: 0,\n          borderTopRightRadius: 0,\n          borderRight: 0,\n        },\n      },\n      \"& span:last-child.error\": {\n        position: \"absolute\",\n        width: \"calc(100% + 62px)\",\n      },\n    },\n    maxButton: {\n      height: 32,\n      borderBottomLeftRadius: 0,\n      borderTopLeftRadius: 0,\n      left: -1,\n      color: palette.additional[\"gray\"][8],\n      backgroundColor: palette.additional[\"gray\"][3],\n      borderColor: palette.additional[\"gray\"][6],\n      \"&:hover\": {\n        borderColor: palette.additional[\"gray\"][6],\n        backgroundColor: palette.additional[\"gray\"][7],\n        color: palette.common.white.main,\n      },\n      \"&:focus\": {\n        borderColor: palette.additional[\"gray\"][6],\n      },\n    },\n    currencySelector: {\n      width: \"40%\",\n      paddingRight: constants.generalUnit,\n      \"& *\": {\n        cursor: \"pointer\",\n      },\n    },\n    token: {},\n    address: {\n      margin: 0,\n      marginBottom: constants.generalUnit * 3,\n    },\n    addressInput: {},\n    generalInput: {\n      \"& > span\": {\n        marginBottom: constants.generalUnit,\n      },\n    },\n    faqButton: {\n      cursor: \"pointer\",\n      height: 20,\n      width: 20,\n      marginTop: constants.generalUnit * 5,\n      fill: `${palette.additional[\"transferUi\"][1]} !important`,\n    },\n    tokenItem: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      cursor: \"pointer\",\n      \"& img, & svg\": {\n        display: \"block\",\n        height: 14,\n        width: 14,\n        marginRight: 10,\n      },\n      \"& span\": {\n        minWidth: `calc(100% - 20px)`,\n        textAlign: \"left\",\n      },\n    },\n    fees: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"space-between\",\n      marginBottom: constants.generalUnit,\n      \"& > *\": {\n        display: \"block\",\n        width: \"50%\",\n        color: palette.additional[\"gray\"][8],\n        marginBottom: constants.generalUnit / 2,\n        \"&:nth-child(even)\": {\n          textAlign: \"right\",\n        },\n      },\n    },\n    accountSelector: {\n      marginBottom: 24,\n    },\n  })\n);\n\ntype PreflightDetails = {\n  tokenAmount: number;\n  token: string;\n  tokenSymbol: string;\n  receiver: string;\n};\n\nconst TransferPage = () => {\n  const classes = useStyles();\n  const { walletType, setWalletType } = useNetworkManager();\n\n  const {\n    deposit,\n    setDestinationChain,\n    transactionStatus,\n    resetDeposit,\n    bridgeFee,\n    tokens,\n    isReady,\n    homeConfig,\n    destinationChainConfig,\n    destinationChains,\n    address,\n    checkSupplies,\n  } = useChainbridge();\n\n  const { accounts, selectAccount } = useHomeBridge();\n  const [aboutOpen, setAboutOpen] = useState<boolean>(false);\n  const [walletConnecting, setWalletConnecting] = useState(false);\n  const [changeNetworkOpen, setChangeNetworkOpen] = useState<boolean>(false);\n  const [preflightModalOpen, setPreflightModalOpen] = useState<boolean>(false);\n\n  const [preflightDetails, setPreflightDetails] = useState<PreflightDetails>({\n    receiver: \"\",\n    token: \"\",\n    tokenAmount: 0,\n    tokenSymbol: \"\",\n  });\n\n  useEffect(() => {\n    if (walletType !== \"select\" && walletConnecting === true) {\n      setWalletConnecting(false);\n    } else if (walletType === \"select\") {\n      setWalletConnecting(true);\n    }\n  }, [walletType, walletConnecting]);\n\n  const DECIMALS =\n    preflightDetails && tokens[preflightDetails.token]\n      ? tokens[preflightDetails.token].decimals\n      : 18;\n\n  const REGEX =\n    DECIMALS > 0\n      ? new RegExp(`^[0-9]{1,18}(.[0-9]{1,${DECIMALS}})?$`)\n      : new RegExp(`^[0-9]{1,18}?$`);\n\n  const transferSchema = object().shape({\n    tokenAmount: string()\n      .test(\"Token selected\", \"Please select a token\", (value) => {\n        if (\n          !!value &&\n          preflightDetails &&\n          tokens[preflightDetails.token] &&\n          tokens[preflightDetails.token].balance !== undefined\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      })\n      .test(\"InputValid\", \"Input invalid\", (value) => {\n        try {\n          return REGEX.test(`${value}`);\n        } catch (error) {\n          console.error(error);\n          return false;\n        }\n      })\n      .test(\"Max\", \"Insufficent funds\", (value) => {\n        if (\n          value &&\n          preflightDetails &&\n          tokens[preflightDetails.token] &&\n          tokens[preflightDetails.token].balance\n        ) {\n          if (homeConfig?.type === \"Ethereum\") {\n            return parseFloat(value) <= tokens[preflightDetails.token].balance;\n          } else {\n            return (\n              parseFloat(value + (bridgeFee || 0)) <=\n              tokens[preflightDetails.token].balance\n            );\n          }\n        }\n        return false;\n      })\n      .test(\n        \"Bridge Supplies\",\n        \"Not enough tokens on the destination chain. Please contact support.\",\n        async (value) => {\n          if (checkSupplies && destinationChainConfig && value) {\n            const supplies = await checkSupplies(\n              parseFloat(value),\n              preflightDetails.token,\n              destinationChainConfig.chainId\n            );\n            return Boolean(supplies);\n          }\n          return false;\n        }\n      )\n      .test(\"Min\", \"Less than minimum\", (value) => {\n        if (value) {\n          return parseFloat(value) > 0;\n        }\n        return false;\n      })\n      .required(\"Please set a value\"),\n    token: string().required(\"Please select a token\"),\n    receiver: string()\n      .test(\"Valid address\", \"Please add a valid address\", (value) => {\n        if (destinationChainConfig?.type === \"Substrate\") {\n          return isValidSubstrateAddress(value as string);\n        }\n        return utils.isAddress(value as string);\n      })\n      .required(\"Please add a receiving address\"),\n  });\n\n  return (\n    <article className={classes.root}>\n      <div className={classes.walletArea}>\n        {!isReady ? (\n          <Button\n            className={classes.connectButton}\n            fullsize\n            onClick={() => {\n              setWalletType(\"select\");\n            }}\n          >\n            Connect\n          </Button>\n        ) : walletConnecting ? (\n          <section className={classes.connecting}>\n            <Typography component=\"p\" variant=\"h5\">\n              This app requires access to your wallet, <br />\n              please login and authorize access to continue.\n            </Typography>\n          </section>\n        ) : (\n          <section className={classes.connected}>\n            <div>\n              <Typography variant=\"body1\">Home network</Typography>\n              <Typography\n                className={classes.changeButton}\n                variant=\"body1\"\n                onClick={() => setChangeNetworkOpen(true)}\n              >\n                Change\n              </Typography>\n            </div>\n            <Typography\n              component=\"h2\"\n              variant=\"h2\"\n              className={classes.networkName}\n            >\n              {homeConfig?.name}\n            </Typography>\n          </section>\n        )}\n      </div>\n      {isReady &&\n        walletType === \"Substrate\" &&\n        accounts &&\n        accounts.length > 0 && (\n          <div>\n            <section className={classes.accountSelector}>\n              <SelectInput\n                label=\"Select account\"\n                className={classes.generalInput}\n                options={accounts.map((acc, i) => ({\n                  label: acc.address,\n                  value: i,\n                }))}\n                onChange={(value) => selectAccount && selectAccount(value)}\n                value={accounts.findIndex((v) => v.address === address)}\n                placeholder=\"Select an account\"\n              />\n            </section>\n          </div>\n        )}\n      <Formik\n        initialValues={{\n          tokenAmount: 0,\n          token: \"\",\n          receiver: \"\",\n        }}\n        validateOnChange={false}\n        validationSchema={transferSchema}\n        onSubmit={(values) => {\n          setPreflightDetails({\n            ...values,\n            tokenSymbol: tokens[values.token].symbol || \"\",\n          });\n          setPreflightModalOpen(true);\n        }}\n      >\n        {(props) => (\n          <Form\n            className={clsx(classes.formArea, {\n              disabled: !homeConfig || !address || props.isValidating,\n            })}\n          >\n            <section>\n              <SelectInput\n                label=\"Destination Network\"\n                className={classes.generalInput}\n                disabled={!homeConfig}\n                options={destinationChains.map((dc) => ({\n                  label: dc.name,\n                  value: dc.chainId,\n                }))}\n                onChange={(value) => setDestinationChain(value)}\n                value={destinationChainConfig?.chainId}\n              />\n            </section>\n            <section className={classes.currencySection}>\n              {/* <section>\n              <div\n                className={clsx(classes.tokenInputArea, classes.generalInput)}\n              >\n                <TokenInput\n                  classNames={{\n                    input: clsx(classes.tokenInput, classes.generalInput),\n                    button: classes.maxButton,\n                  }}\n                  tokenSelectorKey=\"token\"\n                  tokens={tokens}\n                  disabled={\n                    !destinationChainConfig ||\n                    !preflightDetails.token ||\n                    preflightDetails.token === \"\"\n                  }\n                  name=\"tokenAmount\"\n                  label=\"I want to send\"\n                />\n              </div>\n            </section> */}\n              <section className={classes.currencySelector}>\n                <TokenSelectInput\n                  tokens={tokens}\n                  name=\"token\"\n                  disabled={!destinationChainConfig}\n                  label={`Balance: `}\n                  className={classes.generalInput}\n                  placeholder=\"\"\n                  sync={(tokenAddress) => {\n                    setPreflightDetails({\n                      ...preflightDetails,\n                      token: tokenAddress,\n                      receiver: \"\",\n                      tokenAmount: 0,\n                      tokenSymbol: \"\",\n                    });\n                  }}\n                  options={\n                    Object.keys(tokens).map((t) => ({\n                      value: t,\n                      label: (\n                        <div className={classes.tokenItem}>\n                          {tokens[t]?.imageUri && (\n                            <img\n                              src={showImageUrl(tokens[t]?.imageUri)}\n                              alt={tokens[t]?.symbol}\n                            />\n                          )}\n                          <span>{tokens[t]?.symbol || t}</span>\n                        </div>\n                      ),\n                    })) || []\n                  }\n                />\n              </section>\n              <section className={classes.tokenInputSection}>\n                <div\n                  className={clsx(classes.tokenInputArea, classes.generalInput)}\n                >\n                  <TokenInput\n                    classNames={{\n                      input: clsx(classes.tokenInput, classes.generalInput),\n                      button: classes.maxButton,\n                    }}\n                    tokenSelectorKey=\"token\"\n                    tokens={tokens}\n                    disabled={\n                      !destinationChainConfig ||\n                      !preflightDetails.token ||\n                      preflightDetails.token === \"\"\n                    }\n                    name=\"tokenAmount\"\n                    label=\"I want to send\"\n                  />\n                </div>\n              </section>\n            </section>\n            <section>\n              <AddressInput\n                disabled={!destinationChainConfig}\n                name=\"receiver\"\n                label=\"Destination Address\"\n                placeholder=\"Please enter the receiving address\"\n                className={classes.address}\n                classNames={{\n                  input: classes.addressInput,\n                }}\n                senderAddress={`${address}`}\n                sendToSameAccountHelper={\n                  destinationChainConfig?.type === homeConfig?.type\n                }\n              />\n            </section>\n            <FeesFormikWrapped\n              amountFormikName=\"tokenAmount\"\n              className={classes.fees}\n              fee={bridgeFee}\n              feeSymbol={homeConfig?.nativeTokenSymbol}\n              symbol={\n                preflightDetails && tokens[preflightDetails.token]\n                  ? tokens[preflightDetails.token].symbol\n                  : undefined\n              }\n            />\n            <section>\n              <Button type=\"submit\" fullsize variant=\"primary\">\n                Start transfer\n              </Button>\n            </section>\n            <section>\n              <QuestionCircleSvg\n                onClick={() => setAboutOpen(true)}\n                className={classes.faqButton}\n              />\n            </section>\n          </Form>\n        )}\n      </Formik>\n      <AboutDrawer open={aboutOpen} close={() => setAboutOpen(false)} />\n      <ChangeNetworkDrawer\n        open={changeNetworkOpen}\n        close={() => setChangeNetworkOpen(false)}\n      />\n      <PreflightModalTransfer\n        open={preflightModalOpen}\n        close={() => setPreflightModalOpen(false)}\n        receiver={preflightDetails?.receiver || \"\"}\n        sender={address || \"\"}\n        start={() => {\n          setPreflightModalOpen(false);\n          preflightDetails &&\n            deposit(\n              preflightDetails.tokenAmount,\n              preflightDetails.receiver,\n              preflightDetails.token\n            );\n        }}\n        sourceNetwork={homeConfig?.name || \"\"}\n        targetNetwork={destinationChainConfig?.name || \"\"}\n        tokenSymbol={preflightDetails?.tokenSymbol || \"\"}\n        value={preflightDetails?.tokenAmount || 0}\n      />\n      <TransferActiveModal open={!!transactionStatus} close={resetDeposit} />\n      {/* This is here due to requiring router */}\n      <NetworkUnsupportedModal />\n    </article>\n  );\n};\nexport default TransferPage;\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"@chainsafe/common-components\";\nimport TransferPage from \"./Pages/TransferPage\";\n// import WrapperPage from \"./Pages/WrapperPage\";\n// import ExplorerPage from \"./Pages/ExplorerPage\";\n// import { ExplorerProvider } from \"../Contexts/ExplorerContext\";\n\nexport const ROUTE_LINKS = {\n  Transfer: \"/transfer\",\n  // Wrap: \"/wrap\",\n  // Explore: \"/explore\",\n};\n\nconst FilesRoutes = () => {\n  return (\n    <Switch>\n      <Route exact path={ROUTE_LINKS.Transfer} component={TransferPage} />\n      {/* <Route exact path={ROUTE_LINKS.Wrap} component={WrapperPage} /> */}\n      {/* <Route exact path={ROUTE_LINKS.Explore}>\n        <ExplorerProvider>\n          <ExplorerPage />\n        </ExplorerProvider>\n      </Route> */}\n      <Route exact path=\"/\">\n        <Redirect to={ROUTE_LINKS.Transfer} />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default FilesRoutes;\n","import { createTheme } from \"@chainsafe/common-theme\";\n\nexport const lightTheme = createTheme({\n  globalStyling: {\n    body: {\n      backgroundColor: \"#F5F5F5\",\n    },\n  },\n  themeConfig: {\n    constants: {\n      navItemHeight: 42,\n    },\n    palette: {\n      additional: {\n        general: {\n          1: \"#85A5FF\", // Accents //geekblue4\n        },\n        transferUi: {\n          1: \"#595959\", // FAQ button // gray8\n        },\n        header: {\n          1: \"#F5F5F5\", // Background\n          2: \"#595959\", // Text color //gray8\n          3: \"#BFBFBF\", // border // gray6\n        },\n        preflight: {\n          1: \"#85A5FF\", // Button bg color\n          2: \"#262626\", // Button color\n        },\n        transactionModal: {\n          1: \"#597EF7\", // border //geekblue5\n          2: \"#85A5FF\", // indicator border //geekblue4\n          3: \"#2F54EB\", // indicator text //geekblue6\n        },\n      },\n    },\n    overrides: {\n      CheckboxInput: {\n        root: {\n          alignItems: \"center\",\n        },\n      },\n      Button: {\n        variants: {\n          primary: {\n            root: {\n              backgroundColor: \"#262626\",\n              color: \"#ffffff\",\n              border: `1px solid #262626`,\n              \"& svg\": {\n                fill: \"#ffffff\",\n              },\n            },\n            active: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n            hover: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n            focus: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n          },\n          outline: {\n            root: {\n              backgroundColor: \"transparent\",\n              color: \"#ffffff\",\n              border: `1px solid #ffffff`,\n              \"& svg\": {\n                fill: \"#ffffff\",\n              },\n            },\n            active: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              borderColor: \"#ffffff\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n            hover: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              borderColor: \"#ffffff\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n            focus: {\n              backgroundColor: \"#ffffff\",\n              color: \"#262626\",\n              borderColor: \"#ffffff\",\n              \"& svg\": {\n                fill: \"#262626\",\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n});\n","import { createStyles, ITheme, makeStyles } from \"@chainsafe/common-theme\";\nimport React from \"react\";\nimport clsx from \"clsx\";\nimport { Typography } from \"@chainsafe/common-components\";\nimport { shortenAddress } from \"../Utils/Helpers\";\nimport { useChainbridge } from \"../Contexts/ChainbridgeContext\";\n\nconst useStyles = makeStyles(\n  ({ constants, palette, zIndex, breakpoints }: ITheme) => {\n    return createStyles({\n      root: {\n        display: \"flex\",\n        position: \"fixed\",\n        justifyContent: \"space-between\",\n        padding: `${constants.generalUnit * 2}px ${\n          constants.generalUnit * 4\n        }px`,\n        width: \"100%\",\n        top: 0,\n        left: 0,\n        backgroundColor: palette.additional[\"header\"][1],\n        borderBottom: `1px solid ${palette.additional[\"header\"][3]}`,\n        color: palette.additional[\"header\"][2],\n        alignItems: \"center\",\n        zIndex: zIndex?.layer2,\n        [breakpoints.down(\"sm\")]: {\n          flexDirection: \"column\",\n        },\n      },\n      left: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n      },\n      logo: {\n        height: constants.generalUnit * 5,\n        width: constants.generalUnit * 5,\n        \"& svg, & img\": {\n          maxHeight: \"100%\",\n          maxWidth: \"100%\",\n        },\n      },\n      state: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n      },\n      indicator: {\n        display: \"block\",\n        height: 10,\n        width: 10,\n        borderRadius: \"50%\",\n        backgroundColor: palette.additional[\"green\"][6],\n        marginRight: constants.generalUnit,\n      },\n      address: {\n        marginRight: constants.generalUnit,\n      },\n      network: {},\n      accountInfo: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      },\n      mainInfo: {\n        display: \"flex\",\n        flexDirection: \"column\",\n      },\n    });\n  }\n);\n\ninterface IAppHeader {}\n\nconst AppHeader: React.FC<IAppHeader> = () => {\n  const classes = useStyles();\n  const { homeConfig, isReady, address } = useChainbridge();\n  return (\n    <header className={clsx(classes.root)}>\n      <div className={classes.left}>\n        {/* ADD LOGO HERE */}\n        {/* <div className={classes.logo}>\n        </div> */}\n        <Typography variant=\"h4\">ChainBridge Token Swap</Typography>\n      </div>\n      <section className={classes.state}>\n        {!isReady ? (\n          <Typography variant=\"h5\">No wallet connected</Typography>\n        ) : (\n          <>\n            <div className={classes.mainInfo}>\n              <div className={classes.accountInfo}>\n                <span className={classes.indicator} />\n                <Typography variant=\"h5\" className={classes.address}>\n                  {address && shortenAddress(address)}\n                </Typography>\n              </div>\n              <Typography variant=\"h5\" className={classes.address}>\n                <div>\n                  <span>connected to </span>\n                  <span>\n                    <strong>{homeConfig?.name}</strong>\n                  </span>\n                </div>\n              </Typography>\n            </div>\n          </>\n        )}\n      </section>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.35 11.5141C12.3531 11.5094 12.3578 11.5047 12.3609 11.5C13.3844 10.2828 14 8.71406 14 7C14 5.28594 13.3844 3.71719 12.3625 2.5C12.3594 2.49531 12.3547 2.49219 12.3516 2.4875C12.3344 2.46719 12.3187 2.44844 12.3016 2.42969C12.2953 2.42188 12.2891 2.41563 12.2828 2.40781L12.2188 2.33437L12.2172 2.33281C12.1938 2.30625 12.1687 2.27969 12.1453 2.25312L12.1438 2.25156C12.0938 2.19844 12.0437 2.14531 11.9922 2.09375L11.9906 2.09219L11.9156 2.01719L11.9109 2.0125C11.8875 1.98906 11.8641 1.96719 11.8406 1.94531C11.8328 1.9375 11.825 1.92969 11.8156 1.92188C11.8 1.90625 11.7844 1.89219 11.7688 1.87812C11.7641 1.87344 11.7578 1.86875 11.7531 1.8625C10.5063 0.70625 8.83594 0 7 0C5.16406 0 3.49375 0.70625 2.24531 1.8625C2.24062 1.86719 2.23438 1.87187 2.22969 1.87812C2.21406 1.89219 2.19844 1.90781 2.18281 1.92344C2.175 1.93125 2.16719 1.93906 2.15781 1.94688C2.13438 1.96875 2.11094 1.99219 2.0875 2.01406L2.08281 2.01875L2.00781 2.09375L2.00625 2.09531C1.95469 2.14688 1.90469 2.2 1.85469 2.25312L1.85313 2.25469C1.82813 2.28125 1.80469 2.30781 1.78125 2.33437L1.77969 2.33594C1.75781 2.35938 1.73594 2.38437 1.71563 2.40937C1.70938 2.41719 1.70313 2.42344 1.69688 2.43125C1.67969 2.45 1.66406 2.47031 1.64687 2.48906C1.64375 2.49375 1.63906 2.49688 1.63594 2.50156C0.615625 3.71719 0 5.28594 0 7C0 8.71406 0.615625 10.2828 1.6375 11.5C1.64062 11.5047 1.64531 11.5094 1.64844 11.5141L1.69688 11.5719C1.70313 11.5797 1.70938 11.5859 1.71563 11.5938L1.77969 11.6672C1.77969 11.6687 1.78125 11.6688 1.78125 11.6703C1.80469 11.6969 1.82813 11.7234 1.85313 11.7484L1.85469 11.75C1.90469 11.8031 1.95469 11.8562 2.00469 11.9078L2.00625 11.9094C2.03125 11.9344 2.05469 11.9594 2.07969 11.9828L2.08437 11.9875C2.13594 12.0391 2.18906 12.0891 2.24219 12.1375C3.49375 13.2937 5.16406 14 7 14C8.83594 14 10.5062 13.2937 11.7547 12.1375C11.8079 12.0887 11.86 12.0387 11.9109 11.9875L11.9156 11.9828C11.9406 11.9578 11.9656 11.9344 11.9891 11.9094L11.9906 11.9078C12.0422 11.8562 12.0922 11.8031 12.1406 11.75L12.1422 11.7484C12.1656 11.7219 12.1906 11.6969 12.2141 11.6703C12.2141 11.6688 12.2156 11.6687 12.2156 11.6672C12.2375 11.6438 12.2594 11.6187 12.2797 11.5938C12.2859 11.5859 12.2922 11.5797 12.2984 11.5719C12.3161 11.553 12.3333 11.5338 12.35 11.5141ZM12.4141 9.28594C12.1984 9.79531 11.9141 10.2672 11.5672 10.6953C11.1765 10.3577 10.7494 10.0647 10.2937 9.82187C10.475 9.08906 10.5875 8.28438 10.6172 7.4375H12.8594C12.8125 8.07656 12.6625 8.69687 12.4141 9.28594ZM12.8594 6.5625H10.6172C10.5875 5.71562 10.475 4.91094 10.2937 4.17812C10.7516 3.93437 11.1781 3.64062 11.5672 3.30469C12.3212 4.23277 12.7722 5.3699 12.8594 6.5625ZM9.28594 1.58594C9.90625 1.84844 10.4703 2.21094 10.9672 2.66719C10.6785 2.91296 10.3679 3.13159 10.0391 3.32031C9.79375 2.61719 9.47969 2.00625 9.11406 1.51719C9.17188 1.53906 9.22969 1.5625 9.28594 1.58594ZM7.87031 12.5328C7.72656 12.6453 7.58281 12.7312 7.4375 12.7891V9.89062C8.05749 9.93388 8.66717 10.0719 9.24531 10.3C9.11563 10.6844 8.96562 11.0391 8.79219 11.3594C8.52031 11.8656 8.20156 12.2703 7.87031 12.5328ZM8.79219 2.64062C8.96406 2.9625 9.11563 3.31719 9.24531 3.7C8.66717 3.92806 8.05749 4.06612 7.4375 4.10938V1.2125C7.58125 1.27031 7.72656 1.35469 7.87031 1.46875C8.20156 1.72969 8.52031 2.13438 8.79219 2.64062ZM7.4375 9.01406V7.4375H9.74219C9.71719 8.12813 9.63125 8.79844 9.4875 9.43437L9.48281 9.45312C8.82708 9.20447 8.13751 9.05644 7.4375 9.01406ZM7.4375 6.5625V4.98594C8.15312 4.94219 8.84063 4.79063 9.48281 4.54688L9.4875 4.56563C9.63125 5.20156 9.71719 5.87031 9.74219 6.5625H7.4375ZM6.5625 7.4375V9.01406C5.84688 9.05781 5.15938 9.20938 4.51719 9.45312L4.5125 9.43437C4.36875 8.79844 4.28281 8.12969 4.25781 7.4375H6.5625ZM4.25781 6.5625C4.28281 5.87187 4.36875 5.20156 4.5125 4.56563L4.51719 4.54688C5.15938 4.79063 5.84531 4.94219 6.5625 4.98594V6.5625H4.25781ZM6.5625 9.89062V12.7875C6.41875 12.7297 6.27344 12.6453 6.12969 12.5312C5.79844 12.2703 5.47813 11.8641 5.20625 11.3578C5.03438 11.0359 4.88281 10.6812 4.75313 10.2984C5.33438 10.0703 5.93906 9.93437 6.5625 9.89062ZM6.5625 4.10938C5.94251 4.06612 5.33283 3.92806 4.75469 3.7C4.88437 3.31562 5.03437 2.96094 5.20781 2.64062C5.47969 2.13438 5.79844 1.72812 6.13125 1.46719C6.275 1.35469 6.41875 1.26875 6.56406 1.21094V4.10938H6.5625ZM4.71406 1.58594C4.77188 1.5625 4.82812 1.53906 4.88594 1.51719C4.52031 2.00625 4.20625 2.61719 3.96094 3.32031C3.63281 3.13281 3.32188 2.91406 3.03281 2.66719C3.52969 2.21094 4.09375 1.84844 4.71406 1.58594ZM1.58594 4.71406C1.80156 4.20469 2.08594 3.73281 2.43281 3.30469C2.82187 3.64062 3.24844 3.93437 3.70625 4.17812C3.525 4.91094 3.4125 5.71562 3.38281 6.5625H1.14062C1.1875 5.92344 1.3375 5.30313 1.58594 4.71406ZM1.14062 7.4375H3.38281C3.4125 8.28438 3.525 9.08906 3.70625 9.82187C3.25059 10.0647 2.82347 10.3577 2.43281 10.6953C1.6788 9.76723 1.22776 8.6301 1.14062 7.4375ZM4.71406 12.4141C4.09375 12.1516 3.52969 11.7891 3.03281 11.3328C3.32188 11.0859 3.63281 10.8687 3.96094 10.6797C4.20625 11.3828 4.52031 11.9938 4.88594 12.4828C4.82812 12.4609 4.77031 12.4375 4.71406 12.4141ZM9.28594 12.4141C9.22812 12.4375 9.17188 12.4609 9.11406 12.4828C9.47969 11.9938 9.79375 11.3828 10.0391 10.6797C10.3672 10.8672 10.6781 11.0859 10.9672 11.3328C10.4731 11.7872 9.90432 12.1529 9.28594 12.4141Z\"\n});\n\nvar SvgGlobal = function SvgGlobal(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 14\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGlobal, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/global.e2e61665.svg\";\nexport { ForwardRef as ReactComponent };","import { NavLink, Typography } from \"@chainsafe/common-components\";\nimport { createStyles, ITheme, makeStyles } from \"@chainsafe/common-theme\";\nimport React from \"react\";\nimport { ReactNode } from \"react\";\nimport AppHeader from \"./AppHeader\";\nimport { ReactComponent as GlobalSvg } from \"../media/Icons/global.svg\";\nimport { ROUTE_LINKS } from \"../Components/Routes\";\ninterface IAppWrapper {\n  children: ReactNode | ReactNode[];\n}\n\nconst useStyles = makeStyles(\n  ({ animation, constants, palette, breakpoints }: ITheme) => {\n    return createStyles({\n      root: {\n        minHeight: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        paddingTop: 30,\n        marginTop: 10,\n        [breakpoints.between(\"sm\", \"xl\")]: {\n          paddingTop: 20,\n          marginTop: 55,\n        },\n      },\n      inner: {\n        paddingTop: (constants.navItemHeight as number) * 2,\n        paddingBottom: (constants.navItemHeight as number) * 2,\n      },\n      cta: {\n        display: \"block\",\n        maxWidth: 200,\n        maxHeight: 200,\n        position: \"fixed\",\n        bottom: constants.generalUnit * 3,\n        right: constants.generalUnit * 3,\n      },\n      content: {\n        // position: \"absolute\",\n        // top: \"50%\",\n        // left: \"50%\",\n        // transform: \"translate(-50%, -50%)\",\n        margin: `30px auto`,\n        maxWidth: 460,\n        display: \"flex\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        borderRadius: 4,\n      },\n      pageArea: {\n        height: \"100%\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        border: `1px solid ${palette.additional[\"gray\"][7]}`,\n        borderRadius: 4,\n      },\n      navTabs: {\n        // position: \"absolute\",\n        // top: 0,\n        // left: 0,\n        width: \"100%\",\n        // transform: \"translate(0,-100%)\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        padding: `0 ${constants.generalUnit}px`,\n        transform: \"translateY(1px)\",\n        \"& > a\": {\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          padding: `${constants.generalUnit}px ${\n            constants.generalUnit * 1.5\n          }px`,\n          border: `1px solid ${palette.additional[\"gray\"][7]}`,\n          textDecoration: \"none\",\n          marginRight: constants.generalUnit,\n          transitionDuration: `${animation.transform}ms`,\n          color: palette.additional[\"gray\"][8],\n          maxHeight: constants.navItemHeight,\n          \"& svg\": {\n            transitionDuration: `${animation.transform}ms`,\n            fill: palette.additional[\"gray\"][8],\n          },\n          \"&.active\": {\n            color: palette.additional[\"gray\"][9],\n            textDecoration: \"underline\",\n            \"& svg\": {\n              fill: palette.additional[\"geekblue\"][5],\n            },\n          },\n          \"& > *:first-child\": {\n            marginRight: constants.generalUnit,\n          },\n        },\n        \"& svg\": {\n          height: 14,\n          width: 14,\n        },\n      },\n    });\n  }\n);\n\nconst AppWrapper: React.FC<IAppWrapper> = ({ children }: IAppWrapper) => {\n  const classes = useStyles();\n\n  return (\n    <section className={classes.root}>\n      <section className={classes.inner}>\n        <AppHeader />\n        <section className={classes.content}>\n          <section className={classes.navTabs}>\n            <NavLink activeClassName=\"active\" to={ROUTE_LINKS.Transfer}>\n              <GlobalSvg />\n              <Typography variant=\"h5\">Transfer</Typography>\n            </NavLink>\n            {/* <NavLink activeClassName=\"active\" to={ROUTE_LINKS.Wrap}>\n              <GiftSvg />\n              <Typography variant=\"h5\">Wrap token</Typography>\n            </NavLink> */}\n          </section>\n          <div className={classes.pageArea}>{children}</div>\n        </section>\n\n        {/* Put CTA here */}\n        {/* <a className={classes.cta} rel=\"noopener noreferrer\" target=\"_blank\" href=\"#\">\n        </a> */}\n      </section>\n    </section>\n  );\n};\n\nexport default AppWrapper;\n","import React from \"react\";\nimport { init, ErrorBoundary, showReportDialog } from \"@sentry/react\";\nimport { ThemeSwitcher } from \"@chainsafe/common-theme\";\nimport {\n  CssBaseline,\n  Router,\n  ToasterProvider,\n} from \"@chainsafe/common-components\";\n\nimport Routes from \"./Components/Routes\";\nimport { lightTheme } from \"./Themes/LightTheme\";\nimport { ChainbridgeProvider } from \"./Contexts/ChainbridgeContext\";\nimport AppWrapper from \"./Layouts/AppWrapper\";\nimport { NetworkManagerProvider } from \"./Contexts/NetworkManagerContext\";\nimport { chainbridgeConfig } from \"./chainbridgeConfig\";\nimport { Web3Provider } from \"@chainsafe/web3-context\";\nimport { utils } from \"ethers\";\nimport \"@chainsafe/common-theme/dist/font-faces.css\";\n\nif (\n  process.env.NODE_ENV === \"production\" &&\n  process.env.REACT_APP_SENTRY_DSN_URL &&\n  process.env.REACT_APP_SENTRY_RELEASE\n) {\n  init({\n    dsn: process.env.REACT_APP_SENTRY_DSN_URL,\n    release: process.env.REACT_APP_SENTRY_RELEASE,\n  });\n}\n\nconst App: React.FC<{}> = () => {\n  const tokens = chainbridgeConfig.chains\n    .filter((c) => c.type === \"Ethereum\")\n    .reduce((tca, bc: any) => {\n      if (bc.networkId) {\n        return {\n          ...tca,\n          [bc.networkId]: bc.tokens,\n        };\n      } else {\n        return tca;\n      }\n    }, {});\n\n  return (\n    <ErrorBoundary\n      fallback={({ error, componentStack, eventId, resetError }) => (\n        <div>\n          <p>\n            An error occurred and has been logged. If you would like to provide\n            additional info to help us debug and resolve the issue, click the\n            \"Provide Additional Details\" button\n          </p>\n          <p>{error?.message.toString()}</p>\n          <p>{componentStack}</p>\n          <p>{eventId}</p>\n          <button onClick={() => showReportDialog({ eventId: eventId || \"\" })}>\n            Provide Additional Details\n          </button>\n          <button onClick={resetError}>Reset error</button>\n        </div>\n      )}\n      onReset={() => window.location.reload()}\n    >\n      <ThemeSwitcher themes={{ light: lightTheme }}>\n        <CssBaseline />\n        <ToasterProvider autoDismiss>\n          <Web3Provider\n            tokensToWatch={tokens}\n            networkIds={[5]}\n            onboardConfig={{\n              dappId: process.env.REACT_APP_BLOCKNATIVE_DAPP_ID,\n              walletSelect: {\n                wallets: [{ walletName: \"metamask\", preferred: true }],\n              },\n              subscriptions: {\n                network: (network) =>\n                  network && console.log(\"chainId: \", network),\n                balance: (amount) =>\n                  amount && console.log(\"balance: \", utils.formatEther(amount)),\n              },\n            }}\n            checkNetwork={false}\n            gasPricePollingInterval={120}\n            gasPriceSetting=\"fast\"\n          >\n            <NetworkManagerProvider>\n              <ChainbridgeProvider>\n                <Router>\n                  <AppWrapper>\n                    <Routes />\n                  </AppWrapper>\n                </Router>\n              </ChainbridgeProvider>\n            </NetworkManagerProvider>\n          </Web3Provider>\n        </ToasterProvider>\n      </ThemeSwitcher>\n    </ErrorBoundary>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useContext } from \"react\";\nimport { HomeChainAdaptorContext } from \"./Adaptors/interfaces\";\n\nconst HomeBridgeContext = React.createContext<\n  HomeChainAdaptorContext | undefined\n>(undefined);\n\nconst useHomeBridge = () => {\n  const context = useContext(HomeBridgeContext);\n  if (context === undefined) {\n    throw new Error(\"useHomeBridge must be called within a HomeBridgeProvider\");\n  }\n  return context;\n};\n\nexport { HomeBridgeContext, useHomeBridge };\n","import React from \"react\";\nimport { Bridge, BridgeFactory } from \"@chainsafe/chainbridge-contracts\";\nimport { BigNumber } from \"ethers\";\nimport { useEffect, useState } from \"react\";\nimport { EvmBridgeConfig } from \"../../../chainbridgeConfig\";\nimport { useNetworkManager } from \"../../NetworkManagerContext\";\nimport { IDestinationBridgeProviderProps } from \"../interfaces\";\nimport { DestinationBridgeContext } from \"../../DestinationBridgeContext\";\n\nimport { getProvider } from \"./helpers\";\n\nexport const EVMDestinationAdaptorProvider = ({\n  children,\n}: IDestinationBridgeProviderProps) => {\n  const {\n    depositNonce,\n    destinationChainConfig,\n    homeChainConfig,\n    tokensDispatch,\n    setTransactionStatus,\n    setTransferTxHash,\n    setDepositVotes,\n    depositVotes,\n  } = useNetworkManager();\n\n  const [destinationBridge, setDestinationBridge] = useState<\n    Bridge | undefined\n  >(undefined);\n\n  useEffect(() => {\n    if (destinationBridge) return;\n    const provider = getProvider(destinationChainConfig);\n\n    if (destinationChainConfig && provider) {\n      const bridge = BridgeFactory.connect(\n        (destinationChainConfig as EvmBridgeConfig).bridgeAddress,\n        provider\n      );\n      setDestinationBridge(bridge);\n    }\n  }, [destinationChainConfig, destinationBridge]);\n\n  useEffect(() => {\n    if (\n      destinationChainConfig &&\n      homeChainConfig?.chainId !== null &&\n      homeChainConfig?.chainId !== undefined &&\n      destinationBridge &&\n      depositNonce\n    ) {\n      destinationBridge.on(\n        destinationBridge.filters.ProposalEvent(\n          homeChainConfig.chainId,\n          BigNumber.from(depositNonce),\n          null,\n          null,\n          null\n        ),\n        (originChainId, depositNonce, status, resourceId, dataHash, tx) => {\n          switch (BigNumber.from(status).toNumber()) {\n            case 1:\n              tokensDispatch({\n                type: \"addMessage\",\n                payload: `Proposal created on ${destinationChainConfig.name}`,\n              });\n              break;\n            case 2:\n              tokensDispatch({\n                type: \"addMessage\",\n                payload: `Proposal has passed. Executing...`,\n              });\n              break;\n            case 3:\n              setTransactionStatus(\"Transfer Completed\");\n              setTransferTxHash(tx.transactionHash);\n              break;\n            case 4:\n              setTransactionStatus(\"Transfer Aborted\");\n              setTransferTxHash(tx.transactionHash);\n              break;\n          }\n        }\n      );\n\n      destinationBridge.on(\n        destinationBridge.filters.ProposalVote(\n          homeChainConfig.chainId,\n          BigNumber.from(depositNonce),\n          null,\n          null\n        ),\n        async (originChainId, depositNonce, status, resourceId, tx) => {\n          const txReceipt = await tx.getTransactionReceipt();\n          if (txReceipt.status === 1) {\n            setDepositVotes(depositVotes + 1);\n          }\n          tokensDispatch({\n            type: \"addMessage\",\n            payload: {\n              address: String(txReceipt.from),\n              signed: txReceipt.status === 1 ? \"Confirmed\" : \"Rejected\",\n            },\n          });\n        }\n      );\n    }\n    return () => {\n      //@ts-ignore\n      destinationBridge?.removeAllListeners();\n    };\n  }, [\n    depositNonce,\n    homeChainConfig,\n    destinationBridge,\n    depositVotes,\n    destinationChainConfig,\n    setDepositVotes,\n    setTransactionStatus,\n    setTransferTxHash,\n    tokensDispatch,\n  ]);\n\n  return (\n    <DestinationBridgeContext.Provider\n      value={{\n        disconnect: async () => {},\n      }}\n    >\n      {children}\n    </DestinationBridgeContext.Provider>\n  );\n};\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { DestinationBridgeContext } from \"../DestinationBridgeContext\";\nimport { HomeBridgeContext } from \"../HomeBridgeContext\";\nimport { useNetworkManager } from \"../NetworkManagerContext\";\nimport { createApi, submitDeposit } from \"./SubstrateApis/ChainBridgeAPI\";\nimport {\n  IDestinationBridgeProviderProps,\n  IHomeBridgeProviderProps,\n  InjectedAccountType,\n} from \"./interfaces\";\n\nimport { ApiPromise } from \"@polkadot/api\";\nimport {\n  web3Accounts,\n  web3Enable,\n  web3FromSource,\n} from \"@polkadot/extension-dapp\";\nimport { TypeRegistry } from \"@polkadot/types\";\nimport { Tokens } from \"@chainsafe/web3-context/dist/context/tokensReducer\";\nimport { BigNumber as BN } from \"bignumber.js\";\nimport { UnsubscribePromise, VoidFn } from \"@polkadot/api/types\";\nimport { utils } from \"ethers\";\nimport { SubstrateBridgeConfig } from \"../../chainbridgeConfig\";\n\nexport const SubstrateHomeAdaptorProvider = ({\n  children,\n}: IHomeBridgeProviderProps) => {\n  const registry = new TypeRegistry();\n  const [api, setApi] = useState<ApiPromise | undefined>();\n  const [isReady, setIsReady] = useState(false);\n  const [accounts, setAccounts] = useState<InjectedAccountType[]>([]);\n  const [address, setAddress] = useState<string | undefined>(undefined);\n\n  const {\n    homeChainConfig,\n    setTransactionStatus,\n    setDepositNonce,\n    handleSetHomeChain,\n    homeChains,\n  } = useNetworkManager();\n\n  const [relayerThreshold, setRelayerThreshold] = useState<number | undefined>(\n    undefined\n  );\n  const [bridgeFee, setBridgeFee] = useState<number | undefined>(undefined);\n\n  const [depositAmount, setDepositAmount] = useState<number | undefined>();\n  const [selectedToken, setSelectedToken] = useState<string>(\"CSS\");\n\n  const [tokens, setTokens] = useState<Tokens>({});\n\n  useEffect(() => {\n    // Attempt connect on load\n    handleConnect();\n  });\n\n  const [initiaising, setInitialising] = useState(false);\n  useEffect(() => {\n    // Once the chain ID has been set in the network context, the homechain configuration will be automatically set thus triggering this\n    if (!homeChainConfig || initiaising || api) return;\n    setInitialising(true);\n    createApi(homeChainConfig.rpcUrl)\n      .then((api) => {\n        setApi(api);\n        setInitialising(false);\n      })\n      .catch(console.error);\n  }, [homeChainConfig, registry, api, initiaising]);\n\n  const getRelayerThreshold = useCallback(async () => {\n    if (api) {\n      const relayerThreshold = await api.query[\n        (homeChainConfig as SubstrateBridgeConfig).chainbridgePalletName\n      ].relayerThreshold();\n      setRelayerThreshold(Number(relayerThreshold.toHuman()));\n    }\n  }, [api, homeChainConfig]);\n\n  const getBridgeFee = useCallback(async () => {\n    if (api) {\n      const config = homeChainConfig as SubstrateBridgeConfig;\n\n      const fee = config.bridgeFeeFunctionName\n        ? new BN(\n            Number(\n              await api.query[config.transferPalletName][\n                config.bridgeFeeFunctionName\n              ]()\n            )\n          )\n            .shiftedBy(-config.decimals)\n            .toNumber()\n        : config.bridgeFeeValue\n        ? config.bridgeFeeValue\n        : 0;\n\n      setBridgeFee(fee);\n    }\n  }, [api, homeChainConfig]);\n\n  const confirmChainID = useCallback(async () => {\n    if (api) {\n      const currentId = Number(\n        api.consts[\n          (homeChainConfig as SubstrateBridgeConfig).chainbridgePalletName\n        ].bridgeChainId.toHuman()\n      );\n      if (homeChainConfig?.chainId !== currentId) {\n        const correctConfig = homeChains.find(\n          (item) => item.chainId === currentId\n        );\n        if (correctConfig) {\n          handleSetHomeChain(currentId);\n        }\n      }\n    }\n  }, [api, handleSetHomeChain, homeChainConfig, homeChains]);\n\n  useEffect(() => {\n    // For all constants & essential values like:\n    // Relayer Threshold, resources IDs & Bridge Fees\n    // It is recommended to collect state at this point\n    if (api) {\n      if (api.isConnected && homeChainConfig) {\n        getRelayerThreshold();\n        confirmChainID();\n        getBridgeFee();\n      }\n    }\n  }, [api, getRelayerThreshold, getBridgeFee, confirmChainID, homeChainConfig]);\n\n  useEffect(() => {\n    if (!homeChainConfig || !address) return;\n    let unsubscribe: VoidFn | undefined;\n    if (api) {\n      api.query.system\n        .account(address, (result) => {\n          const {\n            data: { free: balance },\n          } = result.toJSON() as any;\n          setTokens({\n            [homeChainConfig.tokens[0].symbol || \"TOKEN\"]: {\n              decimals: homeChainConfig.decimals,\n              balance: parseInt(\n                utils.formatUnits(balance, homeChainConfig.decimals)\n              ),\n              balanceBN: new BN(balance).shiftedBy(-homeChainConfig.decimals),\n              name: homeChainConfig.tokens[0].name,\n              symbol: homeChainConfig.tokens[0].symbol,\n            },\n          });\n        })\n        .then((unsub) => {\n          unsubscribe = unsub;\n        })\n        .catch(console.error);\n    }\n    return () => {\n      unsubscribe && unsubscribe();\n    };\n  }, [api, address, homeChainConfig]);\n\n  const handleConnect = useCallback(async () => {\n    // Requests permission to inject the wallet\n    if (!isReady) {\n      web3Enable(\"chainbridge-ui\")\n        .then(() => {\n          // web3Account resolves with the injected accounts\n          // or an empty array\n          web3Accounts()\n            .then((accounts) => {\n              return accounts.map(({ address, meta }) => ({\n                address,\n                meta: {\n                  ...meta,\n                  name: `${meta.name} (${meta.source})`,\n                },\n              }));\n            })\n            .then((injectedAccounts) => {\n              // This is where the correct chain configuration is set to the network context\n              // Any operations before presenting the accounts to the UI or providing the config\n              // to the rest of the dapp should be done here\n              setAccounts(injectedAccounts);\n              if (injectedAccounts.length === 1) {\n                setAddress(injectedAccounts[0].address);\n              }\n              handleSetHomeChain(\n                homeChains.find((item) => item.type === \"Substrate\")?.chainId\n              );\n            })\n            .catch(console.error);\n        })\n        .catch(console.error);\n    }\n  }, [isReady, handleSetHomeChain, homeChains]);\n\n  useEffect(() => {\n    // This is a simple check\n    // The reason for having a isReady is that the UI can lazy load data from this point\n    api?.isReady.then(() => setIsReady(true));\n  }, [api, setIsReady]);\n\n  const selectAccount = useCallback(\n    (index: number) => {\n      setAddress(accounts[index].address);\n    },\n    [accounts]\n  );\n\n  const deposit = useCallback(\n    async (\n      amount: number,\n      recipient: string,\n      tokenAddress: string,\n      destinationChainId: number\n    ) => {\n      if (api && address) {\n        const allAccounts = await web3Accounts();\n        const targetAccount = allAccounts.find(\n          (item) => item.address === address\n        );\n        if (targetAccount) {\n          const transferExtrinsic = submitDeposit(\n            api,\n            amount,\n            recipient,\n            destinationChainId\n          );\n\n          const injector = await web3FromSource(targetAccount.meta.source);\n          setTransactionStatus(\"Initializing Transfer\");\n          setDepositAmount(amount);\n          transferExtrinsic\n            .signAndSend(\n              address,\n              { signer: injector.signer },\n              ({ status, events }) => {\n                status.isInBlock &&\n                  console.log(\n                    `Completed at block hash #${status.isInBlock.toString()}`\n                  );\n\n                if (status.isFinalized) {\n                  events.filter(({ event }) => {\n                    return api.events[\n                      (homeChainConfig as SubstrateBridgeConfig)\n                        .chainbridgePalletName\n                    ].FungibleTransfer.is(event);\n                  });\n                  api.query[\n                    (homeChainConfig as SubstrateBridgeConfig)\n                      .chainbridgePalletName\n                  ]\n                    .chainNonces(destinationChainId)\n                    .then((response) => {\n                      setDepositNonce(`${response.toJSON()}`);\n                      setTransactionStatus(\"In Transit\");\n                    })\n                    .catch((error) => {\n                      console.error(error);\n                    });\n                } else {\n                  console.log(`Current status: ${status.type}`);\n                }\n              }\n            )\n            .catch((error: any) => {\n              console.log(\":( transaction failed\", error);\n              setTransactionStatus(\"Transfer Aborted\");\n            });\n        }\n      }\n    },\n    [api, setDepositNonce, setTransactionStatus, address, homeChainConfig]\n  );\n\n  // Required for adaptor however not needed for substrate\n  const wrapToken = async (value: number): Promise<string> => {\n    return \"Not implemented\";\n  };\n\n  // Required for adaptor however not needed for substrate\n  const unwrapToken = async (value: number): Promise<string> => {\n    return \"Not implemented\";\n  };\n\n  return (\n    <HomeBridgeContext.Provider\n      value={{\n        connect: handleConnect,\n        disconnect: async () => {\n          await api?.disconnect();\n        },\n        getNetworkName: () => homeChainConfig?.name || \"undefined\",\n        bridgeFee,\n        deposit,\n        depositAmount,\n        selectedToken,\n        setDepositAmount,\n        setSelectedToken,\n        tokens: tokens,\n        relayerThreshold,\n        wrapTokenConfig: undefined, // Not implemented\n        wrapper: undefined, // Not implemented\n        wrapToken, // Not implemented\n        unwrapToken, // Not implemented\n        isReady: isReady,\n        chainConfig: homeChainConfig,\n        address: address,\n        nativeTokenBalance: 0,\n        accounts: accounts,\n        selectAccount: selectAccount,\n        handleCheckSupplies: undefined,\n      }}\n    >\n      {children}\n    </HomeBridgeContext.Provider>\n  );\n};\n\nexport const SubstrateDestinationAdaptorProvider = ({\n  children,\n}: IDestinationBridgeProviderProps) => {\n  const {\n    depositNonce,\n    destinationChainConfig,\n    setDepositVotes,\n    depositVotes,\n    tokensDispatch,\n    setTransactionStatus,\n  } = useNetworkManager();\n\n  const [api, setApi] = useState<ApiPromise | undefined>();\n\n  const [initiaising, setInitialising] = useState(false);\n  useEffect(() => {\n    // Once the chain ID has been set in the network context, the destination configuration will be automatically\n    // set thus triggering this\n    if (!destinationChainConfig || initiaising || api) return;\n    setInitialising(true);\n    createApi(destinationChainConfig.rpcUrl)\n      .then((api) => {\n        setApi(api);\n        setInitialising(false);\n      })\n      .catch(console.error);\n  }, [destinationChainConfig, api, initiaising]);\n\n  const [listenerActive, setListenerActive] = useState<\n    UnsubscribePromise | undefined\n  >(undefined);\n\n  useEffect(() => {\n    if (api && !listenerActive && depositNonce) {\n      // Wire up event listeners\n      // Subscribe to system events via storage\n      const unsubscribe = api.query.system.events((events) => {\n        console.log(\"----- Received \" + events.length + \" event(s): -----\");\n        // loop through the Vec<EventRecord>\n        events.forEach((record) => {\n          // extract the phase, event and the event types\n          const { event, phase } = record;\n          const types = event.typeDef;\n          // show what we are busy with\n          console.log(\n            event.section +\n              \":\" +\n              event.method +\n              \"::\" +\n              \"phase=\" +\n              phase.toString()\n          );\n          console.log(event.meta.documentation.toString());\n          // loop through each of the parameters, displaying the type and data\n          event.data.forEach((data, index) => {\n            console.log(types[index].type + \";\" + data.toString());\n          });\n\n          if (\n            event.section ===\n              (destinationChainConfig as SubstrateBridgeConfig)\n                .chainbridgePalletName &&\n            event.method === \"VoteFor\"\n          ) {\n            setDepositVotes(depositVotes + 1);\n            tokensDispatch({\n              type: \"addMessage\",\n              payload: {\n                address: \"Substrate Relayer\",\n                signed: \"Confirmed\",\n              },\n            });\n          }\n\n          if (\n            event.section ===\n              (destinationChainConfig as SubstrateBridgeConfig)\n                .chainbridgePalletName &&\n            event.method === \"ProposalApproved\"\n          ) {\n            setDepositVotes(depositVotes + 1);\n            setTransactionStatus(\"Transfer Completed\");\n          }\n        });\n      });\n      setListenerActive(unsubscribe);\n    } else if (listenerActive && !depositNonce) {\n      const unsubscribeCall = async () => {\n        setListenerActive(undefined);\n      };\n      unsubscribeCall();\n    }\n  }, [\n    api,\n    depositNonce,\n    depositVotes,\n    destinationChainConfig,\n    listenerActive,\n    setDepositVotes,\n    setTransactionStatus,\n    tokensDispatch,\n  ]);\n\n  return (\n    <DestinationBridgeContext.Provider\n      value={{\n        disconnect: async () => {\n          await api?.disconnect();\n        },\n      }}\n    >\n      {children}\n    </DestinationBridgeContext.Provider>\n  );\n};\n","import { Vote } from \"../NetworkManagerContext\";\n\nexport type AddMessageAction = { type: \"addMessage\"; payload: string | Vote };\nexport type ResetAction = { type: \"resetMessages\" };\n\nexport function transitMessageReducer(\n  transitMessage: Array<string | Vote>,\n  action: AddMessageAction | ResetAction\n) {\n  switch (action.type) {\n    case \"addMessage\":\n      return [...transitMessage, action.payload];\n    case \"resetMessages\":\n      return [];\n    default:\n      return transitMessage;\n  }\n}\n","import React, {\n  Dispatch,\n  useCallback,\n  useContext,\n  useEffect,\n  useReducer,\n  useState,\n} from \"react\";\nimport {\n  BridgeConfig,\n  chainbridgeConfig,\n  ChainType,\n} from \"../chainbridgeConfig\";\nimport {\n  EVMDestinationAdaptorProvider,\n  EVMHomeAdaptorProvider,\n} from \"./Adaptors/EVMAdaptors\";\nimport { IDestinationBridgeProviderProps } from \"./Adaptors/interfaces\";\nimport {\n  SubstrateDestinationAdaptorProvider,\n  SubstrateHomeAdaptorProvider,\n} from \"./Adaptors/SubstrateAdaptors\";\nimport { DestinationBridgeContext } from \"./DestinationBridgeContext\";\nimport { HomeBridgeContext } from \"./HomeBridgeContext\";\nimport {\n  AddMessageAction,\n  ResetAction,\n  transitMessageReducer,\n} from \"./Reducers/TransitMessageReducer\";\n\ninterface INetworkManagerProviderProps {\n  children: React.ReactNode | React.ReactNode[];\n}\n\nexport type WalletType = ChainType | \"select\" | \"unset\";\n\nexport type Vote = {\n  address: string;\n  signed: \"Confirmed\" | \"Rejected\";\n};\n\nexport type TransactionStatus =\n  | \"Initializing Transfer\"\n  | \"In Transit\"\n  | \"Transfer Completed\"\n  | \"Transfer Aborted\";\n\ninterface NetworkManagerContext {\n  walletType: WalletType;\n  setWalletType: (walletType: WalletType) => void;\n\n  networkId: number;\n  setNetworkId: (id: number) => void;\n\n  chainId?: number;\n\n  homeChainConfig: BridgeConfig | undefined;\n  destinationChainConfig: BridgeConfig | undefined;\n\n  destinationChains: Array<{ chainId: number; name: string }>;\n  homeChains: BridgeConfig[];\n  handleSetHomeChain: (chainId: number | undefined) => void;\n  setDestinationChain: (chainId: number | undefined) => void;\n\n  transactionStatus?: TransactionStatus;\n  setTransactionStatus: (message: TransactionStatus | undefined) => void;\n  inTransitMessages: Array<string | Vote>;\n\n  setDepositVotes: (input: number) => void;\n  depositVotes: number;\n\n  setDepositNonce: (input: string | undefined) => void;\n  depositNonce: string | undefined;\n\n  tokensDispatch: Dispatch<AddMessageAction | ResetAction>;\n\n  setTransferTxHash: (input: string) => void;\n  transferTxHash: string;\n}\n\nconst NetworkManagerContext = React.createContext<\n  NetworkManagerContext | undefined\n>(undefined);\n\nconst NetworkManagerProvider = ({ children }: INetworkManagerProviderProps) => {\n  const [walletType, setWalletType] = useState<WalletType>(\"unset\");\n\n  const [networkId, setNetworkId] = useState(0);\n\n  const [homeChainConfig, setHomeChainConfig] = useState<\n    BridgeConfig | undefined\n  >();\n  const [homeChains, setHomeChains] = useState<BridgeConfig[]>([]);\n  const [destinationChainConfig, setDestinationChain] = useState<\n    BridgeConfig | undefined\n  >();\n  const [destinationChains, setDestinationChains] = useState<BridgeConfig[]>(\n    []\n  );\n\n  const [transferTxHash, setTransferTxHash] = useState<string>(\"\");\n  const [transactionStatus, setTransactionStatus] = useState<\n    TransactionStatus | undefined\n  >(undefined);\n  const [depositNonce, setDepositNonce] = useState<string | undefined>(\n    undefined\n  );\n  const [depositVotes, setDepositVotes] = useState<number>(0);\n  const [inTransitMessages, tokensDispatch] = useReducer(\n    transitMessageReducer,\n    []\n  );\n\n  const handleSetHomeChain = useCallback(\n    (chainId: number | undefined) => {\n      if (!chainId && chainId !== 0) {\n        setHomeChainConfig(undefined);\n        return;\n      }\n      const chain = homeChains.find((c) => c.chainId === chainId);\n\n      if (chain) {\n        setHomeChainConfig(chain);\n        setDestinationChains(\n          chainbridgeConfig.chains.filter(\n            (bridgeConfig: BridgeConfig) =>\n              bridgeConfig.chainId !== chain.chainId\n          )\n        );\n        if (chainbridgeConfig.chains.length === 2) {\n          setDestinationChain(\n            chainbridgeConfig.chains.find(\n              (bridgeConfig: BridgeConfig) =>\n                bridgeConfig.chainId !== chain.chainId\n            )\n          );\n        }\n      }\n    },\n    [homeChains, setHomeChainConfig]\n  );\n\n  useEffect(() => {\n    if (walletType !== \"unset\") {\n      if (walletType === \"select\") {\n        setHomeChains(chainbridgeConfig.chains);\n      } else {\n        setHomeChains(\n          chainbridgeConfig.chains.filter(\n            (bridgeConfig: BridgeConfig) => bridgeConfig.type === walletType\n          )\n        );\n      }\n    } else {\n      setHomeChains([]);\n    }\n  }, [walletType]);\n\n  const handleSetDestination = useCallback(\n    (chainId: number | undefined) => {\n      if (chainId === undefined) {\n        setDestinationChain(undefined);\n      } else if (homeChainConfig && !depositNonce) {\n        const chain = destinationChains.find((c) => c.chainId === chainId);\n        if (!chain) {\n          throw new Error(\"Invalid destination chain selected\");\n        }\n        setDestinationChain(chain);\n      } else {\n        throw new Error(\"Home chain not selected\");\n      }\n    },\n    [depositNonce, destinationChains, homeChainConfig]\n  );\n\n  const DestinationProvider = ({\n    children,\n  }: IDestinationBridgeProviderProps) => {\n    if (destinationChainConfig?.type === \"Ethereum\") {\n      return (\n        <EVMDestinationAdaptorProvider>\n          {children}\n        </EVMDestinationAdaptorProvider>\n      );\n    } else if (destinationChainConfig?.type === \"Substrate\") {\n      return (\n        <SubstrateDestinationAdaptorProvider>\n          {children}\n        </SubstrateDestinationAdaptorProvider>\n      );\n    } else {\n      return (\n        <DestinationBridgeContext.Provider\n          value={{\n            disconnect: async () => {},\n          }}\n        >\n          {children}\n        </DestinationBridgeContext.Provider>\n      );\n    }\n  };\n\n  return (\n    <NetworkManagerContext.Provider\n      value={{\n        chainId: homeChainConfig?.chainId,\n        networkId,\n        setNetworkId,\n        homeChainConfig,\n        setWalletType,\n        walletType,\n        homeChains: homeChains,\n        destinationChains,\n        inTransitMessages,\n        handleSetHomeChain,\n        setDestinationChain: handleSetDestination,\n        destinationChainConfig,\n        transactionStatus,\n        setTransactionStatus,\n        depositNonce,\n        depositVotes,\n        setDepositNonce,\n        setDepositVotes,\n        tokensDispatch,\n        setTransferTxHash,\n        transferTxHash,\n      }}\n    >\n      {walletType === \"Ethereum\" ? (\n        <EVMHomeAdaptorProvider>\n          <DestinationProvider>{children}</DestinationProvider>\n        </EVMHomeAdaptorProvider>\n      ) : walletType === \"Substrate\" ? (\n        <SubstrateHomeAdaptorProvider>\n          <DestinationProvider>{children}</DestinationProvider>\n        </SubstrateHomeAdaptorProvider>\n      ) : (\n        <HomeBridgeContext.Provider\n          value={{\n            connect: async () => undefined,\n            disconnect: async () => {},\n            getNetworkName: (id: any) => \"\",\n            isReady: false,\n            selectedToken: \"\",\n            deposit: async (\n              amount: number,\n              recipient: string,\n              tokenAddress: string,\n              destinationChainId: number\n            ) => undefined,\n            setDepositAmount: () => undefined,\n            tokens: {},\n            setSelectedToken: (input: string) => undefined,\n            address: undefined,\n            bridgeFee: undefined,\n            chainConfig: undefined,\n            depositAmount: undefined,\n            nativeTokenBalance: undefined,\n            relayerThreshold: undefined,\n            wrapTokenConfig: undefined,\n            wrapper: undefined,\n            wrapToken: async (value: number) => \"\",\n            unwrapToken: async (value: number) => \"\",\n          }}\n        >\n          <DestinationProvider>{children}</DestinationProvider>\n        </HomeBridgeContext.Provider>\n      )}\n    </NetworkManagerContext.Provider>\n  );\n};\n\nconst useNetworkManager = () => {\n  const context = useContext(NetworkManagerContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useNetworkManager must be called within a HomeNetworkProvider\"\n    );\n  }\n  return context;\n};\n\nexport { NetworkManagerProvider, useNetworkManager };\n","import React, { useContext } from \"react\";\nimport { DestinationChainContext } from \"./Adaptors/interfaces\";\n\nconst DestinationBridgeContext = React.createContext<\n  DestinationChainContext | undefined\n>(undefined);\n\nconst useDestinationBridge = () => {\n  const context = useContext(DestinationBridgeContext);\n  if (context === undefined) {\n    throw new Error(\"useHomeBridge must be called within a HomeBridgeProvider\");\n  }\n  return context;\n};\n\nexport { DestinationBridgeContext, useDestinationBridge };\n","import { CeloProvider } from \"@celo-tools/celo-ethers-wrapper\";\nimport { ethers, utils, BigNumber } from \"ethers\";\nimport { Erc20HandlerFactory } from \"@chainsafe/chainbridge-contracts\";\nimport { Tokens } from \"@chainsafe/web3-context/dist/context/tokensReducer\";\n\nimport { Erc20DetailedFactory } from \"../../../Contracts/Erc20DetailedFactory\";\n\nimport { EvmBridgeConfig, TokenConfig } from \"../../../chainbridgeConfig\";\n\nconst isCelo = (networkId?: number) =>\n  [42220, 44787, 62320].includes(networkId ?? 0);\n\nconst getRpcProviderFromHttpUrl = (url: string) => {\n  const urlInstance = new URL(url);\n  if (urlInstance.username && urlInstance.password) {\n    var urlInfo = {\n      url: urlInstance.hostname,\n      user: urlInstance.username,\n      password: urlInstance.password,\n    };\n    return new ethers.providers.JsonRpcProvider(urlInfo);\n  }\n  return new ethers.providers.JsonRpcProvider(url);\n};\n\nexport function getProvider(destinationChainConfig?: any) {\n  let provider: any;\n  if (isCelo(destinationChainConfig?.networkId)) {\n    provider = new CeloProvider(destinationChainConfig?.rpcUrl);\n  } else if (destinationChainConfig?.rpcUrl.startsWith(\"wss\")) {\n    if (destinationChainConfig.rpcUrl.includes(\"infura\")) {\n      const parts = destinationChainConfig.rpcUrl.split(\"/\");\n\n      provider = new ethers.providers.InfuraWebSocketProvider(\n        destinationChainConfig.networkId,\n        parts[parts.length - 1]\n      );\n    }\n    if (destinationChainConfig.rpcUrl.includes(\"alchemyapi\")) {\n      const parts = destinationChainConfig.rpcUrl.split(\"/\");\n\n      provider = new ethers.providers.AlchemyWebSocketProvider(\n        destinationChainConfig.networkId,\n        parts[parts.length - 1]\n      );\n    }\n  } else {\n    provider = getRpcProviderFromHttpUrl(destinationChainConfig?.rpcUrl);\n  }\n  return provider;\n}\n\nexport async function hasTokenSupplies(\n  destinationChain: EvmBridgeConfig,\n  tokens: Tokens,\n  token: TokenConfig,\n  amount: number,\n  tokenAddress: string\n) {\n  const destinationToken = destinationChain?.tokens.find(\n    (_token: TokenConfig) => _token.resourceId === token.resourceId\n  );\n  if (\n    destinationToken &&\n    destinationChain !== undefined &&\n    destinationChain.type === \"Ethereum\"\n  ) {\n    let provider = getProvider(destinationChain);\n    const erc20destinationToken = Erc20DetailedFactory.connect(\n      destinationToken.address,\n      provider\n    );\n    const destinationErc20Handler = (destinationChain as EvmBridgeConfig)\n      .erc20HandlerAddress;\n\n    const destinationErc20DHandlerInstance = Erc20HandlerFactory.connect(\n      destinationErc20Handler,\n      provider\n    );\n    const isMintable = await destinationErc20DHandlerInstance._burnList(\n      destinationToken.address\n    );\n    if (isMintable) {\n      console.log(\"token mintable on destination chain\");\n      return true;\n    }\n    const balanceTokens = await erc20destinationToken.balanceOf(\n      destinationErc20Handler\n    );\n    if (Number(utils.formatUnits(balanceTokens)) < amount) {\n      console.log(\"Not enough token balance on destination chain!\");\n      return false;\n    }\n    return true;\n  }\n}\n\nexport async function detectEIP1559MaxFeePerGas(\n  provider: ethers.providers.Web3Provider\n): Promise<boolean> {\n  try {\n    const feeData = await provider.getFeeData();\n    if (typeof feeData.maxFeePerGas !== \"undefined\") {\n      return true;\n    }\n  } catch (error) {\n    console.warn(error);\n    console.warn(\n      \"Can't access fee data for EIP-1559, fallback to legacy transaction\"\n    );\n  }\n  return false;\n}\n\nexport async function getPriceCompatibility(\n  provider: ethers.providers.Web3Provider | undefined,\n  homeChainConfig: any,\n  gasPrice: number\n) {\n  let gasPriceCompatibility = undefined;\n  if (provider) {\n    const hasMaxPrice = await detectEIP1559MaxFeePerGas(provider);\n    if (!hasMaxPrice) {\n      gasPriceCompatibility = BigNumber.from(\n        utils.parseUnits(\n          (\n            (homeChainConfig as EvmBridgeConfig).defaultGasPrice || gasPrice\n          ).toString(),\n          9\n        )\n      ).toString();\n    }\n  }\n  return gasPriceCompatibility;\n}\n","import { ApiPromise, WsProvider } from \"@polkadot/api\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  chainbridgeConfig,\n  SubstrateBridgeConfig,\n} from \"../../../chainbridgeConfig\";\n\nexport const createApi = async (rpcUrl: string) => {\n  const provider = new WsProvider(rpcUrl);\n  const subChainConfig = chainbridgeConfig.chains.find(\n    (c) => c.rpcUrl === rpcUrl\n  ) as SubstrateBridgeConfig;\n  const types = (await import(`./${subChainConfig.typesFileName}`)) as any;\n  return ApiPromise.create({ provider, types });\n};\n\nexport const submitDeposit = (\n  api: ApiPromise,\n  amount: number,\n  recipient: string,\n  destinationChainId: number\n) => {\n  const subChainConfig = chainbridgeConfig.chains.find(\n    (c) => c.chainId !== destinationChainId\n  ) as SubstrateBridgeConfig;\n\n  return api.tx[subChainConfig.transferPalletName][\n    subChainConfig.transferFunctionName\n  ](\n    new BigNumber(amount)\n      .multipliedBy(\n        new BigNumber(10).pow(new BigNumber(subChainConfig.decimals))\n      )\n      .toString(10),\n    recipient,\n    destinationChainId\n  );\n};\n","/* Generated by ts-generator ver. 0.0.8 */\n/* tslint:disable */\n\nimport { Contract, Signer } from \"ethers\";\nimport { Provider } from \"@ethersproject/providers\";\n\nimport { Erc20Detailed } from \"./Erc20Detailed\";\n\nexport class Erc20DetailedFactory {\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): Erc20Detailed {\n    return new Contract(address, _abi, signerOrProvider) as Erc20Detailed;\n  }\n}\n\nconst _abi = [\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"sender\",\n        type: \"address\",\n      },\n      {\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transferFrom\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transfer\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        name: \"spender\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowance\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        name: \"name\",\n        type: \"string\",\n      },\n      {\n        name: \"symbol\",\n        type: \"string\",\n      },\n      {\n        name: \"decimals\",\n        type: \"uint8\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint8\",\n      },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n"],"sourceRoot":""}