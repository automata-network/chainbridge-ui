(this["webpackJsonp@chainsafe/chainbridge-ui"]=this["webpackJsonp@chainsafe/chainbridge-ui"]||[]).push([[16],{1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(3),o=n(273),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"connect",value:function(e,t){return new o.b(e,c,t)}}]),e}(),c=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}]},1069:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(11),r=n.n(a),o=n(34),i=n(7),c=n(10),s=n.n(c),l=n(305),u=n(844),d=n(63),p=n(87),m=n(73),f=n(850),b=n(1041),h=n(135),g=n(171),v=n(1042),y=n(56),k=n(329),w=["0xdac17f958d2ee523a2206206994597c13d831ec7","0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"],x=function(t){var n=t.children,a=Object(u.b)(),x=a.isReady,E=a.network,C=a.provider,j=a.gasPrice,O=a.address,N=a.tokens,T=a.wallet,S=a.checkIsReady,I=a.ethBalance,U=a.onboard,B=a.resetOnboard,A=Object(h.b)(),D=A.homeChainConfig,F=A.setTransactionStatus,R=A.setDepositNonce,P=A.handleSetHomeChain,H=A.homeChains,M=A.setNetworkId,L=Object(c.useState)(void 0),W=Object(i.a)(L,2),V=W[0],z=W[1],q=Object(c.useState)(void 0),Z=Object(i.a)(q,2),_=Z[0],K=Z[1],J=Object(c.useState)(),Y=Object(i.a)(J,2),$=Y[0],G=Y[1],Q=Object(c.useState)(),X=Object(i.a)(Q,2),ee=X[0],te=X[1],ne=Object(c.useState)(""),ae=Object(i.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(c.useState)(void 0),ce=Object(i.a)(ie,2),se=ce[0],le=ce[1],ue=Object(c.useState)(void 0),de=Object(i.a)(ue,2),pe=de[0],me=de[1];Object(c.useEffect)((function(){if(E){var e=H.find((function(e){return e.networkId===E}));M(E),e&&P(e.chainId)}}),[P,H,E,M]);var fe=Object(c.useState)(!1),be=Object(i.a)(fe,2),he=be[0],ge=be[1],ve=Object(c.useState)(!1),ye=Object(i.a)(ve,2),ke=ye[0],we=ye[1];Object(c.useEffect)((function(){he||V||!U||(console.log("starting init"),ge(!0),ke?S().then((function(e){if(e&&D&&E&&x&&C){var t=C.getSigner();if(!t)return console.log("No signer"),void ge(!1);var n=l.BridgeFactory.connect(D.bridgeAddress,t);z(n);var a=D.tokens.find((function(e){return e.isNativeWrappedToken}));if(a){me(a);var r=b.a.connect(a.address,t);le(r)}else me(void 0),le(void 0)}})).catch((function(e){console.error(e)})).finally((function(){ge(!1)})):U.walletSelect("metamask").then((function(e){we(e),e&&S().then((function(e){if(e&&D&&E&&x&&C){var t=C.getSigner();if(!t)return console.log("No signer"),void ge(!1);var n=l.BridgeFactory.connect(D.bridgeAddress,t);z(n);var a=D.tokens.find((function(e){return e.isNativeWrappedToken}));if(a){me(a);var r=b.a.connect(a.address,t);le(r)}else me(void 0),le(void 0)}})).catch((function(e){console.error(e)})).finally((function(){ge(!1)}))})).catch((function(e){ge(!1),console.error(e)})))}),[he,D,x,C,S,E,V,U,ke]),Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=7;break}return e.t0=d.a,e.next=4,V._relayerThreshold();case 4:e.t1=e.sent,t=e.t0.from.call(e.t0,e.t1).toNumber(),K(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=9;break}return e.t0=Number,e.t1=p.utils,e.next=5,V._fee();case 5:e.t2=e.sent,e.t3=e.t1.formatEther.call(e.t1,e.t2),t=(0,e.t0)(e.t3),G(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[V]);var xe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(T&&T.connect&&E)){e.next=5;break}return e.next=3,null===U||void 0===U?void 0:U.walletSelect("metamask");case 3:return e.next=5,T.connect();case 5:case"end":return e.stop()}}),e)}))),[T,E,U]),Ee=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=10;break}if(o=m.a.chains.find((function(e){return e.chainId===a})),i=D.tokens.find((function(e){return e.address===n})),"Ethereum"!==(null===o||void 0===o?void 0:o.type)||!i){e.next=9;break}return e.next=6,Object(k.c)(o,N,i,t,n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[D,N]),Ce=Object(c.useCallback)(function(){var t=Object(o.a)(r.a.mark((function t(n,a,o,i){var c,s,l,u,b,h,g,v;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D&&V){t.next=3;break}return console.error("Home bridge contract is not instantiated"),t.abrupt("return");case 3:if(c=null===C||void 0===C?void 0:C.getSigner(),O&&c){t.next=7;break}return console.log("No signer"),t.abrupt("return");case 7:if("Substrate"===(null===(s=m.a.chains.find((function(e){return e.chainId===i})))||void 0===s?void 0:s.type)&&(a="0x".concat(e.from(Object(y.decodeAddress)(a)).toString("hex"))),l=D.tokens.find((function(e){return e.address===o}))){t.next=13;break}return console.log("Invalid token selected"),t.abrupt("return");case 13:return F("Initializing Transfer"),te(n),oe(o),u=f.a.connect(o,c),b=N[o].decimals,h="0x"+p.utils.hexZeroPad(d.a.from(p.utils.parseUnits(n.toString(),b)).toHexString(),32).substr(2)+p.utils.hexZeroPad(p.utils.hexlify((a.length-2)/2),32).substr(2)+a.substr(2),t.prev=19,t.next=22,Object(k.a)(C,D,j);case 22:return g=t.sent,t.next=25,u.allowance(O,D.erc20HandlerAddress);case 25:if(v=t.sent,!(Number(p.utils.formatUnits(v,b))<n)){t.next=36;break}if(!(Number(p.utils.formatUnits(v,b))>0&&w.includes(o))){t.next=32;break}return t.next=30,u.approve(D.erc20HandlerAddress,d.a.from(p.utils.parseUnits("0",b)),{gasPrice:g});case 30:return t.next=32,t.sent.wait(1);case 32:return t.next=34,u.approve(D.erc20HandlerAddress,d.a.from(p.utils.parseUnits(n.toString(),b)),{gasPrice:g});case 34:return t.next=36,t.sent.wait(1);case 36:return V.once(V.filters.Deposit(i,l.resourceId,null),(function(e,t,n){R("".concat(n.toString())),F("In Transit")})),t.next=39,V.deposit(i,l.resourceId,h,{gasPrice:g,value:p.utils.parseUnits(($||0).toString(),18)});case 39:return t.next=41,t.sent.wait();case 41:return t.abrupt("return",Promise.resolve());case 44:t.prev=44,t.t0=t.catch(19),console.error(t.t0),F("Transfer Aborted"),oe(o);case 49:case"end":return t.stop()}}),t,null,[[19,44]])})));return function(e,n,a,r){return t.apply(this,arguments)}}(),[V,O,$,D,j,C,R,F,N]),je=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe&&(null===se||void 0===se?void 0:se.deposit)&&D){e.next=2;break}return e.abrupt("return","not ready");case 2:return e.prev=2,e.next=5,Object(k.a)(C,D,j);case 5:return n=e.sent,e.next=8,se.deposit({value:Object(v.parseUnits)("".concat(t),D.decimals),gasPrice:n});case 8:return a=e.sent,e.next=11,null===a||void 0===a?void 0:a.wait();case 11:if(!(null===a||void 0===a?void 0:a.hash)){e.next=15;break}return e.abrupt("return",null===a||void 0===a?void 0:a.hash);case 15:return e.abrupt("return","");case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe&&(null===se||void 0===se?void 0:se.withdraw)&&D){e.next=2;break}return e.abrupt("return","not ready");case 2:return e.prev=2,e.next=5,Object(k.a)(C,D,j);case 5:return n=e.sent,e.next=8,se.deposit({value:Object(v.parseUnits)("".concat(t),D.decimals),gasPrice:n});case 8:return a=e.sent,e.next=11,null===a||void 0===a?void 0:a.wait();case 11:if(!(null===a||void 0===a?void 0:a.hash)){e.next=15;break}return e.abrupt("return",null===a||void 0===a?void 0:a.hash);case 15:return e.abrupt("return","");case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(g.a.Provider,{value:{connect:xe,disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(e){switch(Number(e)){case 5:return"Localhost";case 1:return"Mainnet";case 3:return"Ropsten";case 4:return"Rinkeby";case 6:return"Kotti";case 42:return"Kovan";case 61:return"Ethereum Classic - Mainnet";case 42220:return"CELO - Mainnet";case 44787:return"CELO - Alfajores Testnet";case 62320:return"CELO - Baklava Testnet";default:return"Other"}},bridgeFee:$,deposit:Ce,depositAmount:ee,selectedToken:re,setDepositAmount:te,setSelectedToken:oe,tokens:N,relayerThreshold:_,wrapTokenConfig:pe,wrapper:se,wrapToken:je,unwrapToken:Oe,isReady:x,chainConfig:D,address:O,nativeTokenBalance:I,handleCheckSupplies:Ee}},n)}}).call(this,n(59).Buffer)},1293:function(e,t,n){e.exports=n.p+"static/media/eth.9b4c5748.svg"},1294:function(e,t,n){e.exports=n.p+"static/media/weth.802c6eac.svg"},1295:function(e,t,n){e.exports=n.p+"static/media/dai.15edf859.svg"},1296:function(e,t,n){e.exports=n.p+"static/media/cusd.45c5902a.svg"},1325:function(e,t,n){e.exports=n(1663)},1330:function(e,t,n){},1349:function(e,t){},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I}));var a=n(11),r=n.n(a),o=n(34),i=n(7),c=n(10),s=n.n(c),l=n(73),u=n(1069),d=n(305),p=n(63),m=n(380),f=n(329),b=function(e){var t=e.children,n=I(),a=n.depositNonce,l=n.destinationChainConfig,u=n.homeChainConfig,b=n.tokensDispatch,h=n.setTransactionStatus,g=n.setTransferTxHash,v=n.setDepositVotes,y=n.depositVotes,k=Object(c.useState)(void 0),w=Object(i.a)(k,2),x=w[0],E=w[1];return Object(c.useEffect)((function(){if(!x){var e=Object(f.b)(l);if(l&&e){var t=d.BridgeFactory.connect(l.bridgeAddress,e);E(t)}}}),[l,x]),Object(c.useEffect)((function(){return l&&null!==(null===u||void 0===u?void 0:u.chainId)&&void 0!==(null===u||void 0===u?void 0:u.chainId)&&x&&a&&(x.on(x.filters.ProposalEvent(u.chainId,p.a.from(a),null,null,null),(function(e,t,n,a,r,o){switch(p.a.from(n).toNumber()){case 1:b({type:"addMessage",payload:"Proposal created on ".concat(l.name)});break;case 2:b({type:"addMessage",payload:"Proposal has passed. Executing..."});break;case 3:h("Transfer Completed"),g(o.transactionHash);break;case 4:h("Transfer Aborted"),g(o.transactionHash)}})),x.on(x.filters.ProposalVote(u.chainId,p.a.from(a),null,null),function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o,i){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getTransactionReceipt();case 2:1===(c=e.sent).status&&v(y+1),b({type:"addMessage",payload:{address:String(c.from),signed:1===c.status?"Confirmed":"Rejected"}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}())),function(){null===x||void 0===x||x.removeAllListeners()}}),[a,u,x,y,l,v,h,g,b]),s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)},h=n(53),g=n(27),v=n(171),y=n(553),k=n(656),w=n(1286),x=n(182),E=n(87),C=function(e){var t=e.children,n=new w.TypeRegistry,a=Object(c.useState)(),u=Object(i.a)(a,2),d=u[0],p=u[1],m=Object(c.useState)(!1),b=Object(i.a)(m,2),C=b[0],j=b[1],O=Object(c.useState)([]),N=Object(i.a)(O,2),T=N[0],S=N[1],U=Object(c.useState)(void 0),B=Object(i.a)(U,2),A=B[0],D=B[1],F=I(),R=F.homeChainConfig,P=F.setTransactionStatus,H=F.setDepositNonce,M=F.handleSetHomeChain,L=F.homeChains,W=Object(c.useState)(void 0),V=Object(i.a)(W,2),z=V[0],q=V[1],Z=Object(c.useState)(void 0),_=Object(i.a)(Z,2),K=_[0],J=_[1],Y=Object(c.useState)(),$=Object(i.a)(Y,2),G=$[0],Q=$[1],X=Object(c.useState)("CSS"),ee=Object(i.a)(X,2),te=ee[0],ne=ee[1],ae=Object(c.useState)({}),re=Object(i.a)(ae,2),oe=re[0],ie=re[1];Object(c.useEffect)((function(){fe()}));var ce=Object(c.useState)(!1),se=Object(i.a)(ce,2),le=se[0],ue=se[1];Object(c.useEffect)((function(){!R||le||d||(ue(!0),Object(y.createApi)(R.rpcUrl).then((function(e){p(e),ue(!1)})).catch(console.error))}),[R,n,d,le]);var de=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,d.query[R.chainbridgePalletName].relayerThreshold();case 3:t=e.sent,q(Number(t.toHuman()));case 5:case"end":return e.stop()}}),e)}))),[d,R]),pe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=15;break}if(!(t=R).bridgeFeeFunctionName){e.next=12;break}return e.t1=x.BigNumber,e.t2=Number,e.next=7,d.query[t.transferPalletName][t.bridgeFeeFunctionName]();case 7:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0=new e.t1(e.t4).shiftedBy(-t.decimals).toNumber(),e.next=13;break;case 12:e.t0=t.bridgeFeeValue?t.bridgeFeeValue:0;case 13:n=e.t0,J(n);case 15:case"end":return e.stop()}}),e)}))),[d,R]),me=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&(t=Number(d.consts[R.chainbridgePalletName].bridgeChainId.toHuman()),(null===R||void 0===R?void 0:R.chainId)!==t&&L.find((function(e){return e.chainId===t}))&&M(t));case 1:case"end":return e.stop()}}),e)}))),[d,M,R,L]);Object(c.useEffect)((function(){d&&d.isConnected&&R&&(de(),me(),pe())}),[d,de,pe,me,R]),Object(c.useEffect)((function(){var e;if(R&&A)return d&&d.query.system.account(A,(function(e){var t=e.toJSON().data.free;ie(Object(g.a)({},R.tokens[0].symbol||"TOKEN",{decimals:R.decimals,balance:parseInt(E.utils.formatUnits(t,R.decimals)),balanceBN:new x.BigNumber(t).shiftedBy(-R.decimals),name:R.tokens[0].name,symbol:R.tokens[0].symbol}))})).then((function(t){e=t})).catch(console.error),function(){e&&e()}}),[d,A,R]);var fe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C||Object(k.web3Enable)("chainbridge-ui").then((function(){Object(k.web3Accounts)().then((function(e){return e.map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(h.a)(Object(h.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}}))})).then((function(e){var t;S(e),1===e.length&&D(e[0].address),M(null===(t=L.find((function(e){return"Substrate"===e.type})))||void 0===t?void 0:t.chainId)})).catch(console.error)})).catch(console.error);case 1:case"end":return e.stop()}}),e)}))),[C,M,L]);Object(c.useEffect)((function(){null===d||void 0===d||d.isReady.then((function(){return j(!0)}))}),[d,j]);var be=Object(c.useCallback)((function(e){D(T[e].address)}),[T]),he=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!A){e.next=13;break}return e.next=3,Object(k.web3Accounts)();case 3:if(i=e.sent,!(c=i.find((function(e){return e.address===A})))){e.next=13;break}return s=Object(y.submitDeposit)(d,t,n,o),e.next=9,Object(k.web3FromSource)(c.meta.source);case 9:l=e.sent,P("Initializing Transfer"),Q(t),s.signAndSend(A,{signer:l.signer},(function(e){var t=e.status,n=e.events;t.isInBlock&&console.log("Completed at block hash #".concat(t.isInBlock.toString())),t.isFinalized?(n.filter((function(e){var t=e.event;return d.events[R.chainbridgePalletName].FungibleTransfer.is(t)})),d.query[R.chainbridgePalletName].chainNonces(o).then((function(e){H("".concat(e.toJSON())),P("In Transit")})).catch((function(e){console.error(e)}))):console.log("Current status: ".concat(t.type))})).catch((function(e){console.log(":( transaction failed",e),P("Transfer Aborted")}));case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),[d,H,P,A,R]),ge=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=10;break}if(o=l.a.chains.find((function(e){return e.chainId===a})),i=R.tokens.find((function(e){return e.address===n})),"Ethereum"!==(null===o||void 0===o?void 0:o.type)||!i){e.next=9;break}return e.next=6,Object(f.c)(o,oe,i,t,n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[R,oe]);return s.a.createElement(v.a.Provider,{value:{connect:fe,disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===d||void 0===d?void 0:d.disconnect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(){return(null===R||void 0===R?void 0:R.name)||"undefined"},bridgeFee:K,deposit:he,depositAmount:G,selectedToken:te,setDepositAmount:Q,setSelectedToken:ne,tokens:oe,relayerThreshold:z,wrapTokenConfig:void 0,wrapper:void 0,wrapToken:ge,unwrapToken:ve,isReady:C,chainConfig:R,address:A,nativeTokenBalance:0,accounts:T,selectAccount:be,handleCheckSupplies:ye}},t)},j=function(e){var t=e.children,n=I(),a=n.depositNonce,l=n.destinationChainConfig,u=n.setDepositVotes,d=n.depositVotes,p=n.tokensDispatch,f=n.setTransactionStatus,b=Object(c.useState)(),h=Object(i.a)(b,2),g=h[0],v=h[1],k=Object(c.useState)(!1),w=Object(i.a)(k,2),x=w[0],E=w[1];Object(c.useEffect)((function(){!l||x||g||(E(!0),Object(y.createApi)(l.rpcUrl).then((function(e){v(e),E(!1)})).catch(console.error))}),[l,g,x]);var C=Object(c.useState)(void 0),j=Object(i.a)(C,2),O=j[0],N=j[1];return Object(c.useEffect)((function(){if(g&&!O&&a){var e=g.query.system.events((function(e){console.log("----- Received "+e.length+" event(s): -----"),e.forEach((function(e){var t=e.event,n=e.phase,a=t.typeDef;console.log(t.section+":"+t.method+"::phase="+n.toString()),console.log(t.meta.documentation.toString()),t.data.forEach((function(e,t){console.log(a[t].type+";"+e.toString())})),t.section===l.chainbridgePalletName&&"VoteFor"===t.method&&(u(d+1),p({type:"addMessage",payload:{address:"Substrate Relayer",signed:"Confirmed"}})),t.section===l.chainbridgePalletName&&"ProposalApproved"===t.method&&(u(d+1),f("Transfer Completed"))}))}));N(e)}else if(O&&!a){(function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(void 0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[g,a,d,l,O,u,f,p]),s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===g||void 0===g?void 0:g.disconnect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)},O=n(16);function N(e,t){switch(t.type){case"addMessage":return[].concat(Object(O.a)(e),[t.payload]);case"resetMessages":return[];default:return e}}var T=s.a.createContext(void 0),S=function(e){var t=e.children,n=Object(c.useState)("unset"),a=Object(i.a)(n,2),d=a[0],p=a[1],f=Object(c.useState)(0),h=Object(i.a)(f,2),g=h[0],y=h[1],k=Object(c.useState)(),w=Object(i.a)(k,2),x=w[0],E=w[1],O=Object(c.useState)([]),S=Object(i.a)(O,2),I=S[0],U=S[1],B=Object(c.useState)(),A=Object(i.a)(B,2),D=A[0],F=A[1],R=Object(c.useState)([]),P=Object(i.a)(R,2),H=P[0],M=P[1],L=Object(c.useState)(""),W=Object(i.a)(L,2),V=W[0],z=W[1],q=Object(c.useState)(void 0),Z=Object(i.a)(q,2),_=Z[0],K=Z[1],J=Object(c.useState)(void 0),Y=Object(i.a)(J,2),$=Y[0],G=Y[1],Q=Object(c.useState)(0),X=Object(i.a)(Q,2),ee=X[0],te=X[1],ne=Object(c.useReducer)(N,[]),ae=Object(i.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(c.useCallback)((function(e){if(e||0===e){var t=I.find((function(t){return t.chainId===e}));t&&(E(t),M(l.a.chains.filter((function(e){return e.chainId!==t.chainId}))),2===l.a.chains.length&&F(l.a.chains.find((function(e){return e.chainId!==t.chainId}))))}else E(void 0)}),[I,E]);Object(c.useEffect)((function(){U("unset"!==d?"select"===d?l.a.chains:l.a.chains.filter((function(e){return e.type===d})):[])}),[d]);var ce=Object(c.useCallback)((function(e){if(void 0===e)F(void 0);else{if(!x||$)throw new Error("Home chain not selected");var t=H.find((function(t){return t.chainId===e}));if(!t)throw new Error("Invalid destination chain selected");F(t)}}),[$,H,x]),se=function(e){var t=e.children;return"Ethereum"===(null===D||void 0===D?void 0:D.type)?s.a.createElement(b,null,t):"Substrate"===(null===D||void 0===D?void 0:D.type)?s.a.createElement(j,null,t):s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)};return s.a.createElement(T.Provider,{value:{chainId:null===x||void 0===x?void 0:x.chainId,networkId:g,setNetworkId:y,homeChainConfig:x,setWalletType:p,walletType:d,homeChains:I,destinationChains:H,inTransitMessages:re,handleSetHomeChain:ie,setDestinationChain:ce,destinationChainConfig:D,transactionStatus:_,setTransactionStatus:K,depositNonce:$,depositVotes:ee,setDepositNonce:G,setDepositVotes:te,tokensDispatch:oe,setTransferTxHash:z,transferTxHash:V}},"Ethereum"===d?s.a.createElement(u.a,null,s.a.createElement(se,null,t)):"Substrate"===d?s.a.createElement(C,null,s.a.createElement(se,null,t)):s.a.createElement(v.a.Provider,{value:{connect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(e){return""},isReady:!1,selectedToken:"",deposit:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),setDepositAmount:function(){},tokens:{},setSelectedToken:function(e){},address:void 0,bridgeFee:void 0,chainConfig:void 0,depositAmount:void 0,nativeTokenBalance:void 0,relayerThreshold:void 0,wrapTokenConfig:void 0,wrapper:void 0,wrapToken:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unwrapToken:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},s.a.createElement(se,null,t)))},I=function(){var e=Object(c.useContext)(T);if(void 0===e)throw new Error("useNetworkManager must be called within a HomeNetworkProvider");return e}},1400:function(e,t){},1411:function(e,t){},1414:function(e,t){},1416:function(e,t){},1425:function(e,t){},1427:function(e,t){},1456:function(e,t){},1458:function(e,t){},1475:function(e,t){},1600:function(e,t,n){var a={"./ChainBridgeAPI":[553,9],"./ChainBridgeAPI.tsx":[553,9],"./bridgeTypes":[1312,3,14],"./bridgeTypes.json":[1312,3,14],"./centrifuge-types":[1313,9,12],"./centrifuge-types.ts":[1313,9,12]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,t[1])}))}r.keys=function(){return Object.keys(a)},r.id=1600,e.exports=r},1663:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),o=n(286),i=n.n(o),c=(n(1330),n(27)),s=n(53),l=n(1895),u=n(1816),d=n(54),p=n(31),m=n(11),f=n.n(m),b=n(34),h=n(7),g=n(241),v=n(96),y=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(d.createStyles)({root:{backgroundColor:"".concat(n.additional.gray[9]," !important"),color:n.common.white.main,border:"none",padding:"".concat(3*t.generalUnit,"px ").concat(4*t.generalUnit,"px")},backdrop:{backgroundColor:"".concat(n.additional.gray[9]," !important"),opacity:"0.6 !important"}})})),k=function(e){var t=e.children,n=e.className,a=Object(g.a)(e,["children","className"]),o=y();return r.a.createElement(p.Drawer,Object.assign({classNames:{backdrop:o.backdrop},className:Object(v.default)(o.root,n)},a),t)},w=Object(d.makeStyles)((function(e){var t=e.constants;return Object(d.createStyles)({root:{display:"flex",flexDirection:"column",justifyContent:"space-between"},buttons:{display:"flex",flexDirection:"row",alignItems:"center","& *":{marginRight:t.generalUnit,textDecoration:"none"}}})})),x=function(e){var t=e.open,n=e.close,a=w();return r.a.createElement(k,{onClose:n,open:t,className:a.root},r.a.createElement(p.Typography,{variant:"h1",component:"h4"},"What is ChainBridge?"),r.a.createElement(p.Typography,{component:"p",variant:"h5"},"ChainBridge is a modular multi-directional blockchain bridge to allow data and value transfer between any number of blockchains. This should enable users to specify a destination blockchain from their source chain, and send data to that blockchain for consumption on the destination chain. ",r.a.createElement("br",null),r.a.createElement("br",null),"This could be a token that is locked on ChainA and redeemed on ChainB, or an operation that is executed on a destination chain and initiated on the source chain."),r.a.createElement("section",{className:a.buttons},r.a.createElement(p.Button,{onClick:function(){return n()},variant:"outline"},"OK"),r.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",""))))},E=n(135),C=n(171),j=n(380),O=Object(d.makeStyles)((function(e){var t=e.constants;return Object(d.createStyles)({root:{},buttons:{display:"flex",flexDirection:"row",flexWrap:"wrap","& > *":{marginTop:2*t.generalUnit,marginRight:t.generalUnit,textDecoration:"none"}},paragraph:{margin:"".concat(3*t.generalUnit,"px 0")}})})),N=function(e){var t=e.open,n=e.close,a=O(),o=Object(E.b)(),i=o.setWalletType,c=o.handleSetHomeChain,s=o.setDestinationChain,l=Object(C.b)().disconnect,u=Object(j.b)();return r.a.createElement(k,{open:t,className:a.root},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Changing Networks"),r.a.createElement(p.Typography,{className:a.paragraph,component:"p",variant:"h5"},"To change networks, please open your browser wallet and change networks there. If your wallet does not support your desired home network, please connect a different wallet. ",r.a.createElement("br",null),r.a.createElement("br",null),"Note: your transfer settings will be reset."),r.a.createElement("section",{className:a.buttons},r.a.createElement(p.Button,{onClick:n,variant:"outline"},"OK"),r.a.createElement(p.Button,{onClick:Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([u.disconnect(),l()]);case 2:c(void 0),s(void 0),i("select");case 5:case"end":return e.stop()}}),e)}))),variant:"outline"},"Connect different wallet"),r.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",""))))},T=n(1657),S=T.decodeAddress,I=T.encodeAddress,U=n(17),B=U.hexToU8a,A=U.isHex,D=function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(e.length-6,6))},F=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(d.createStyles)({root:{zIndex:null===a||void 0===a?void 0:a.blocker,position:"absolute","& li":{position:"relative",padding:"".concat(t.generalUnit,"px 0 ").concat(t.generalUnit,"px ").concat(8*t.generalUnit,"px"),"&:before":{content:"''",display:"block",backgroundColor:n.additional.gray[2],height:t.generalUnit,width:t.generalUnit,borderRadius:"50%",position:"absolute",top:"50%",left:4*t.generalUnit,transform:"translate(-50%, -50%)"}}},subtitle:{margin:"".concat(2*t.generalUnit,"px 0")},agreement:{margin:"".concat(2*t.generalUnit,"px 0")},startButton:{backgroundColor:n.additional.preflight[1],color:n.additional.preflight[2],marginBottom:2*t.generalUnit},backdrop:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.layer4}})})),R=function(e){var t=e.open,n=e.close,a=e.receiver,o=e.sender,i=e.sourceNetwork,c=e.targetNetwork,s=e.tokenSymbol,l=e.value,u=e.start,d=F();return r.a.createElement(k,{className:d.root,classNames:{backdrop:d.backdrop},size:430,open:t},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Pre-flight check"),r.a.createElement(p.Typography,{className:d.subtitle,variant:"h5",component:"p"},"Please be advised this is an experimental application:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"You will not be able to cancel the transaction once you submit it.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Your transaction could get stuck for an indefinite amount of time")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Funds cannot be returned if they are sent to the wrong address.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"The transaction fee may be higher than expected."))),r.a.createElement(p.Typography,{className:d.agreement,variant:"h5",component:"p"},"I agree and want to send"," ",r.a.createElement("strong",null,l," ",s)," ","from\xa0",r.a.createElement("strong",null,D(o))," on"," ",r.a.createElement("strong",null,i)," to\xa0",r.a.createElement("strong",null,D(a))," on"," ",r.a.createElement("strong",null,c),"."),r.a.createElement(p.Button,{onClick:u,className:d.startButton,fullsize:!0},"Start Transfer"),r.a.createElement(p.Button,{onClick:n},"Back"))},P=n(124),H=Object(d.makeStyles)((function(e){var t=e.constants;return Object(d.createStyles)({root:{},input:{margin:0,width:"100%"},label:{marginBottom:t.generalUnit},checkbox:{marginTop:3*t.generalUnit}})})),M=function(e){var t=e.classNames,n=e.senderAddress,o=e.className,i=e.inputVariant,c=void 0===i?"default":i,s=e.type,l=void 0===s?"text":s,u=e.placeholder,d=e.name,m=e.size,f=e.label,b=e.labelClassName,y=e.captionMessage,k=e.sendToSameAccountHelper,w=void 0!==k&&k,x=Object(g.a)(e,["classNames","senderAddress","className","inputVariant","type","placeholder","name","size","label","labelClassName","captionMessage","sendToSameAccountHelper"]),E=H(),C=Object(P.useField)(d),j=Object(h.a)(C,3),O=j[0],N=j[1],T=j[2],S=Object(a.useState)(),I=Object(h.a)(S,2),U=I[0],B=I[1],A=Object(a.useCallback)((function(){void 0===U?(B(O.value),T.setValue(n)):(T.setValue(U),B(void 0))}),[T,O,n,U,B]);return r.a.createElement("section",{className:Object(v.default)(E.root,o)},r.a.createElement("div",null,r.a.createElement(p.TextInput,Object.assign({},x,{label:f||O.name,inputVariant:c,type:l,size:m,className:Object(v.default)(null===t||void 0===t?void 0:t.input,E.input),labelClassName:Object(v.default)(b,E.label),name:O.name,value:O.value,placeholder:u,captionMessage:N.error?"".concat(N.error):y&&y,state:N.error?"error":void 0,onChange:T.setValue,disabled:void 0!==U}))),w&&r.a.createElement("div",{className:E.checkbox},r.a.createElement(p.CheckboxInput,{label:"I want to send funds to my address",value:void 0!==U,onChange:function(){return A()}})))},L=Object(d.makeStyles)((function(e){var t=e.constants;return Object(d.createStyles)({root:{height:"100% !important",borderTopLeftRadius:t.generalUnit/2,borderTopRightRadius:t.generalUnit/2,overflow:"hidden",position:"absolute"}})})),W=function(e){var t=e.children,n=e.className,a=Object(g.a)(e,["children","className"]),o=L();return r.a.createElement(p.Modal,Object.assign({className:Object(v.default)(o.root,n)},a),t)},V=n(73),z=Object(d.makeStyles)((function(e){var t=e.constants;e.palette,e.zIndex;return Object(d.createStyles)({root:{},slide:{borderRadius:t.generalUnit/2,padding:"".concat(t.generalUnit,"px ").concat(2*t.generalUnit,"px"),"& > p":{marginTop:2*t.generalUnit,marginBottom:3*t.generalUnit,textAlign:"center"}},buttons:{marginBottom:2*t.generalUnit,display:"flex",flexDirection:"row",justifyContent:"space-around"}})})),q=function(){var e=z(),t=K().isReady,n=Object(E.b)(),a=n.walletType,o=n.setWalletType;return r.a.createElement(p.Modal,{active:"unset"!==a&&"Ethereum"!==a&&!t,closePosition:"right",className:e.root,injectedClass:{inner:e.slide}},"select"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{variant:"h3",component:"p"},"Please select a wallet type"),r.a.createElement("section",{className:e.buttons},r.a.createElement(p.Button,{onClick:function(){return o("Ethereum")}},"Use Ethereum wallet"),r.a.createElement(p.Button,{onClick:function(){return o("Substrate")},disabled:!0},"Use Substrate wallet"))),"Substrate"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{variant:"h2",component:"p"},"Connecting to node"),r.a.createElement(p.ProgressBar,{size:"small",variant:"primary"})))},Z=r.a.createContext(void 0),_=function(e){var t=e.children,n=Object(E.b)(),o=n.handleSetHomeChain,i=n.destinationChainConfig,c=n.setTransactionStatus,s=n.setDestinationChain,l=n.setDepositNonce,u=n.setDepositVotes,d=n.transferTxHash,p=n.inTransitMessages,m=n.tokensDispatch,h=n.transactionStatus,g=n.depositNonce,v=n.depositVotes,y=n.homeChainConfig,k=n.destinationChains,w=n.chainId,x=Object(C.b)(),j=x.connect,O=x.setDepositAmount,N=x.setSelectedToken,T=x.chainConfig,S=x.deposit,I=x.relayerThreshold,U=x.nativeTokenBalance,B=x.address,A=x.selectedToken,D=x.bridgeFee,F=x.depositAmount,R=x.isReady,P=x.wrapTokenConfig,H=x.tokens,M=x.wrapToken,L=x.unwrapToken,W=x.handleCheckSupplies,z=Object(a.useCallback)(function(){var e=Object(b.a)(f.a.mark((function e(t,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T||!i){e.next=4;break}return e.next=3,S(t,n,a,i.chainId);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[S,i,T]),_=function(){var e=Object(b.a)(f.a.mark((function e(t,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleCheckSupplies",W),console.log("chainConfig",T),console.log("destinationChainConfig",i),!(W&&T&&i)){e.next=7;break}return e.next=6,W(t,n,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return r.a.createElement(Z.Provider,{value:{homeConfig:y,connect:j,destinationChains:k,handleSetHomeChain:o,setDestinationChain:s,resetDeposit:function(){V.a.chains.length>2&&s(void 0),c(void 0),l(void 0),u(0),O(void 0),m({type:"resetMessages"}),N("")},deposit:z,destinationChainConfig:i,depositVotes:v,relayerThreshold:I,depositNonce:g,bridgeFee:D,transactionStatus:h,inTransitMessages:p,depositAmount:F,transferTxHash:d,selectedToken:A,wrapToken:M,wrapTokenConfig:P,unwrapToken:L,isReady:R,nativeTokenBalance:U,tokens:H,address:B,chainId:w,checkSupplies:_}},r.a.createElement(q,null),t)},K=function(){var e=Object(a.useContext)(Z);if(void 0===e)throw new Error("useChainbridge must be called within a ChainbridgeProvider");return e},J=Object(d.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.typography;return Object(d.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",display:"flex",flexDirection:"row",padding:"".concat(5*n.generalUnit,"px ").concat(3.5*n.generalUnit,"px"),bottom:0,top:"unset",transform:"unset",left:0,border:"none",borderRadius:0,transitionDuration:"".concat(t.transform,"ms")},heading:{marginBottom:n.generalUnit,whiteSpace:"nowrap"},stepIndicator:Object(s.a)(Object(s.a)({},r.h4),{},{height:40,width:40,marginRight:2*n.generalUnit,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(a.additional.transactionModal[2]),color:a.additional.transactionModal[3],"& svg":{height:20,width:20,display:"block"}}),content:{display:"flex",flexDirection:"column"},buttons:{display:"flex",flexDirection:"row",marginTop:5*n.generalUnit,"& > *":{textDecoration:"none",marginRight:n.generalUnit}},button:{borderColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.additional.gray[8]," !important"),textDecoration:"none","&:hover":{borderColor:"".concat(a.additional.gray[8]," !important"),backgroundColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.common.white.main," !important"),textDecoration:"none"}},initCopy:{display:"flex",flexDirection:"column",justifyContent:"space-between","& > *:first-child":{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit}},sendingCopy:{},vote:{display:"flex",flexDirection:"row",marginTop:n.generalUnit,"& > *":{"&:first-child":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240},"&:last-child":{marginLeft:3.5*n.generalUnit,fontStyle:"italic"}}},warning:{marginTop:3.5*n.generalUnit,display:"block",fontWeight:600},receipt:{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit},weighted:{fontWeight:600},progress:{position:"absolute",top:0,left:0,width:"100%","& > *":{borderRadius:"0 !important","&  >  *":{borderRadius:"0 !important",background:"".concat(a.additional.transactionModal[1]," !important")}}}})})),Y=function(e){var t,n=e.open,a=e.close,o=J(),i=K(),c=i.transactionStatus,s=i.depositVotes,l=i.relayerThreshold,u=i.inTransitMessages,d=i.homeConfig,m=i.destinationChainConfig,f=i.depositAmount,b=i.selectedToken,h=i.tokens,g=b&&(null===(t=h[b])||void 0===t?void 0:t.symbol);return r.a.createElement(W,{className:o.root,injectedClass:{inner:o.inner},active:n},r.a.createElement(p.ProgressBar,{className:o.progress,size:"small",variant:"primary",progress:"Transfer Completed"!==c?-1:100}),r.a.createElement("section",null,r.a.createElement("div",{className:o.stepIndicator},"Initializing Transfer"===c?"1":"In Transit"===c?"2":"Transfer Completed"===c?"3":r.a.createElement(p.ExclamationCircleSvg,null))),r.a.createElement("section",{className:o.content},r.a.createElement(p.Typography,{className:o.heading,variant:"h3",component:"h3"},"Initializing Transfer"===c?"Initializing Transfer":"In Transit"===c?"In Transit (".concat(s<(l||0)?"".concat(s,"/").concat(l," signatures needed"):"Executing proposal",")"):"Transfer Completed"===c?"Transfer completed":"Transfer aborted"),"Initializing Transfer"===c?r.a.createElement("div",{className:o.initCopy},r.a.createElement(p.Typography,null,"Deposit pending..."),r.a.createElement(p.Typography,{className:o.weighted},"This should take a few minutes.",r.a.createElement("br",null),"Please do not refresh or leave the page.")):"In Transit"===c?r.a.createElement("div",{className:o.sendingCopy},u.map((function(e,t){return"string"===typeof e?r.a.createElement(p.Typography,{className:o.vote,component:"p",key:t},e):r.a.createElement(p.Typography,{className:o.vote,component:"p",key:t},r.a.createElement("span",null,"Vote casted by ",e.address),r.a.createElement("span",null,e.signed))})),r.a.createElement(p.Typography,{className:o.warning},"This should take a few minutes. ",r.a.createElement("br",null),"Please do not refresh or leave the page.")):"Transfer Completed"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:o.receipt,component:"p"},"Successfully transferred"," ",r.a.createElement("strong",null,f," ",g,r.a.createElement("br",null)," from ",null===d||void 0===d?void 0:d.name," to ",null===m||void 0===m?void 0:m.name,".")),r.a.createElement("section",{className:o.buttons},r.a.createElement(p.Button,{size:"small",className:o.button,variant:"outline",onClick:a},"Start new transfer"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:o.receipt,component:"p"},"Something went wrong and we could not complete your transfer."),r.a.createElement("section",{className:o.buttons},r.a.createElement(p.Button,{size:"small",className:o.button,variant:"outline",onClick:a},"Start new transfer"),r.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",""))))))},$=function(e){var t,n,o=e.className,i=e.label,c=e.name,s=e.tokens,l=e.sync,u=Object(g.a)(e,["className","label","name","tokens","sync"]),d=Object(P.useField)(c),m=Object(h.a)(d,3),f=m[0],b=m[2],v=s[f.value]?"".concat(i," ").concat(null===(t=s[f.value])||void 0===t?void 0:t.balance," ").concat(null===(n=s[f.value])||void 0===n?void 0:n.symbol):"Please select token",y=Object(a.useState)(),k=Object(h.a)(y,2),w=k[0],x=k[1];return Object(a.useEffect)((function(){l&&f.value!==w&&(x(f.value),""!==f.value&&l(f.value))}),[f]),Object(a.useEffect)((function(){1===Object.keys(s).length&&""===f.value&&b.setValue(Object.keys(s)[0])}),[s,b,f.value]),r.a.createElement(p.FormikSelectInput,Object.assign({name:c,className:o,label:v},u))},G=function(e){var t=e.classNames,n=e.disabled,a=e.label,o=e.tokens,i=e.tokenSelectorKey,c=e.name,s=Object(P.useField)(c),l=Object(h.a)(s,3)[2],u=Object(P.useFormikContext)().values;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.FormikTextInput,{className:null===t||void 0===t?void 0:t.input,disabled:n,name:c,label:a}),r.a.createElement(p.Button,{disabled:n||!o[u[i]],className:null===t||void 0===t?void 0:t.button,onClick:function(){l.setValue(o[u[i]].balance)},variant:"outline",type:"button"},"MAX"))},Q=n(402),X=n(87),ee=function(e){var t,n=e.className,a=e.symbol,o=e.fee,i=e.feeSymbol,c=e.amountFormikName,s=Object(P.useFormikContext)().values;return r.a.createElement("section",{className:n},void 0!==o&&void 0!==i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{component:"p"},"Bridge Fee"),r.a.createElement(p.Typography,{component:"p"},o," ",i)),void 0!==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{component:"p"},"Transfer Amount:"),r.a.createElement(p.Typography,{component:"p"},null===(t=Number(s[c]))||void 0===t?void 0:t.toFixed(3)," ",a)))},te=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(d.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",borderRadius:"4px",display:"flex",flexDirection:"row",padding:"".concat(6*t.generalUnit,"px ").concat(7*t.generalUnit,"px")},heading:{marginBottom:t.generalUnit},icon:{height:20,width:20,marginTop:.8*t.generalUnit,marginRight:2*t.generalUnit,fill:n.additional.gray[7]},buttons:{display:"flex",flexDirection:"row",marginTop:5*t.generalUnit,"& > *":{textDecoration:"none",marginRight:t.generalUnit}},button:{borderColor:n.additional.gray[8],color:n.additional.gray[8],"&:hover":{borderColor:n.additional.gray[8],backgroundColor:n.additional.gray[8],color:n.common.white.main}}})})),ne=function(){var e=te(),t=Object(E.b)(),n=t.homeChainConfig,o=t.networkId,i=Object(C.b)(),c=i.getNetworkName,s=i.wrapTokenConfig,l=i.isReady,u=Object(p.useLocation)().pathname,d=Object(a.useState)(!1),m=Object(h.a)(d,2),f=m[0],b=m[1],g=Object(a.useState)([]),v=Object(h.a)(g,2),y=v[0],k=v[1];return Object(a.useEffect)((function(){u===Fe.Transfer?(b(!n&&!!l),k(V.a.chains.filter((function(e){return void 0!==e.networkId})).map((function(e){return Number(e.networkId)})))):u===Fe.Wrap?(b(!s&&!!l),k(V.a.chains.filter((function(e){return void 0!==e.networkId})).filter((function(e){return e.tokens.find((function(e){return e.isNativeWrappedToken}))})).map((function(e){return Number(e.networkId)})))):(b(!1),k([]))}),[u,b,n,l,s]),r.a.createElement(W,{className:e.root,injectedClass:{inner:e.inner},active:f},r.a.createElement("section",null,r.a.createElement(p.ExclamationCircleInverseSvg,{className:e.icon})),r.a.createElement("section",null,r.a.createElement(p.Typography,{className:e.heading,variant:"h3",component:"h3"},"Network Unsupported"),r.a.createElement(p.Typography,{component:"p",variant:"body1"},"This app does not currently support transfers on"," ",c(o),". Please change networks from within your browser wallet."),r.a.createElement("br",null),r.a.createElement(p.Typography,{component:"p",variant:"body1"},"This app is configured to work on"," ",y.map((function(e,t){return"".concat(c(e)).concat(t<y.length-1?", ":"")}))," ","networks"),r.a.createElement("section",{className:e.buttons},r.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ","")))))},ae=n(1293),re=n.n(ae),oe=n(1294),ie=n.n(oe),ce=n(1295),se=n.n(ce),le=n(1296),ue=n.n(le),de={ETHIcon:re.a,WETHIcon:ie.a,DAIIcon:se.a,celoUSD:ue.a},pe=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(d.createStyles)({root:{padding:6*t.generalUnit,position:"relative"},walletArea:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},connectButton:{margin:"".concat(3*t.generalUnit,"px 0 ").concat(6*t.generalUnit,"px")},connecting:{textAlign:"center",marginBottom:2*t.generalUnit},connected:{width:"100%","& > *:first-child":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}},changeButton:{cursor:"pointer"},networkName:{padding:"".concat(2*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),border:"1px solid ".concat(n.additional.gray[6]),borderRadius:2,color:n.additional.gray[9],marginTop:t.generalUnit,marginBottom:3*t.generalUnit},formArea:{"&.disabled":{opacity:.4}},currencySection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",margin:"".concat(3*t.generalUnit,"px 0")},tokenInputArea:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-around"},tokenInputSection:{width:"60%"},tokenInput:{margin:0,"& > div":{height:32,"& input":{borderBottomRightRadius:0,borderTopRightRadius:0,borderRight:0}},"& span:last-child.error":{position:"absolute",width:"calc(100% + 62px)"}},maxButton:{height:32,borderBottomLeftRadius:0,borderTopLeftRadius:0,left:-1,color:n.additional.gray[8],backgroundColor:n.additional.gray[3],borderColor:n.additional.gray[6],"&:hover":{borderColor:n.additional.gray[6],backgroundColor:n.additional.gray[7],color:n.common.white.main},"&:focus":{borderColor:n.additional.gray[6]}},currencySelector:{width:"40%",paddingRight:t.generalUnit,"& *":{cursor:"pointer"}},token:{},address:{margin:0,marginBottom:3*t.generalUnit},addressInput:{},generalInput:{"& > span":{marginBottom:t.generalUnit}},faqButton:{cursor:"pointer",height:20,width:20,marginTop:5*t.generalUnit,fill:"".concat(n.additional.transferUi[1]," !important")},tokenItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer","& img, & svg":{display:"block",height:14,width:14,marginRight:10},"& span":{minWidth:"calc(100% - 20px)",textAlign:"left"}},fees:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:t.generalUnit,"& > *":{display:"block",width:"50%",color:n.additional.gray[8],marginBottom:t.generalUnit/2,"&:nth-child(even)":{textAlign:"right"}}},accountSelector:{marginBottom:24}})})),me=function(){var e=pe(),t=Object(E.b)(),n=t.walletType,o=t.setWalletType,i=K(),c=i.deposit,l=i.setDestinationChain,u=i.transactionStatus,d=i.resetDeposit,m=i.bridgeFee,g=i.tokens,y=i.isReady,k=i.homeConfig,w=i.destinationChainConfig,j=i.destinationChains,O=i.address,T=i.checkSupplies,U=Object(C.b)(),D=U.accounts,F=U.selectAccount,H=Object(a.useState)(!1),L=Object(h.a)(H,2),W=L[0],V=L[1],z=Object(a.useState)(!1),q=Object(h.a)(z,2),Z=q[0],_=q[1],J=Object(a.useState)(!1),te=Object(h.a)(J,2),ae=te[0],re=te[1],oe=Object(a.useState)(!1),ie=Object(h.a)(oe,2),ce=ie[0],se=ie[1],le=Object(a.useState)({receiver:"",token:"",tokenAmount:0,tokenSymbol:""}),ue=Object(h.a)(le,2),me=ue[0],fe=ue[1];Object(a.useEffect)((function(){"select"!==n&&!0===Z?_(!1):"select"===n&&_(!0)}),[n,Z]);var be=me&&g[me.token]?g[me.token].decimals:18,he=be>0?new RegExp("^[0-9]{1,18}(.[0-9]{1,".concat(be,"})?$")):new RegExp("^[0-9]{1,18}?$"),ge=Object(Q.a)().shape({tokenAmount:Object(Q.b)().test("Token selected","Please select a token",(function(e){return!!(e&&me&&g[me.token]&&void 0!==g[me.token].balance)})).test("InputValid","Input invalid",(function(e){try{return he.test("".concat(e))}catch(t){return console.error(t),!1}})).test("Max","Insufficent funds",(function(e){return!!(e&&me&&g[me.token]&&g[me.token].balance)&&("Ethereum"===(null===k||void 0===k?void 0:k.type)?parseFloat(e)<=g[me.token].balance:parseFloat(e+(m||0))<=g[me.token].balance)})).test("Bridge Supplies","Not enough tokens on the destination chain. Please contact support.",function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(T&&w&&t)){e.next=5;break}return e.next=3,T(parseFloat(t),me.token,w.chainId);case 3:return n=e.sent,e.abrupt("return",Boolean(n));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).test("Min","Less than minimum",(function(e){return!!e&&parseFloat(e)>0})).required("Please set a value"),token:Object(Q.b)().required("Please select a token"),receiver:Object(Q.b)().test("Valid address","Please add a valid address",(function(e){return"Substrate"===(null===w||void 0===w?void 0:w.type)?function(e){try{return I(A(e)?B(e):S(e)),!0}catch(t){return!1}}(e):X.utils.isAddress(e)})).required("Please add a receiving address")});return r.a.createElement("article",{className:e.root},r.a.createElement("div",{className:e.walletArea},y?Z?r.a.createElement("section",{className:e.connecting},r.a.createElement(p.Typography,{component:"p",variant:"h5"},"This app requires access to your wallet, ",r.a.createElement("br",null),"please login and authorize access to continue.")):r.a.createElement("section",{className:e.connected},r.a.createElement("div",null,r.a.createElement(p.Typography,{variant:"body1"},"Home network"),r.a.createElement(p.Typography,{className:e.changeButton,variant:"body1",onClick:function(){return re(!0)}},"Change")),r.a.createElement(p.Typography,{component:"h2",variant:"h2",className:e.networkName},null===k||void 0===k?void 0:k.name)):r.a.createElement(p.Button,{className:e.connectButton,fullsize:!0,onClick:function(){o("select")}},"Connect")),y&&"Substrate"===n&&D&&D.length>0&&r.a.createElement("div",null,r.a.createElement("section",{className:e.accountSelector},r.a.createElement(p.SelectInput,{label:"Select account",className:e.generalInput,options:D.map((function(e,t){return{label:e.address,value:t}})),onChange:function(e){return F&&F(e)},value:D.findIndex((function(e){return e.address===O})),placeholder:"Select an account"}))),r.a.createElement(P.Formik,{initialValues:{tokenAmount:0,token:"",receiver:""},validateOnChange:!1,validationSchema:ge,onSubmit:function(e){fe(Object(s.a)(Object(s.a)({},e),{},{tokenSymbol:g[e.token].symbol||""})),se(!0)}},(function(t){return r.a.createElement(P.Form,{className:Object(v.default)(e.formArea,{disabled:!k||!O||t.isValidating})},r.a.createElement("section",null,r.a.createElement(p.SelectInput,{label:"Destination Network",className:e.generalInput,disabled:!k,options:j.map((function(e){return{label:e.name,value:e.chainId}})),onChange:function(e){return l(e)},value:null===w||void 0===w?void 0:w.chainId})),r.a.createElement("section",{className:e.currencySection},r.a.createElement("section",{className:e.currencySelector},r.a.createElement($,{tokens:g,name:"token",disabled:!w,label:"Balance: ",className:e.generalInput,placeholder:"",sync:function(e){fe(Object(s.a)(Object(s.a)({},me),{},{token:e,receiver:"",tokenAmount:0,tokenSymbol:""}))},options:Object.keys(g).map((function(t){var n,a,o,i,c;return{value:t,label:r.a.createElement("div",{className:e.tokenItem},(null===(n=g[t])||void 0===n?void 0:n.imageUri)&&r.a.createElement("img",{src:(c=null===(a=g[t])||void 0===a?void 0:a.imageUri,c&&de[c]?de[c]:c),alt:null===(o=g[t])||void 0===o?void 0:o.symbol}),r.a.createElement("span",null,(null===(i=g[t])||void 0===i?void 0:i.symbol)||t))}}))||[]})),r.a.createElement("section",{className:e.tokenInputSection},r.a.createElement("div",{className:Object(v.default)(e.tokenInputArea,e.generalInput)},r.a.createElement(G,{classNames:{input:Object(v.default)(e.tokenInput,e.generalInput),button:e.maxButton},tokenSelectorKey:"token",tokens:g,disabled:!w||!me.token||""===me.token,name:"tokenAmount",label:"I want to send"})))),r.a.createElement("section",null,r.a.createElement(M,{disabled:!w,name:"receiver",label:"Destination Address",placeholder:"Please enter the receiving address",className:e.address,classNames:{input:e.addressInput},senderAddress:"".concat(O),sendToSameAccountHelper:(null===w||void 0===w?void 0:w.type)===(null===k||void 0===k?void 0:k.type)})),r.a.createElement(ee,{amountFormikName:"tokenAmount",className:e.fees,fee:m,feeSymbol:null===k||void 0===k?void 0:k.nativeTokenSymbol,symbol:me&&g[me.token]?g[me.token].symbol:void 0}),r.a.createElement("section",null,r.a.createElement(p.Button,{type:"submit",fullsize:!0,variant:"primary"},"Start transfer")),r.a.createElement("section",null,r.a.createElement(p.QuestionCircleSvg,{onClick:function(){return V(!0)},className:e.faqButton})))})),r.a.createElement(x,{open:W,close:function(){return V(!1)}}),r.a.createElement(N,{open:ae,close:function(){return re(!1)}}),r.a.createElement(R,{open:ce,close:function(){return se(!1)},receiver:(null===me||void 0===me?void 0:me.receiver)||"",sender:O||"",start:function(){se(!1),me&&c(me.tokenAmount,me.receiver,me.token)},sourceNetwork:(null===k||void 0===k?void 0:k.name)||"",targetNetwork:(null===w||void 0===w?void 0:w.name)||"",tokenSymbol:(null===me||void 0===me?void 0:me.tokenSymbol)||"",value:(null===me||void 0===me?void 0:me.tokenAmount)||0}),r.a.createElement(Y,{open:!!u,close:d}),r.a.createElement(ne,null))};function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var he=r.a.createElement("g",null,r.a.createElement("polygon",{fill:"#343434",points:"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32"}),r.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 0 0 212.32 127.962 287.959 127.962 154.158"}),r.a.createElement("polygon",{fill:"#3C3C3B",points:"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866"}),r.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 416.9052 127.962 312.1852 0 236.5852"}),r.a.createElement("polygon",{fill:"#141414",points:"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587"}),r.a.createElement("polygon",{fill:"#393939",points:"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588"})),ge=function(e){var t=e.svgRef,n=e.title,a=be(e,["svgRef","title"]);return r.a.createElement("svg",fe({viewBox:"0 0 256 417",preserveAspectRatio:"xMidYMid",ref:t},a),n?r.a.createElement("title",null,n):null,he)},ve=r.a.forwardRef((function(e,t){return r.a.createElement(ge,fe({svgRef:t},e))})),ye=(n.p,Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(d.createStyles)({root:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.blocker,"& li":{position:"relative",padding:"".concat(t.generalUnit,"px 0 ").concat(t.generalUnit,"px ").concat(8*t.generalUnit,"px"),"&:before":{content:"''",display:"block",backgroundColor:n.additional.gray[2],height:t.generalUnit,width:t.generalUnit,borderRadius:"50%",position:"absolute",top:"50%",left:4*t.generalUnit,transform:"translate(-50%, -50%)"}}},subtitle:{margin:"".concat(2*t.generalUnit,"px 0")},agreement:{margin:"".concat(2*t.generalUnit,"px 0")},startButton:{backgroundColor:n.additional.preflight[1],color:n.additional.preflight[2],marginBottom:2*t.generalUnit},backdrop:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.layer4}})}))),ke=function(e){var t=e.open,n=e.close,a=(e.sender,e.sourceNetwork),o=e.tokenSymbol,i=e.value,c=e.start,s=e.wrappedTitle,l=e.action,u=ye();return r.a.createElement(k,{classNames:{backdrop:u.backdrop},size:430,open:t,className:u.root},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Pre-flight check"),r.a.createElement(p.Typography,{className:u.subtitle,variant:"h5",component:"p"},"Please be advised this is an experimental application:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"You will not be able to cancel the transaction once you submit it.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Your transaction could get stuck for an indefinite amount of time")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Funds cannot be returned if they are sent to the wrong address.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"The transaction fee may be higher than expected."))),r.a.createElement(p.Typography,{className:u.agreement,variant:"h5",component:"p"},"I agree and want to convert"," ",r.a.createElement("strong",null,i," ",o)," ","on ",r.a.createElement("strong",null,a)," to\xa0",r.a.createElement("strong",null,s)),r.a.createElement(p.Button,{onClick:c,className:u.startButton,fullsize:!0},"Convert to ","wrap"===l?"Wrapped":"Native"," Token"),r.a.createElement(p.Button,{onClick:n},"Back"))},we=Object(d.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.typography;return Object(d.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",display:"flex",flexDirection:"row",padding:"".concat(5*n.generalUnit,"px ").concat(3.5*n.generalUnit,"px"),bottom:0,top:"unset",transform:"unset",left:0,border:"none",borderRadius:0,transitionDuration:"".concat(t.transform,"ms")},heading:{whiteSpace:"nowrap",marginTop:n.generalUnit/2},stepIndicator:Object(s.a)(Object(s.a)({},r.h4),{},{height:40,width:40,marginRight:2*n.generalUnit,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(a.additional.transactionModal[2]),color:a.additional.transactionModal[3],"& svg":{height:20,width:20,display:"block"}}),content:{display:"flex",flexDirection:"column"},buttons:{display:"flex",flexDirection:"row",marginTop:5*n.generalUnit,"& > *":{textDecoration:"none",marginRight:n.generalUnit}},button:{borderColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.additional.gray[8]," !important"),textDecoration:"none","&:hover":{borderColor:"".concat(a.additional.gray[8]," !important"),backgroundColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.common.white.main," !important"),textDecoration:"none"}},initCopy:{display:"flex",flexDirection:"column",justifyContent:"space-between","& > *:first-child":{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit}},sendingCopy:{},vote:{display:"flex",flexDirection:"row",marginTop:n.generalUnit,"& > *":{"&:first-child":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240},"&:last-child":{marginLeft:3.5*n.generalUnit,fontStyle:"italic"}}},warning:{marginTop:3.5*n.generalUnit,display:"block",fontWeight:600},receipt:{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit},weighted:{fontWeight:600},progress:{position:"absolute",top:0,left:0,width:"100%","& > *":{borderRadius:"0 !important","&  >  *":{borderRadius:"0 !important",background:"".concat(a.additional.transactionModal[1]," !important")}}}})})),xe=function(e){var t=e.txState,n=e.value,a=e.tokenInfo,o=e.txHash,i=e.close,c=e.action,s=we(),l=K().homeConfig;return r.a.createElement(W,{className:s.root,injectedClass:{inner:s.inner},active:!!t},r.a.createElement(p.ProgressBar,{className:s.progress,size:"small",variant:"primary",progress:"done"!==t?-1:100}),r.a.createElement("section",null,r.a.createElement("div",{className:s.stepIndicator},"inProgress"===t?1:2)),r.a.createElement("section",{className:s.content},r.a.createElement(p.Typography,{className:s.heading,variant:"h3",component:"h3"},"inProgress"===t?"wrap"===c?"Wrapping ".concat(n," ").concat(null===l||void 0===l?void 0:l.nativeTokenSymbol):"Unwrapping ".concat(n," ").concat(a.symbol):"wrap"===c?"Token wrapped":"Token unwrapped"),"inProgress"!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:s.receipt,component:"p"},"wrap"===c?"Successfully wrapped ".concat(null===l||void 0===l?void 0:l.nativeTokenSymbol," to ").concat(a.symbol):"Successfully unwrapped ".concat(a.symbol," to ").concat(null===l||void 0===l?void 0:l.nativeTokenSymbol),l&&l.blockExplorer&&o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"".concat(l.blockExplorer,"/").concat(o)},"View Transaction"))),r.a.createElement("section",{className:s.buttons},r.a.createElement(p.Button,{size:"small",className:s.button,variant:"outline",onClick:function(){return i()}},"Start a transfer"),r.a.createElement(p.Button,{size:"small",className:s.button,variant:"outline",onClick:function(){i()}},"Close Window")))))},Ee=n(1299).a();var Ce,je=function(e){var t=e.classNames,n=e.disabled,a=e.label,o=e.name,i=e.max,c=Object(P.useField)(o),s=Object(h.a)(c,3)[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.FormikTextInput,{className:null===t||void 0===t?void 0:t.input,disabled:n,name:o,label:a}),r.a.createElement(p.Button,{disabled:n||!i,className:null===t||void 0===t?void 0:t.button,onClick:function(){s.setValue(i)},variant:"outline",type:"button"},"MAX"))},Oe=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(d.createStyles)({root:{minHeight:69*t.generalUnit,padding:6*t.generalUnit,overflow:"hidden",position:"relative"},walletArea:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},blurb:{color:n.common.black.main},connectButton:{margin:"".concat(3*t.generalUnit,"px 0 ").concat(6*t.generalUnit,"px")},connecting:{textAlign:"center",marginBottom:2*t.generalUnit},connected:{width:"100%","& > *:first-child":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}},changeButton:{cursor:"pointer"},networkName:{padding:"".concat(2*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),border:"1px solid ".concat(n.additional.gray[6]),borderRadius:2,color:n.additional.gray[9],marginTop:t.generalUnit,marginBottom:3*t.generalUnit},formArea:{"&.disabled":{opacity:.4}},currencySection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",margin:"".concat(3*t.generalUnit,"px 0")},tokenInputArea:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-around",paddingRight:t.generalUnit},tokenInput:{margin:0,"& > div":{height:32,"& input":{borderBottomRightRadius:0,borderTopRightRadius:0,borderRight:0}},"& span:last-child.error":{position:"absolute"}},maxButton:{height:32,borderBottomLeftRadius:0,borderTopLeftRadius:0,left:-1,color:n.additional.gray[8],backgroundColor:n.additional.gray[3],borderColor:n.additional.gray[6],"&:hover":{borderColor:n.additional.gray[6],backgroundColor:n.additional.gray[7],color:n.common.white.main},"&:focus":{borderColor:n.additional.gray[6]}},tokenIndicator:{width:120,textAlign:"right","& p":{marginBottom:t.generalUnit},"& *":{cursor:"pointer"}},generalInput:{"& > span":{marginBottom:t.generalUnit}},faqButton:{cursor:"pointer",height:20,width:20,marginTop:5*t.generalUnit,fill:"".concat(n.additional.transferUi[1]," !important")},token:{backgroundColor:n.additional.gray[1],borderRadius:2,border:"1px solid ".concat(n.additional.gray[6]),padding:"".concat(1*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer",height:4*t.generalUnit,"& img, & svg":{display:"block",height:14,width:14,marginLeft:10},"& span":{minWidth:"calc(100% - 30px)",textAlign:"right",color:n.additional.gray[9]}},tokenItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer","& img, & svg":{display:"block",height:14,width:14,marginRight:10},"& span":{minWidth:"calc(100% - 30px)",textAlign:"right"}},submitButtonArea:{}})})),Ne=function(){var e,t=Oe(),n=Object(E.b)(),o=n.walletType,i=n.setWalletType,c=n.homeChainConfig,l=K(),u=l.wrapTokenConfig,d=l.wrapToken,m=l.unwrapToken,g=l.homeConfig,y=l.isReady,k=l.tokens,w=l.nativeTokenBalance,C=l.address,j=Object(a.useState)(!1),O=Object(h.a)(j,2),T=O[0],S=O[1],I=Object(a.useState)(!1),U=Object(h.a)(I,2),B=U[0],A=U[1],D=Object(a.useState)(!1),F=Object(h.a)(D,2),R=F[0],H=F[1],M=Object(a.useState)(!1),L=Object(h.a)(M,2),W=L[0],V=L[1],z=Object(a.useState)({tokenAmount:0}),q=Object(h.a)(z,2),Z=q[0],_=q[1],J=Object(a.useState)("wrap"),Y=Object(h.a)(J,2),$=Y[0],G=Y[1],X=Object(a.useState)(void 0),ee=Object(h.a)(X,2),te=ee[0],ae=ee[1];Object(a.useEffect)((function(){"select"!==o&&!0===B?A(!1):"select"===o&&A(!0)}),[o,B]);var re=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&d&&g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,ae({tokenInfo:u,value:Z.tokenAmount,txState:"inProgress",action:$}),e.next=6,d(Z.tokenAmount);case 6:if(""!==(t=e.sent)){e.next=10;break}throw ae(void 0),Error("Wrap Transaction failed");case 10:ae({tokenInfo:u,value:Z.tokenAmount,txHash:t,txState:"done",action:$}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&m&&g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,ae({tokenInfo:u,value:Z.tokenAmount,txState:"inProgress",action:$}),e.next=6,m(Z.tokenAmount);case 6:if(""!==(t=e.sent)){e.next=10;break}throw ae(void 0),Error("Unwrap Transaction failed");case 10:ae({tokenInfo:u,value:Z.tokenAmount,txHash:t,txState:"done",action:$}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),ie=(null===c||void 0===c?void 0:c.decimals)&&c.decimals>0?new RegExp("^[0-9]{1,18}(.[0-9]{1,".concat(c.decimals,"})?$")):new RegExp("^[0-9]{1,18}?$"),ce=Object(Q.a)().shape({tokenAmount:Object(Q.b)().matches(ie,"Input invalid").test("Min","Less than minimum",(function(e){return!!e&&parseFloat(e)>0})).test("Max","Insufficent funds",(function(e){var t;return"wrap"===$?!!(w&&e&&parseFloat(e)<=w):!!(k[(null===u||void 0===u?void 0:u.address)||"0x"].balance&&e&&parseFloat(e)<=(null===(t=k[(null===u||void 0===u?void 0:u.address)||"0x"])||void 0===t?void 0:t.balance))})).required("Please set a value")});return r.a.createElement("article",{className:t.root},r.a.createElement("div",{className:t.walletArea},y?B?r.a.createElement("section",{className:t.connecting},r.a.createElement(p.Typography,{component:"p",variant:"h5"},"This app requires access to your wallet, ",r.a.createElement("br",null),"please login and authorize access to continue.")):r.a.createElement("section",{className:t.connected},r.a.createElement("div",null,r.a.createElement(p.Typography,{variant:"body1"},"Home network"),r.a.createElement(p.Typography,{className:t.changeButton,variant:"body1",onClick:function(){return H(!0)}},"Change")),r.a.createElement(p.Typography,{component:"h2",variant:"h2",className:t.networkName},null===g||void 0===g?void 0:g.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:t.blurb,component:"p",variant:"h5"},"To convert a token that needs to be wrapped, please connect to the network that the token exists natively for. For example, to convert ETH into wrapped ETH (WETH), your wallet must be connected to an Ethereum network."),r.a.createElement(p.Button,{className:t.connectButton,fullsize:!0,onClick:function(){i("select")}},"Connect Metamask"))),r.a.createElement(P.Formik,{initialValues:{tokenAmount:0},validationSchema:ce,validateOnChange:!1,onSubmit:function(e){_(Object(s.a)({},e)),V(!0)}},r.a.createElement(P.Form,{className:Object(v.default)(t.formArea,{disabled:!g})},r.a.createElement("section",{className:t.currencySection},r.a.createElement("section",null,r.a.createElement("div",{className:Object(v.default)(t.tokenInputArea,t.generalInput)},r.a.createElement(je,{classNames:{input:Object(v.default)(t.tokenInput,t.generalInput),button:t.maxButton},name:"tokenAmount",label:"I want to convert",max:"wrap"===$?w:null===(e=k[(null===u||void 0===u?void 0:u.address)||"0x"])||void 0===e?void 0:e.balance}))),r.a.createElement("section",{className:t.tokenIndicator},r.a.createElement(p.Typography,{component:"p"},"Balance:"," ","wrap"===$?w?w.toFixed(2):0:k[(null===u||void 0===u?void 0:u.address)||"0x"].balance),r.a.createElement(p.SelectInput,{options:[{label:r.a.createElement("div",{className:t.tokenItem},r.a.createElement(ve,null),r.a.createElement("span",null,"ETH")),value:"wrap"},{label:r.a.createElement("div",{className:t.tokenItem},r.a.createElement("img",{src:null===u||void 0===u?void 0:u.imageUri,alt:null===u||void 0===u?void 0:u.symbol}),r.a.createElement("span",null,(null===u||void 0===u?void 0:u.symbol)||"wETH")),value:"unwrap"}],onChange:function(e){return G(e)},value:$}))),r.a.createElement("section",{className:t.submitButtonArea},r.a.createElement(p.Button,{type:"submit",fullsize:!0,variant:"primary"},"wrap"===$?"Wrap Token":"Unwrap token")),r.a.createElement("section",null,r.a.createElement(p.QuestionCircleSvg,{onClick:function(){return S(!0)},className:t.faqButton})))),r.a.createElement(x,{open:T,close:function(){return S(!1)}}),r.a.createElement(N,{open:R,close:function(){return H(!1)}}),r.a.createElement(ke,{open:W,close:function(){return V(!1)},sender:C||"",start:function(){"wrap"===$?(re(),V(!1)):(oe(),V(!1))},sourceNetwork:(null===g||void 0===g?void 0:g.name)||"",tokenSymbol:"wrap"===$?(null===g||void 0===g?void 0:g.nativeTokenSymbol)||"ETH":(null===u||void 0===u?void 0:u.symbol)||"wETH",value:(null===Z||void 0===Z?void 0:Z.tokenAmount)||0,wrappedTitle:"wrap"===$?"".concat(null===u||void 0===u?void 0:u.name," (").concat(null===u||void 0===u?void 0:u.symbol,")"):(null===g||void 0===g?void 0:g.nativeTokenSymbol)||"ETH",action:$}),te&&r.a.createElement(xe,Object.assign({},te,{close:function(){var e;ae(void 0),e=Fe.Transfer,Ee.push(e)}})),r.a.createElement(ne,null))},Te=Object(d.makeStyles)((function(e){var t=e.constants;e.palette;return Object(d.createStyles)({root:{padding:6*t.generalUnit,position:"relative"}})})),Se=function(){var e=Te();return r.a.createElement("article",{className:e.root},"Explorer")},Ie=n(305),Ue=n(16);function Be(e,t){switch(t.type){case"addTransfer":var n,a,r=(null===(n=e[t.payload.depositNonce])||void 0===n?void 0:n.proposalEvents)||[],o=(null===(a=e[t.payload.depositNonce])||void 0===a?void 0:a.votes)||[];return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},t.payload.depositNonce,Object(s.a)(Object(s.a)(Object(s.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[{proposalStatus:Ce.Inactive,proposalEventBlockNumber:t.payload.transferDetails.depositBlockNumber,proposalEventTransactionHash:t.payload.transferDetails.depositTransactionHash,timestamp:t.payload.transferDetails.timestamp}].concat(Object(Ue.a)(r)),votes:Object(Ue.a)(o)})));case"addProposalEvent":var i,l=(null===(i=e[t.payload.depositNonce])||void 0===i?void 0:i.proposalEvents)||[];return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},t.payload.depositNonce,Object(s.a)(Object(s.a)(Object(s.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[].concat(Object(Ue.a)(l),[t.payload.proposalEventDetails])})));case"addVote":var u,d=(null===(u=e[t.payload.depositNonce])||void 0===u?void 0:u.votes)||[];return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},t.payload.depositNonce,Object(s.a)(Object(s.a)(Object(s.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{votes:[].concat(Object(Ue.a)(d),[t.payload.voteDetails])})));default:return e}}!function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.Passed=2]="Passed",e[e.Executed=3]="Executed",e[e.Cancelled=4]="Cancelled"}(Ce||(Ce={}));var Ae=r.a.createContext(void 0),De=function(e){var t=e.children,n=Object(a.useReducer)(Be,{}),o=Object(h.a)(n,2),i=o[0],c=o[1],l=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(V.a.chains.filter((function(e){return"Substrate"===e.type})).map(function(){var e=Object(b.a)(f.a.mark((function e(t){var n,a,r,o,i,l,u,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Checking events for ".concat(t.name)),n=new X.providers.JsonRpcProvider(t.rpcUrl,t.networkId),a=Ie.BridgeFactory.connect(t.bridgeAddress,n),r=Ie.Erc20HandlerFactory.connect(t.erc20HandlerAddress,n),o=a.filters.Deposit(null,null,null),e.next=7,n.getLogs(Object(s.a)(Object(s.a)({},o),{},{fromBlock:t.deployedBlockNumber}));case 7:return(i=e.sent).forEach(function(){var e=Object(b.a)(f.a.mark((function e(o){var i,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.interface.parseLog(o),e.next=3,r.getDepositRecord(s.args.depositNonce,s.args.destinationChainID);case 3:return l=e.sent,e.t0=c,e.t1=s.args.depositNonce.toNumber(),e.t2=l._depositer,e.t3=o.blockNumber,e.t4=o.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=13,n.getBlock(o.blockNumber);case 13:e.t7=e.sent.timestamp,e.t8=s.args.destinationChainID,e.t9=(null===(i=V.a.chains.find((function(e){return e.chainId===s.args.destinationChainID})))||void 0===i?void 0:i.name)||"",e.t10=l._destinationRecipientAddress,e.t11=l._tokenAddress,e.t12=l._amount,e.t13=s.args.resourceID,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(i.length," deposits")),a.on(o,function(){var e=Object(b.a)(f.a.mark((function e(a,o,i,s){var l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDepositRecord(i,a);case 2:return u=e.sent,e.t0=c,e.t1=i.toNumber(),e.t2=u._depositer,e.t3=s.blockNumber,e.t4=s.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=12,n.getBlock(s.blockNumber);case 12:e.t7=e.sent.timestamp,e.t8=a,e.t9=(null===(l=V.a.chains.find((function(e){return e.chainId===a})))||void 0===l?void 0:l.name)||"",e.t10=u._destinationRecipientAddress,e.t11=u._tokenAddress,e.t12=u._amount,e.t13=o,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),l=a.filters.ProposalEvent(null,null,null,null,null),e.next=14,n.getLogs(Object(s.a)(Object(s.a)({},l),{},{fromBlock:t.deployedBlockNumber}));case 14:return(u=e.sent).forEach(function(){var e=Object(b.a)(f.a.mark((function e(r){var o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=c,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=V.a.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(u.length," proposal events")),a.on(l,function(){var e=Object(b.a)(f.a.mark((function e(a,r,o,i,s,l){var u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(u=V.a.chains.find((function(e){return e.chainId===a})))||void 0===u?void 0:u.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=l.blockNumber,e.t4=l.transactionHash,e.t5=s,e.next=8,n.getBlock(l.blockNumber);case 8:e.t6=e.sent.timestamp,e.t7=o,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()),d=a.filters.ProposalVote(null,null,null,null),e.next=21,n.getLogs(Object(s.a)(Object(s.a)({},d),{},{fromBlock:t.deployedBlockNumber}));case 21:return(p=e.sent).forEach(function(){var e=Object(b.a)(f.a.mark((function e(r){var o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=c,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=V.a.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,voteStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t8},e.t10={type:"addVote",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(p.length," proposal votes")),a.on(d,function(){var e=Object(b.a)(f.a.mark((function e(a,r,o,i,s){var l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(l=V.a.chains.find((function(e){return e.chainId===a})))||void 0===l?void 0:l.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=s.blockNumber,e.t4=s.transactionHash,e.next=7,n.getBlock(s.blockNumber);case 7:e.t5=e.sent.timestamp,e.t6=1===o,e.t7={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:"",timestamp:e.t5,voteStatus:e.t6},e.t8={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t7},e.t9={type:"addVote",payload:e.t8},(0,e.t0)(e.t9);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=[];return function(){var t=Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.length>0&&e.forEach((function(e){e.removeAllListeners()}))}}),[]),r.a.createElement(Ae.Provider,{value:{transfers:i}},t)},Fe={Transfer:"/transfer",Wrap:"/wrap",Explore:"/explore"},Re=function(){return r.a.createElement(p.Switch,null,r.a.createElement(p.Route,{exact:!0,path:Fe.Transfer,component:me}),r.a.createElement(p.Route,{exact:!0,path:Fe.Wrap,component:Ne}),r.a.createElement(p.Route,{exact:!0,path:Fe.Explore},r.a.createElement(De,null,r.a.createElement(Se,null))),r.a.createElement(p.Route,{exact:!0,path:"/"},r.a.createElement(p.Redirect,{to:Fe.Transfer})))},Pe=Object(d.createTheme)({globalStyling:{body:{backgroundColor:"#F5F5F5"}},themeConfig:{constants:{navItemHeight:42},palette:{additional:{general:{1:"#85A5FF"},transferUi:{1:"#595959"},header:{1:"#F5F5F5",2:"#595959",3:"#BFBFBF"},preflight:{1:"#85A5FF",2:"#262626"},transactionModal:{1:"#597EF7",2:"#85A5FF",3:"#2F54EB"}}},overrides:{CheckboxInput:{root:{alignItems:"center"}},Button:{variants:{primary:{root:{backgroundColor:"#262626",color:"#ffffff",border:"1px solid #262626","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}}},outline:{root:{backgroundColor:"transparent",color:"#ffffff",border:"1px solid #ffffff","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}}}}}}}}),He=Object(d.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex,r=e.breakpoints;return Object(d.createStyles)({root:Object(c.a)({display:"flex",position:"fixed",justifyContent:"space-between",padding:"".concat(2*t.generalUnit,"px ").concat(4*t.generalUnit,"px"),width:"100%",top:0,left:0,backgroundColor:n.additional.header[1],borderBottom:"1px solid ".concat(n.additional.header[3]),color:n.additional.header[2],alignItems:"center",zIndex:null===a||void 0===a?void 0:a.layer2},r.down("sm"),{flexDirection:"column"}),left:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},logo:{height:5*t.generalUnit,width:5*t.generalUnit,"& svg, & img":{maxHeight:"100%",maxWidth:"100%"}},state:{display:"flex",flexDirection:"row",alignItems:"center"},indicator:{display:"block",height:10,width:10,borderRadius:"50%",backgroundColor:n.additional.green[6],marginRight:t.generalUnit},address:{marginRight:t.generalUnit},network:{},accountInfo:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},mainInfo:{display:"flex",flexDirection:"column"}})})),Me=function(){var e=He(),t=K(),n=t.homeConfig,a=t.isReady,o=t.address;return r.a.createElement("header",{className:Object(v.default)(e.root)},r.a.createElement("div",{className:e.left},r.a.createElement(p.Typography,{variant:"h4"},"ChainBridge Token Swap")),r.a.createElement("section",{className:e.state},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.mainInfo},r.a.createElement("div",{className:e.accountInfo},r.a.createElement("span",{className:e.indicator}),r.a.createElement(p.Typography,{variant:"h5",className:e.address},o&&D(o))),r.a.createElement(p.Typography,{variant:"h5",className:e.address},r.a.createElement("div",null,r.a.createElement("span",null,"connected to "),r.a.createElement("span",null,r.a.createElement("strong",null,null===n||void 0===n?void 0:n.name)))))):r.a.createElement(p.Typography,{variant:"h5"},"No wallet connected")))};function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ve=r.a.createElement("path",{d:"M12.35 11.5141C12.3531 11.5094 12.3578 11.5047 12.3609 11.5C13.3844 10.2828 14 8.71406 14 7C14 5.28594 13.3844 3.71719 12.3625 2.5C12.3594 2.49531 12.3547 2.49219 12.3516 2.4875C12.3344 2.46719 12.3187 2.44844 12.3016 2.42969C12.2953 2.42188 12.2891 2.41563 12.2828 2.40781L12.2188 2.33437L12.2172 2.33281C12.1938 2.30625 12.1687 2.27969 12.1453 2.25312L12.1438 2.25156C12.0938 2.19844 12.0437 2.14531 11.9922 2.09375L11.9906 2.09219L11.9156 2.01719L11.9109 2.0125C11.8875 1.98906 11.8641 1.96719 11.8406 1.94531C11.8328 1.9375 11.825 1.92969 11.8156 1.92188C11.8 1.90625 11.7844 1.89219 11.7688 1.87812C11.7641 1.87344 11.7578 1.86875 11.7531 1.8625C10.5063 0.70625 8.83594 0 7 0C5.16406 0 3.49375 0.70625 2.24531 1.8625C2.24062 1.86719 2.23438 1.87187 2.22969 1.87812C2.21406 1.89219 2.19844 1.90781 2.18281 1.92344C2.175 1.93125 2.16719 1.93906 2.15781 1.94688C2.13438 1.96875 2.11094 1.99219 2.0875 2.01406L2.08281 2.01875L2.00781 2.09375L2.00625 2.09531C1.95469 2.14688 1.90469 2.2 1.85469 2.25312L1.85313 2.25469C1.82813 2.28125 1.80469 2.30781 1.78125 2.33437L1.77969 2.33594C1.75781 2.35938 1.73594 2.38437 1.71563 2.40937C1.70938 2.41719 1.70313 2.42344 1.69688 2.43125C1.67969 2.45 1.66406 2.47031 1.64687 2.48906C1.64375 2.49375 1.63906 2.49688 1.63594 2.50156C0.615625 3.71719 0 5.28594 0 7C0 8.71406 0.615625 10.2828 1.6375 11.5C1.64062 11.5047 1.64531 11.5094 1.64844 11.5141L1.69688 11.5719C1.70313 11.5797 1.70938 11.5859 1.71563 11.5938L1.77969 11.6672C1.77969 11.6687 1.78125 11.6688 1.78125 11.6703C1.80469 11.6969 1.82813 11.7234 1.85313 11.7484L1.85469 11.75C1.90469 11.8031 1.95469 11.8562 2.00469 11.9078L2.00625 11.9094C2.03125 11.9344 2.05469 11.9594 2.07969 11.9828L2.08437 11.9875C2.13594 12.0391 2.18906 12.0891 2.24219 12.1375C3.49375 13.2937 5.16406 14 7 14C8.83594 14 10.5062 13.2937 11.7547 12.1375C11.8079 12.0887 11.86 12.0387 11.9109 11.9875L11.9156 11.9828C11.9406 11.9578 11.9656 11.9344 11.9891 11.9094L11.9906 11.9078C12.0422 11.8562 12.0922 11.8031 12.1406 11.75L12.1422 11.7484C12.1656 11.7219 12.1906 11.6969 12.2141 11.6703C12.2141 11.6688 12.2156 11.6687 12.2156 11.6672C12.2375 11.6438 12.2594 11.6187 12.2797 11.5938C12.2859 11.5859 12.2922 11.5797 12.2984 11.5719C12.3161 11.553 12.3333 11.5338 12.35 11.5141ZM12.4141 9.28594C12.1984 9.79531 11.9141 10.2672 11.5672 10.6953C11.1765 10.3577 10.7494 10.0647 10.2937 9.82187C10.475 9.08906 10.5875 8.28438 10.6172 7.4375H12.8594C12.8125 8.07656 12.6625 8.69687 12.4141 9.28594ZM12.8594 6.5625H10.6172C10.5875 5.71562 10.475 4.91094 10.2937 4.17812C10.7516 3.93437 11.1781 3.64062 11.5672 3.30469C12.3212 4.23277 12.7722 5.3699 12.8594 6.5625ZM9.28594 1.58594C9.90625 1.84844 10.4703 2.21094 10.9672 2.66719C10.6785 2.91296 10.3679 3.13159 10.0391 3.32031C9.79375 2.61719 9.47969 2.00625 9.11406 1.51719C9.17188 1.53906 9.22969 1.5625 9.28594 1.58594ZM7.87031 12.5328C7.72656 12.6453 7.58281 12.7312 7.4375 12.7891V9.89062C8.05749 9.93388 8.66717 10.0719 9.24531 10.3C9.11563 10.6844 8.96562 11.0391 8.79219 11.3594C8.52031 11.8656 8.20156 12.2703 7.87031 12.5328ZM8.79219 2.64062C8.96406 2.9625 9.11563 3.31719 9.24531 3.7C8.66717 3.92806 8.05749 4.06612 7.4375 4.10938V1.2125C7.58125 1.27031 7.72656 1.35469 7.87031 1.46875C8.20156 1.72969 8.52031 2.13438 8.79219 2.64062ZM7.4375 9.01406V7.4375H9.74219C9.71719 8.12813 9.63125 8.79844 9.4875 9.43437L9.48281 9.45312C8.82708 9.20447 8.13751 9.05644 7.4375 9.01406ZM7.4375 6.5625V4.98594C8.15312 4.94219 8.84063 4.79063 9.48281 4.54688L9.4875 4.56563C9.63125 5.20156 9.71719 5.87031 9.74219 6.5625H7.4375ZM6.5625 7.4375V9.01406C5.84688 9.05781 5.15938 9.20938 4.51719 9.45312L4.5125 9.43437C4.36875 8.79844 4.28281 8.12969 4.25781 7.4375H6.5625ZM4.25781 6.5625C4.28281 5.87187 4.36875 5.20156 4.5125 4.56563L4.51719 4.54688C5.15938 4.79063 5.84531 4.94219 6.5625 4.98594V6.5625H4.25781ZM6.5625 9.89062V12.7875C6.41875 12.7297 6.27344 12.6453 6.12969 12.5312C5.79844 12.2703 5.47813 11.8641 5.20625 11.3578C5.03438 11.0359 4.88281 10.6812 4.75313 10.2984C5.33438 10.0703 5.93906 9.93437 6.5625 9.89062ZM6.5625 4.10938C5.94251 4.06612 5.33283 3.92806 4.75469 3.7C4.88437 3.31562 5.03437 2.96094 5.20781 2.64062C5.47969 2.13438 5.79844 1.72812 6.13125 1.46719C6.275 1.35469 6.41875 1.26875 6.56406 1.21094V4.10938H6.5625ZM4.71406 1.58594C4.77188 1.5625 4.82812 1.53906 4.88594 1.51719C4.52031 2.00625 4.20625 2.61719 3.96094 3.32031C3.63281 3.13281 3.32188 2.91406 3.03281 2.66719C3.52969 2.21094 4.09375 1.84844 4.71406 1.58594ZM1.58594 4.71406C1.80156 4.20469 2.08594 3.73281 2.43281 3.30469C2.82187 3.64062 3.24844 3.93437 3.70625 4.17812C3.525 4.91094 3.4125 5.71562 3.38281 6.5625H1.14062C1.1875 5.92344 1.3375 5.30313 1.58594 4.71406ZM1.14062 7.4375H3.38281C3.4125 8.28438 3.525 9.08906 3.70625 9.82187C3.25059 10.0647 2.82347 10.3577 2.43281 10.6953C1.6788 9.76723 1.22776 8.6301 1.14062 7.4375ZM4.71406 12.4141C4.09375 12.1516 3.52969 11.7891 3.03281 11.3328C3.32188 11.0859 3.63281 10.8687 3.96094 10.6797C4.20625 11.3828 4.52031 11.9938 4.88594 12.4828C4.82812 12.4609 4.77031 12.4375 4.71406 12.4141ZM9.28594 12.4141C9.22812 12.4375 9.17188 12.4609 9.11406 12.4828C9.47969 11.9938 9.79375 11.3828 10.0391 10.6797C10.3672 10.8672 10.6781 11.0859 10.9672 11.3328C10.4731 11.7872 9.90432 12.1529 9.28594 12.4141Z"}),ze=function(e){var t=e.svgRef,n=e.title,a=We(e,["svgRef","title"]);return r.a.createElement("svg",Le({viewBox:"0 0 14 14",ref:t},a),n?r.a.createElement("title",null,n):null,Ve)},qe=r.a.forwardRef((function(e,t){return r.a.createElement(ze,Le({svgRef:t},e))})),Ze=(n.p,Object(d.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.breakpoints;return Object(d.createStyles)({root:Object(c.a)({minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:30,marginTop:10},r.between("sm","xl"),{paddingTop:20,marginTop:55}),inner:{paddingTop:2*n.navItemHeight,paddingBottom:2*n.navItemHeight},cta:{display:"block",maxWidth:200,maxHeight:200,position:"fixed",bottom:3*n.generalUnit,right:3*n.generalUnit},content:{margin:"30px auto",maxWidth:460,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:4},pageArea:{height:"100%",width:"100%",overflow:"hidden",border:"1px solid ".concat(a.additional.gray[7]),borderRadius:4},navTabs:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:"0 ".concat(n.generalUnit,"px"),transform:"translateY(1px)","& > a":{display:"flex",flexDirection:"row",alignItems:"center",padding:"".concat(n.generalUnit,"px ").concat(1.5*n.generalUnit,"px"),border:"1px solid ".concat(a.additional.gray[7]),textDecoration:"none",marginRight:n.generalUnit,transitionDuration:"".concat(t.transform,"ms"),color:a.additional.gray[8],maxHeight:n.navItemHeight,"& svg":{transitionDuration:"".concat(t.transform,"ms"),fill:a.additional.gray[8]},"&.active":{color:a.additional.gray[9],textDecoration:"underline","& svg":{fill:a.additional.geekblue[5]}},"& > *:first-child":{marginRight:n.generalUnit}},"& svg":{height:14,width:14}}})}))),_e=function(e){var t=e.children,n=Ze();return r.a.createElement("section",{className:n.root},r.a.createElement("section",{className:n.inner},r.a.createElement(Me,null),r.a.createElement("section",{className:n.content},r.a.createElement("section",{className:n.navTabs},r.a.createElement(p.NavLink,{activeClassName:"active",to:Fe.Transfer},r.a.createElement(qe,null),r.a.createElement(p.Typography,{variant:"h5"},"Transfer"))),r.a.createElement("div",{className:n.pageArea},t))))},Ke=n(844);n(1659);var Je=function(){var e=V.a.chains.filter((function(e){return"Ethereum"===e.type})).reduce((function(e,t){return t.networkId?Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},t.networkId,t.tokens)):e}),{});return r.a.createElement(l.a,{fallback:function(e){var t=e.error,n=e.componentStack,a=e.eventId,o=e.resetError;return r.a.createElement("div",null,r.a.createElement("p",null,'An error occurred and has been logged. If you would like to provide additional info to help us debug and resolve the issue, click the "Provide Additional Details" button'),r.a.createElement("p",null,null===t||void 0===t?void 0:t.message.toString()),r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("button",{onClick:function(){return Object(u.a)({eventId:a||""})}},"Provide Additional Details"),r.a.createElement("button",{onClick:o},"Reset error"))},onReset:function(){return window.location.reload()}},r.a.createElement(d.ThemeSwitcher,{themes:{light:Pe}},r.a.createElement(p.CssBaseline,null),r.a.createElement(p.ToasterProvider,{autoDismiss:!0},r.a.createElement(Ke.a,{tokensToWatch:e,networkIds:[5],onboardConfig:{dappId:"",walletSelect:{wallets:[{walletName:"metamask",preferred:!0}]},subscriptions:{network:function(e){return e&&console.log("chainId: ",e)},balance:function(e){return e&&console.log("balance: ",X.utils.formatEther(e))}}},checkNetwork:!1,gasPricePollingInterval:120,gasPriceSetting:"fast"},r.a.createElement(E.a,null,r.a.createElement(_,null,r.a.createElement(p.Router,null,r.a.createElement(_e,null,r.a.createElement(Re,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(10),r=n.n(a).a.createContext(void 0),o=function(){var e=Object(a.useContext)(r);if(void 0===e)throw new Error("useHomeBridge must be called within a HomeBridgeProvider");return e}},329:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g}));var a=n(11),r=n.n(a),o=n(34),i=n(1298),c=n(88),s=n(87),l=n(63),u=n(305),d=n(850);function p(e){var t,n;if(n=null===e||void 0===e?void 0:e.networkId,[42220,44787,62320].includes(null!==n&&void 0!==n?n:0))t=new i.a(null===e||void 0===e?void 0:e.rpcUrl);else if((null===e||void 0===e?void 0:e.rpcUrl.startsWith("wss"))||(null===e||void 0===e?void 0:e.rpcUrl.startsWith("ws"))){if(e.rpcUrl.includes("infura")){var a=e.rpcUrl.split("/");t=new c.a.providers.InfuraWebSocketProvider(e.networkId,a[a.length-1])}if(e.rpcUrl.includes("alchemyapi")){var r=e.rpcUrl.split("/");t=new c.a.providers.AlchemyWebSocketProvider(e.networkId,r[r.length-1])}}else t=function(e){var t=new URL(e);if(t.username&&t.password){var n={url:t.hostname,user:t.username,password:t.password};return new c.a.providers.JsonRpcProvider(n)}return new c.a.providers.JsonRpcProvider(e)}(null===e||void 0===e?void 0:e.rpcUrl);return t}function m(e,t,n,a,r){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t,n,a,o,i){var c,l,m,f,b,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=null===t||void 0===t?void 0:t.tokens.find((function(e){return e.resourceId===a.resourceId})))||void 0===t||"Ethereum"!==t.type){e.next=19;break}return l=p(t),m=d.a.connect(c.address,l),f=t.erc20HandlerAddress,b=u.Erc20HandlerFactory.connect(f,l),e.next=8,b._burnList(c.address);case 8:if(!e.sent){e.next=12;break}return console.log("token mintable on destination chain"),e.abrupt("return",!0);case 12:return e.next=14,m.balanceOf(f);case 14:if(h=e.sent,!(Number(s.utils.formatUnits(h))<o)){e.next=18;break}return console.log("Not enough token balance on destination chain!"),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getFeeData();case 3:if("undefined"===typeof e.sent.maxFeePerGas){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0),console.warn("Can't access fee data for EIP-1559, fallback to legacy transaction");case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function e(t,n,a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0,!t){e.next=6;break}return e.next=4,b(t);case 4:e.sent||(o=l.a.from(s.utils.parseUnits((n.defaultGasPrice||a).toString(),9)).toString());case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(10),r=n.n(a).a.createContext(void 0),o=function(){var e=Object(a.useContext)(r);if(void 0===e)throw new Error("useHomeBridge must be called within a HomeBridgeProvider");return e}},553:function(e,t,n){"use strict";n.r(t),n.d(t,"createApi",(function(){return u})),n.d(t,"submitDeposit",(function(){return d}));var a=n(11),r=n.n(a),o=n(34),i=n(1043),c=n(182),s=n.n(c),l=n(73),u=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new i.WsProvider(t),o=l.a.chains.find((function(e){return e.rpcUrl===t})),e.next=4,n(1600)("./".concat(o.typesFileName));case 4:return c=e.sent,e.abrupt("return",i.ApiPromise.create({provider:a,types:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t,n,a){var r=l.a.chains.find((function(e){return e.chainId!==a}));return e.tx[r.transferPalletName][r.transferFunctionName](new s.a(t).multipliedBy(new s.a(10).pow(new s.a(r.decimals))).toString(10),n,a)}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={chains:[{chainId:0,networkId:42,name:"Ethereum Kovan",decimals:18,bridgeAddress:"0xdd7a31277740C9CE73aAa86a8958B627BfE4eA8C",erc20HandlerAddress:"0x59bdD958333760D7B95620A8aa175E27C9A0d3B2",rpcUrl:"https://kovan.infura.io/v3/c2b006e068a248fdb3bcb0a6bd025539",type:"Ethereum",nativeTokenSymbol:"ETH",tokens:[{address:"0x8b857677F3fcAa404FD2D97f398cCE9bF5Fe605e",name:"Basalt",symbol:"BAS",resourceId:"0x0000000000000000000000000000008b857677F3fcAa404FD2D97f398cCE9b00"}]},{chainId:86,networkId:86,name:"Automata Local",decimals:18,rpcUrl:"ws://localhost:9944",type:"Substrate",nativeTokenSymbol:"ATA",chainbridgePalletName:"chainBridge",bridgeFeeValue:0,transferPalletName:"bridgeTransfer",transferFunctionName:"transfer_native",typesFileName:"bridgeTypes.json",tokens:[{address:"0x8b857677F3fcAa404FD2D97f398cCE9bF5Fe605e",name:"Basalt",symbol:"BAS",resourceId:"0x0000000000000000000000000000008b857677F3fcAa404FD2D97f398cCE9b00"}]}]}},850:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(3),o=n(273),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"connect",value:function(e,t){return new o.b(e,c,t)}}]),e}(),c=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"decimals",type:"uint8"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}]}},[[1325,17,18]]]);
//# sourceMappingURL=main.ac662472.chunk.js.map