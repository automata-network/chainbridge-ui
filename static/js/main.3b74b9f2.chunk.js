(this["webpackJsonp@chainsafe/chainbridge-ui"]=this["webpackJsonp@chainsafe/chainbridge-ui"]||[]).push([[16],{133:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return v}));var a=n(2),r=n.n(a),o=n(18),i=n(480),c=n(57),s=n(56),l=n(36),u=n(119),d=n(275);function p(e){var t,n;if(n=null===e||void 0===e?void 0:e.networkId,[42220,44787,62320].includes(null!==n&&void 0!==n?n:0))t=new i.a(null===e||void 0===e?void 0:e.rpcUrl);else if(null===e||void 0===e?void 0:e.rpcUrl.startsWith("wss")){if(e.rpcUrl.includes("infura")){var a=e.rpcUrl.split("/");t=new c.a.providers.InfuraWebSocketProvider(e.networkId,a[a.length-1])}if(e.rpcUrl.includes("alchemyapi")){var r=e.rpcUrl.split("/");t=new c.a.providers.AlchemyWebSocketProvider(e.networkId,r[r.length-1])}}else t=function(e){var t=new URL(e);if(t.username&&t.password){var n={url:t.hostname,user:t.username,password:t.password};return new c.a.providers.JsonRpcProvider(n)}return new c.a.providers.JsonRpcProvider(e)}(null===e||void 0===e?void 0:e.rpcUrl);return t}function m(e,t,n,a,r){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t,n,a,o,i){var c,l,m,f,b,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=null===t||void 0===t?void 0:t.tokens.find((function(e){return e.resourceId===a.resourceId})))||void 0===t||"Ethereum"!==t.type){e.next=19;break}return l=p(t),m=d.a.connect(c.address,l),f=t.erc20HandlerAddress,b=u.Erc20HandlerFactory.connect(f,l),e.next=8,b._burnList(c.address);case 8:if(!e.sent){e.next=12;break}return console.log("token mintable on destination chain"),e.abrupt("return",!0);case 12:return e.next=14,m.balanceOf(f);case 14:if(h=e.sent,!(Number(s.utils.formatUnits(h))<o)){e.next=18;break}return console.log("Not enough token balance on destination chain!"),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getFeeData();case 3:if("undefined"===typeof e.sent.maxFeePerGas){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0),console.warn("Can't access fee data for EIP-1559, fallback to legacy transaction");case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(r.a.mark((function e(t,n,a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0,!t){e.next=6;break}return e.next=4,b(t);case 4:e.sent||(o=l.a.from(s.utils.parseUnits((n.defaultGasPrice||a).toString(),9)).toString());case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(1),r=n.n(a).a.createContext(void 0),o=function(){var e=Object(a.useContext)(r);if(void 0===e)throw new Error("useHomeBridge must be called within a HomeBridgeProvider");return e}},196:function(e,t,n){"use strict";n.r(t),n.d(t,"createApi",(function(){return d})),n.d(t,"submitDeposit",(function(){return p}));var a=n(2),r=n.n(a),o=n(18),i=n(668),c=n(666),s=n(88),l=n.n(s),u=n(39),d=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new i.a(t),o=u.a.chains.find((function(e){return e.rpcUrl===t})),e.next=4,n(555)("./".concat(o.typesFileName));case 4:return s=e.sent,e.abrupt("return",c.a.create({provider:a,types:s}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t,n,a){var r=u.a.chains.find((function(e){return e.chainId!==a}));return e.tx[r.transferPalletName][r.transferFunctionName](new l.a(t).multipliedBy(new l.a(10).pow(new l.a(r.decimals))).toString(10),n,a)}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(4),o=n(112),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"connect",value:function(e,t){return new o.b(e,c,t)}}]),e}(),c=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"decimals",type:"uint8"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}]},349:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(4),o=n(112),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"connect",value:function(e,t){return new o.b(e,c,t)}}]),e}(),c=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}]},378:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(2),r=n.n(a),o=n(18),i=n(3),c=n(1),s=n.n(c),l=n(119),u=n(269),d=n(36),p=n(56),m=n(39),f=n(275),b=n(349),h=n(78),v=n(76),g=n(350),y=n(232),k=n(133),w=["0xdac17f958d2ee523a2206206994597c13d831ec7","0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"],x=function(t){var n=t.children,a=Object(u.b)(),x=a.isReady,O=a.network,j=a.provider,C=a.gasPrice,E=a.address,N=a.tokens,T=a.wallet,S=a.checkIsReady,I=a.ethBalance,B=a.onboard,D=a.resetOnboard,U=Object(h.b)(),A=U.homeChainConfig,F=U.setTransactionStatus,P=U.setDepositNonce,H=U.handleSetHomeChain,R=U.homeChains,M=U.setNetworkId,L=Object(c.useState)(void 0),V=Object(i.a)(L,2),z=V[0],W=V[1],Z=Object(c.useState)(void 0),_=Object(i.a)(Z,2),q=_[0],J=_[1],K=Object(c.useState)(),Y=Object(i.a)(K,2),$=Y[0],G=Y[1],X=Object(c.useState)(),Q=Object(i.a)(X,2),ee=Q[0],te=Q[1],ne=Object(c.useState)(""),ae=Object(i.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(c.useState)(void 0),ce=Object(i.a)(ie,2),se=ce[0],le=ce[1],ue=Object(c.useState)(void 0),de=Object(i.a)(ue,2),pe=de[0],me=de[1];Object(c.useEffect)((function(){if(O){var e=R.find((function(e){return e.networkId===O}));M(O),e&&H(e.chainId)}}),[H,R,O,M]);var fe=Object(c.useState)(!1),be=Object(i.a)(fe,2),he=be[0],ve=be[1],ge=Object(c.useState)(!1),ye=Object(i.a)(ge,2),ke=ye[0],we=ye[1];Object(c.useEffect)((function(){he||z||!B||(console.log("starting init"),ve(!0),ke?S().then((function(e){if(e&&A&&O&&x&&j){var t=j.getSigner();if(!t)return console.log("No signer"),void ve(!1);var n=l.BridgeFactory.connect(A.bridgeAddress,t);W(n);var a=A.tokens.find((function(e){return e.isNativeWrappedToken}));if(a){me(a);var r=b.a.connect(a.address,t);le(r)}else me(void 0),le(void 0)}})).catch((function(e){console.error(e)})).finally((function(){ve(!1)})):B.walletSelect("metamask").then((function(e){we(e),e&&S().then((function(e){if(e&&A&&O&&x&&j){var t=j.getSigner();if(!t)return console.log("No signer"),void ve(!1);var n=l.BridgeFactory.connect(A.bridgeAddress,t);W(n);var a=A.tokens.find((function(e){return e.isNativeWrappedToken}));if(a){me(a);var r=b.a.connect(a.address,t);le(r)}else me(void 0),le(void 0)}})).catch((function(e){console.error(e)})).finally((function(){ve(!1)}))})).catch((function(e){ve(!1),console.error(e)})))}),[he,A,x,j,S,O,z,B,ke]),Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=7;break}return e.t0=d.a,e.next=4,z._relayerThreshold();case 4:e.t1=e.sent,t=e.t0.from.call(e.t0,e.t1).toNumber(),J(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=9;break}return e.t0=Number,e.t1=p.utils,e.next=5,z._fee();case 5:e.t2=e.sent,e.t3=e.t1.formatEther.call(e.t1,e.t2),t=(0,e.t0)(e.t3),G(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[z]);var xe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(T&&T.connect&&O)){e.next=5;break}return e.next=3,null===B||void 0===B?void 0:B.walletSelect("metamask");case 3:return e.next=5,T.connect();case 5:case"end":return e.stop()}}),e)}))),[T,O,B]),Oe=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=10;break}if(o=m.a.chains.find((function(e){return e.chainId===a})),i=A.tokens.find((function(e){return e.address===n})),"Ethereum"!==(null===o||void 0===o?void 0:o.type)||!i){e.next=9;break}return e.next=6,Object(k.c)(o,N,i,t,n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[A,N]),je=Object(c.useCallback)(function(){var t=Object(o.a)(r.a.mark((function t(n,a,o,i){var c,s,l,u,b,h,v,g;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A&&z){t.next=3;break}return console.error("Home bridge contract is not instantiated"),t.abrupt("return");case 3:if(c=null===j||void 0===j?void 0:j.getSigner(),E&&c){t.next=7;break}return console.log("No signer"),t.abrupt("return");case 7:if("Substrate"===(null===(s=m.a.chains.find((function(e){return e.chainId===i})))||void 0===s?void 0:s.type)&&(a="0x".concat(e.from(Object(y.a)(a)).toString("hex"))),l=A.tokens.find((function(e){return e.address===o}))){t.next=13;break}return console.log("Invalid token selected"),t.abrupt("return");case 13:return F("Initializing Transfer"),te(n),oe(o),u=f.a.connect(o,c),b=N[o].decimals,h="0x"+p.utils.hexZeroPad(d.a.from(p.utils.parseUnits(n.toString(),b)).toHexString(),32).substr(2)+p.utils.hexZeroPad(p.utils.hexlify((a.length-2)/2),32).substr(2)+a.substr(2),t.prev=19,t.next=22,Object(k.a)(j,A,C);case 22:return v=t.sent,t.next=25,u.allowance(E,A.erc20HandlerAddress);case 25:if(g=t.sent,!(Number(p.utils.formatUnits(g,b))<n)){t.next=36;break}if(!(Number(p.utils.formatUnits(g,b))>0&&w.includes(o))){t.next=32;break}return t.next=30,u.approve(A.erc20HandlerAddress,d.a.from(p.utils.parseUnits("0",b)),{gasPrice:v});case 30:return t.next=32,t.sent.wait(1);case 32:return t.next=34,u.approve(A.erc20HandlerAddress,d.a.from(p.utils.parseUnits(n.toString(),b)),{gasPrice:v});case 34:return t.next=36,t.sent.wait(1);case 36:return z.once(z.filters.Deposit(i,l.resourceId,null),(function(e,t,n){P("".concat(n.toString())),F("In Transit")})),t.next=39,z.deposit(i,l.resourceId,h,{gasPrice:v,value:p.utils.parseUnits(($||0).toString(),18)});case 39:return t.next=41,t.sent.wait();case 41:return t.abrupt("return",Promise.resolve());case 44:t.prev=44,t.t0=t.catch(19),console.error(t.t0),F("Transfer Aborted"),oe(o);case 49:case"end":return t.stop()}}),t,null,[[19,44]])})));return function(e,n,a,r){return t.apply(this,arguments)}}(),[z,E,$,A,C,j,P,F,N]),Ce=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe&&(null===se||void 0===se?void 0:se.deposit)&&A){e.next=2;break}return e.abrupt("return","not ready");case 2:return e.prev=2,e.next=5,Object(k.a)(j,A,C);case 5:return n=e.sent,e.next=8,se.deposit({value:Object(g.parseUnits)("".concat(t),A.decimals),gasPrice:n});case 8:return a=e.sent,e.next=11,null===a||void 0===a?void 0:a.wait();case 11:if(!(null===a||void 0===a?void 0:a.hash)){e.next=15;break}return e.abrupt("return",null===a||void 0===a?void 0:a.hash);case 15:return e.abrupt("return","");case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe&&(null===se||void 0===se?void 0:se.withdraw)&&A){e.next=2;break}return e.abrupt("return","not ready");case 2:return e.prev=2,e.next=5,Object(k.a)(j,A,C);case 5:return n=e.sent,e.next=8,se.deposit({value:Object(g.parseUnits)("".concat(t),A.decimals),gasPrice:n});case 8:return a=e.sent,e.next=11,null===a||void 0===a?void 0:a.wait();case 11:if(!(null===a||void 0===a?void 0:a.hash)){e.next=15;break}return e.abrupt("return",null===a||void 0===a?void 0:a.hash);case 15:return e.abrupt("return","");case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return","");case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(v.a.Provider,{value:{connect:xe,disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(e){switch(Number(e)){case 5:return"Localhost";case 1:return"Mainnet";case 3:return"Ropsten";case 4:return"Rinkeby";case 6:return"Kotti";case 42:return"Kovan";case 61:return"Ethereum Classic - Mainnet";case 42220:return"CELO - Mainnet";case 44787:return"CELO - Alfajores Testnet";case 62320:return"CELO - Baklava Testnet";default:return"Other"}},bridgeFee:$,deposit:je,depositAmount:ee,selectedToken:re,setDepositAmount:te,setSelectedToken:oe,tokens:N,relayerThreshold:q,wrapTokenConfig:pe,wrapper:se,wrapToken:Ce,unwrapToken:Ee,isReady:x,chainConfig:A,address:E,nativeTokenBalance:I,handleCheckSupplies:Oe}},n)}}).call(this,n(45).Buffer)},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={chains:[{chainId:3,networkId:3,name:"Ethereum Ropsten",decimals:18,bridgeAddress:"0x444c2549493611225482f6414F495582b0A774a5",erc20HandlerAddress:"0xc154D4bE2E4e1820eF30d5F50B0bac3964f9E6D3",rpcUrl:"https://eth-ropsten.alchemyapi.io/v2/IYDtYCdyBYHNi3uuS1ao7XzMn3t8DsEA",blockExplorer:"https://ropsten.etherscan.io/tx",type:"Ethereum",nativeTokenSymbol:"rETH",tokens:[{address:"0x8B9366ca897FB89a0466945Cae5cb7B8E37b1070",name:"FiniteState",symbol:"FST",resourceId:"0x00000000000000000000008B9366ca897FB89a0466945Cae5cb7B8E37b107003"}]},{chainId:254,networkId:13107,name:"Automata FiniteState",decimals:18,rpcUrl:"wss://fs-api.ata.network",type:"Substrate",nativeTokenSymbol:"FST",chainbridgePalletName:"chainBridge",ss58Prefix:13107,bridgeFeeValue:0,transferPalletName:"bridgeTransfer",transferFunctionName:"transferNative",typesFileName:"bridgeTypes.json",existential:.01,tokens:[{address:"substrate-native",name:"FST",symbol:"FST",resourceId:"substratsubme-native"}]}]}},475:function(e,t,n){e.exports=n.p+"static/media/eth.9b4c5748.svg"},476:function(e,t,n){e.exports=n.p+"static/media/weth.802c6eac.svg"},477:function(e,t,n){e.exports=n.p+"static/media/dai.15edf859.svg"},478:function(e,t,n){e.exports=n.p+"static/media/cusd.45c5902a.svg"},519:function(e,t,n){e.exports=n(659)},524:function(e,t,n){},543:function(e,t){},554:function(e,t){},555:function(e,t,n){var a={"./ChainBridgeAPI":[196,9],"./ChainBridgeAPI.tsx":[196,9],"./bridgeTypes":[497,3,14],"./bridgeTypes.json":[497,3,14],"./centrifuge-types":[498,9,12],"./centrifuge-types.ts":[498,9,12]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,t[1])}))}r.keys=function(){return Object.keys(a)},r.id=555,e.exports=r},557:function(e,t){},558:function(e,t){},574:function(e,t){},577:function(e,t){},579:function(e,t){},588:function(e,t){},590:function(e,t){},619:function(e,t){},621:function(e,t){},638:function(e,t){},659:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n.n(r),i=n(114),c=n.n(i),s=(n(524),n(27)),l=n(31),u=n(738),d=n(667),p=n(33),m=n(19),f=n(2),b=n.n(f),h=n(18),v=n(3),g=n(103),y=n(65),k=Object(p.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(p.createStyles)({root:{backgroundColor:"".concat(n.additional.gray[9]," !important"),color:n.common.white.main,border:"none",padding:"".concat(3*t.generalUnit,"px ").concat(4*t.generalUnit,"px")},backdrop:{backgroundColor:"".concat(n.additional.gray[9]," !important"),opacity:"0.6 !important"}})})),w=function(e){var t=e.children,n=e.className,a=Object(g.a)(e,["children","className"]),r=k();return o.a.createElement(m.Drawer,Object.assign({classNames:{backdrop:r.backdrop},className:Object(y.default)(r.root,n)},a),t)},x=Object(p.makeStyles)((function(e){var t=e.constants;return Object(p.createStyles)({root:{display:"flex",flexDirection:"column",justifyContent:"space-between"},buttons:{display:"flex",flexDirection:"row",alignItems:"center","& *":{marginRight:t.generalUnit,textDecoration:"none"}}})})),O=function(e){var t=e.open,n=e.close,a=x();return o.a.createElement(w,{onClose:n,open:t,className:a.root},o.a.createElement(m.Typography,{variant:"h1",component:"h4"},"What is Automata Token Bridge?"),o.a.createElement(m.Typography,{component:"p",variant:"h5"},"Automata Token Bridge is a modular multi-directional blockchain bridge to allow token transfer between Ethereum based network and Substrate based network. This should enable users to specify a destination blockchain from their source chain, and send data to that blockchain for consumption on the destination chain. ",o.a.createElement("br",null),o.a.createElement("br",null),"This could be a token that is locked on ChainA and redeemed on ChainB, or an operation that is executed on a destination chain and initiated on the source chain."),o.a.createElement("section",{className:a.buttons},o.a.createElement(m.Button,{onClick:function(){return n()},variant:"outline"},"OK"),o.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},o.a.createElement(m.Button,{variant:"outline"},"Ask a question on ",""))))},j=n(78),C=n(76),E=n(141),N=Object(p.makeStyles)((function(e){var t=e.constants;return Object(p.createStyles)({root:{},buttons:{display:"flex",flexDirection:"row",flexWrap:"wrap","& > *":{marginTop:2*t.generalUnit,marginRight:t.generalUnit,textDecoration:"none"}},paragraph:{margin:"".concat(3*t.generalUnit,"px 0")}})})),T=function(e){var t=e.open,n=e.close,a=N(),r=Object(j.b)(),i=r.setWalletType,c=r.handleSetHomeChain,s=r.setDestinationChain,l=Object(C.b)().disconnect,u=Object(E.b)();return o.a.createElement(w,{open:t,className:a.root},o.a.createElement(m.Typography,{variant:"h3",component:"h2"},"Changing Networks"),o.a.createElement(m.Typography,{className:a.paragraph,component:"p",variant:"h5"},"To change networks, please open your browser wallet and change networks there. If your wallet does not support your desired home network, please connect a different wallet. ",o.a.createElement("br",null),o.a.createElement("br",null),"Note: your transfer settings will be reset."),o.a.createElement("section",{className:a.buttons},o.a.createElement(m.Button,{onClick:n,variant:"outline"},"OK"),o.a.createElement(m.Button,{onClick:Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([u.disconnect(),l()]);case 2:c(void 0),s(void 0),i("select");case 5:case"end":return e.stop()}}),e)}))),variant:"outline"},"Connect different wallet"),o.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},o.a.createElement(m.Button,{variant:"outline"},"Ask a question on ",""))))},S=n(657),I=S.decodeAddress,B=S.encodeAddress,D=n(12),U=D.hexToU8a,A=D.isHex,F=function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(e.length-6,6))},P=Object(p.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(p.createStyles)({root:{zIndex:null===a||void 0===a?void 0:a.blocker,position:"absolute","& li":{position:"relative",padding:"".concat(t.generalUnit,"px 0 ").concat(t.generalUnit,"px ").concat(8*t.generalUnit,"px"),"&:before":{content:"''",display:"block",backgroundColor:n.additional.gray[2],height:t.generalUnit,width:t.generalUnit,borderRadius:"50%",position:"absolute",top:"50%",left:4*t.generalUnit,transform:"translate(-50%, -50%)"}}},subtitle:{margin:"".concat(2*t.generalUnit,"px 0")},agreement:{margin:"".concat(2*t.generalUnit,"px 0")},startButton:{backgroundColor:n.additional.preflight[1],color:n.additional.preflight[2],marginBottom:2*t.generalUnit},backdrop:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.layer4}})})),H=function(e){var t=e.open,n=e.close,a=e.receiver,r=e.sender,i=e.sourceNetwork,c=e.targetNetwork,s=e.tokenSymbol,l=e.value,u=e.start,d=P();return o.a.createElement(w,{className:d.root,classNames:{backdrop:d.backdrop},size:430,open:t},o.a.createElement(m.Typography,{variant:"h3",component:"h2"},"Pre-flight check"),o.a.createElement(m.Typography,{className:d.subtitle,variant:"h5",component:"p"},"Please be advised this is an experimental application:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(m.Typography,{variant:"h5"},"You will not be able to cancel the transaction once you submit it.")),o.a.createElement("li",null,o.a.createElement(m.Typography,{variant:"h5"},"Your transaction could get stuck for an indefinite amount of time")),o.a.createElement("li",null,o.a.createElement(m.Typography,{variant:"h5"},"Funds cannot be returned if they are sent to the wrong address.")),o.a.createElement("li",null,o.a.createElement(m.Typography,{variant:"h5"},"The transaction fee may be higher than expected."))),o.a.createElement(m.Typography,{className:d.agreement,variant:"h5",component:"p"},"I agree and want to send"," ",o.a.createElement("strong",null,l," ",s)," ","from\xa0",o.a.createElement("strong",null,F(r))," on"," ",o.a.createElement("strong",null,i)," to\xa0",o.a.createElement("strong",null,F(a))," on"," ",o.a.createElement("strong",null,c),"."),o.a.createElement(m.Button,{onClick:u,className:d.startButton,fullsize:!0},"Start Transfer"),o.a.createElement(m.Button,{onClick:n},"Back"))},R=n(93),M=Object(p.makeStyles)((function(e){var t=e.constants;return Object(p.createStyles)({root:{},input:{margin:0,width:"100%"},label:{marginBottom:t.generalUnit},checkbox:{marginTop:3*t.generalUnit}})})),L=function(e){var t=e.classNames,n=e.senderAddress,a=e.className,i=e.inputVariant,c=void 0===i?"default":i,s=e.type,l=void 0===s?"text":s,u=e.placeholder,d=e.name,p=e.size,f=e.label,b=e.labelClassName,h=e.captionMessage,k=e.sendToSameAccountHelper,w=void 0!==k&&k,x=Object(g.a)(e,["classNames","senderAddress","className","inputVariant","type","placeholder","name","size","label","labelClassName","captionMessage","sendToSameAccountHelper"]),O=M(),j=Object(R.useField)(d),C=Object(v.a)(j,3),E=C[0],N=C[1],T=C[2],S=Object(r.useState)(),I=Object(v.a)(S,2),B=I[0],D=I[1],U=Object(r.useCallback)((function(){void 0===B?(D(E.value),T.setValue(n)):(T.setValue(B),D(void 0))}),[T,E,n,B,D]);return o.a.createElement("section",{className:Object(y.default)(O.root,a)},o.a.createElement("div",null,o.a.createElement(m.TextInput,Object.assign({},x,{label:f||E.name,inputVariant:c,type:l,size:p,className:Object(y.default)(null===t||void 0===t?void 0:t.input,O.input),labelClassName:Object(y.default)(b,O.label),name:E.name,value:E.value,placeholder:u,captionMessage:N.error?"".concat(N.error):h&&h,state:N.error?"error":void 0,onChange:T.setValue,disabled:void 0!==B}))),w&&o.a.createElement("div",{className:O.checkbox},o.a.createElement(m.CheckboxInput,{label:"I want to send funds to my address",value:void 0!==B,onChange:function(){return U()}})))},V=Object(p.makeStyles)((function(e){var t=e.constants;return Object(p.createStyles)({root:{height:"100% !important",borderTopLeftRadius:t.generalUnit/2,borderTopRightRadius:t.generalUnit/2,overflow:"hidden",position:"absolute"}})})),z=function(e){var t=e.children,n=e.className,a=Object(g.a)(e,["children","className"]),r=V();return o.a.createElement(m.Modal,Object.assign({className:Object(y.default)(r.root,n)},a),t)},W=n(39),Z=Object(p.makeStyles)((function(e){var t=e.constants;e.palette,e.zIndex;return Object(p.createStyles)({root:{},slide:{borderRadius:t.generalUnit/2,padding:"".concat(t.generalUnit,"px ").concat(2*t.generalUnit,"px"),"& > p":{marginTop:2*t.generalUnit,marginBottom:3*t.generalUnit,textAlign:"center"}},buttons:{marginBottom:2*t.generalUnit,display:"flex",flexDirection:"row",justifyContent:"space-around"}})})),_=function(){var e=Z(),t=K().isReady,n=Object(j.b)(),a=n.walletType,r=n.setWalletType;return o.a.createElement(m.Modal,{active:"unset"!==a&&"Ethereum"!==a&&!t,closePosition:"right",className:e.root,injectedClass:{inner:e.slide}},"select"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{variant:"h3",component:"p"},"Please select a wallet type"),o.a.createElement("section",{className:e.buttons},o.a.createElement(m.Button,{onClick:function(){return r("Ethereum")}},"Use Ethereum wallet"),o.a.createElement(m.Button,{onClick:function(){return r("Substrate")}},"Use Substrate wallet"))),"Substrate"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{variant:"h2",component:"p"},"Connecting to node"),o.a.createElement(m.ProgressBar,{size:"small",variant:"primary"})))},q=o.a.createContext(void 0),J=function(e){var t=e.children,n=Object(j.b)(),a=n.handleSetHomeChain,i=n.destinationChainConfig,c=n.setTransactionStatus,s=n.setDestinationChain,l=n.setDepositNonce,u=n.setDepositVotes,d=n.transferTxHash,p=n.inTransitMessages,m=n.tokensDispatch,f=n.transactionStatus,v=n.depositNonce,g=n.depositVotes,y=n.homeChainConfig,k=n.destinationChains,w=n.chainId,x=Object(C.b)(),O=x.connect,E=x.setDepositAmount,N=x.setSelectedToken,T=x.chainConfig,S=x.deposit,I=x.relayerThreshold,B=x.nativeTokenBalance,D=x.address,U=x.selectedToken,A=x.bridgeFee,F=x.depositAmount,P=x.isReady,H=x.wrapTokenConfig,R=x.tokens,M=x.wrapToken,L=x.unwrapToken,V=x.handleCheckSupplies,z=Object(r.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T||!i){e.next=4;break}return e.next=3,S(t,n,a,i.chainId);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[S,i,T]),Z=function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(V&&T&&i)){e.next=4;break}return e.next=3,V(t,n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return o.a.createElement(q.Provider,{value:{homeConfig:y,connect:O,destinationChains:k,handleSetHomeChain:a,setDestinationChain:s,resetDeposit:function(){W.a.chains.length>2&&s(void 0),c(void 0),l(void 0),u(0),E(void 0),m({type:"resetMessages"}),N("")},deposit:z,destinationChainConfig:i,depositVotes:g,relayerThreshold:I,depositNonce:v,bridgeFee:A,transactionStatus:f,inTransitMessages:p,depositAmount:F,transferTxHash:d,selectedToken:U,wrapToken:M,wrapTokenConfig:H,unwrapToken:L,isReady:P,nativeTokenBalance:B,tokens:R,address:D,chainId:w,checkSupplies:Z}},o.a.createElement(_,null),t)},K=function(){var e=Object(r.useContext)(q);if(void 0===e)throw new Error("useChainbridge must be called within a ChainbridgeProvider");return e},Y=Object(p.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.typography;return Object(p.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",display:"flex",flexDirection:"row",padding:"".concat(5*n.generalUnit,"px ").concat(3.5*n.generalUnit,"px"),bottom:0,top:"unset",transform:"unset",left:0,border:"none",borderRadius:0,transitionDuration:"".concat(t.transform,"ms")},heading:{marginBottom:n.generalUnit,whiteSpace:"nowrap"},stepIndicator:Object(l.a)(Object(l.a)({},r.h4),{},{height:40,width:40,marginRight:2*n.generalUnit,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(a.additional.transactionModal[2]),color:a.additional.transactionModal[3],"& svg":{height:20,width:20,display:"block"}}),content:{display:"flex",flexDirection:"column"},buttons:{display:"flex",flexDirection:"row",marginTop:5*n.generalUnit,"& > *":{textDecoration:"none",marginRight:n.generalUnit}},button:{borderColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.additional.gray[8]," !important"),textDecoration:"none","&:hover":{borderColor:"".concat(a.additional.gray[8]," !important"),backgroundColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.common.white.main," !important"),textDecoration:"none"}},initCopy:{display:"flex",flexDirection:"column",justifyContent:"space-between","& > *:first-child":{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit}},sendingCopy:{},vote:{display:"flex",flexDirection:"row",marginTop:n.generalUnit,"& > *":{"&:first-child":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240},"&:last-child":{marginLeft:3.5*n.generalUnit,fontStyle:"italic"}}},warning:{marginTop:3.5*n.generalUnit,display:"block",fontWeight:600},receipt:{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit},weighted:{fontWeight:600},progress:{position:"absolute",top:0,left:0,width:"100%","& > *":{borderRadius:"0 !important","&  >  *":{borderRadius:"0 !important",background:"".concat(a.additional.transactionModal[1]," !important")}}}})})),$=function(e){var t,n=e.open,a=e.close,r=Y(),i=K(),c=i.transactionStatus,s=i.depositVotes,l=i.relayerThreshold,u=i.inTransitMessages,d=i.homeConfig,p=i.destinationChainConfig,f=i.depositAmount,b=i.transferTxHash,h=i.selectedToken,v=i.tokens,g=h&&(null===(t=v[h])||void 0===t?void 0:t.symbol);return o.a.createElement(z,{className:r.root,injectedClass:{inner:r.inner},active:n},o.a.createElement(m.ProgressBar,{className:r.progress,size:"small",variant:"primary",progress:"Transfer Completed"!==c?-1:100}),o.a.createElement("section",null,o.a.createElement("div",{className:r.stepIndicator},"Initializing Transfer"===c?"1":"In Transit"===c?"2":"Transfer Completed"===c?"3":o.a.createElement(m.ExclamationCircleSvg,null))),o.a.createElement("section",{className:r.content},o.a.createElement(m.Typography,{className:r.heading,variant:"h3",component:"h3"},"Initializing Transfer"===c?"Initializing Transfer":"In Transit"===c?"In Transit (".concat(s<(l||0)?"".concat(s,"/").concat(l," signatures needed"):"Executing proposal",")"):"Transfer Completed"===c?"Transfer completed":"Transfer aborted"),"Initializing Transfer"===c?o.a.createElement("div",{className:r.initCopy},o.a.createElement(m.Typography,null,"Deposit pending..."),o.a.createElement(m.Typography,{className:r.weighted},"This should take a few minutes.",o.a.createElement("br",null),"Please do not refresh or leave the page.")):"In Transit"===c?o.a.createElement("div",{className:r.sendingCopy},u.map((function(e,t){return"string"===typeof e?o.a.createElement(m.Typography,{className:r.vote,component:"p",key:t},e):o.a.createElement(m.Typography,{className:r.vote,component:"p",key:t},o.a.createElement("span",null,"Vote casted by ",e.address),o.a.createElement("span",null,e.signed))})),o.a.createElement(m.Typography,{className:r.warning},"This should take a few minutes. ",o.a.createElement("br",null),"Please do not refresh or leave the page.")):"Transfer Completed"===c?o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{className:r.receipt,component:"p"},"Successfully transferred"," ",o.a.createElement("strong",null,f," ",g,o.a.createElement("br",null)," from ",null===d||void 0===d?void 0:d.name," to ",null===p||void 0===p?void 0:p.name,".")),o.a.createElement("section",{className:r.buttons},o.a.createElement(m.Button,{size:"small",className:r.button,variant:"outline",onClick:a},"Start new transfer"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{className:r.receipt,component:"p"},"Something went wrong and we could not complete your transfer."),d&&d.blockExplorer&&b&&o.a.createElement(m.Button,{onClick:function(){return window.open("".concat(d.blockExplorer,"/").concat(b),"_blank")},size:"small",className:r.button,variant:"outline"},"View transaction"),o.a.createElement("section",{className:r.buttons},o.a.createElement(m.Button,{size:"small",className:r.button,variant:"outline",onClick:a},"Start new transfer"),o.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},o.a.createElement(m.Button,{variant:"outline"},"Ask a question on ",""))))))},G=function(e){var t,n,a=e.className,i=e.label,c=e.name,s=e.tokens,l=e.sync,u=Object(g.a)(e,["className","label","name","tokens","sync"]),d=Object(R.useField)(c),p=Object(v.a)(d,3),f=p[0],b=p[2],h=s[f.value]?"".concat(i," ").concat(null===(t=s[f.value])||void 0===t?void 0:t.balance," ").concat(null===(n=s[f.value])||void 0===n?void 0:n.symbol):"Please select token",y=Object(r.useState)(),k=Object(v.a)(y,2),w=k[0],x=k[1];return Object(r.useEffect)((function(){l&&f.value!==w&&(x(f.value),""!==f.value&&l(f.value))}),[f]),Object(r.useEffect)((function(){1===Object.keys(s).length&&""===f.value&&b.setValue(Object.keys(s)[0])}),[s,b,f.value]),o.a.createElement(m.FormikSelectInput,Object.assign({name:c,className:a,label:h},u))},X=function(e){var t=e.classNames,n=e.disabled,a=e.label,r=e.tokens,i=e.tokenSelectorKey,c=e.name,s=Object(R.useField)(c),l=Object(v.a)(s,3)[2],u=Object(R.useFormikContext)().values;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.FormikTextInput,{className:null===t||void 0===t?void 0:t.input,disabled:n,name:c,label:a}),o.a.createElement(m.Button,{disabled:n||!r[u[i]],className:null===t||void 0===t?void 0:t.button,onClick:function(){l.setValue(r[u[i]].balance)},variant:"outline",type:"button"},"MAX"))},Q=n(235),ee=n(56),te=function(e){var t,n=e.className,a=e.symbol,r=e.fee,i=e.feeSymbol,c=e.amountFormikName,s=Object(R.useFormikContext)().values;return o.a.createElement("section",{className:n},void 0!==r&&void 0!==i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{component:"p"},"Bridge Fee"),o.a.createElement(m.Typography,{component:"p"},r," ",i)),void 0!==a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Typography,{component:"p"},"Transfer Amount:"),o.a.createElement(m.Typography,{component:"p"},null===(t=Number(s[c]))||void 0===t?void 0:t.toFixed(3)," ",a)))},ne=Object(p.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(p.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",borderRadius:"4px",display:"flex",flexDirection:"row",padding:"".concat(6*t.generalUnit,"px ").concat(7*t.generalUnit,"px")},heading:{marginBottom:t.generalUnit},icon:{height:20,width:20,marginTop:.8*t.generalUnit,marginRight:2*t.generalUnit,fill:n.additional.gray[7]},buttons:{display:"flex",flexDirection:"row",marginTop:5*t.generalUnit,"& > *":{textDecoration:"none",marginRight:t.generalUnit}},button:{borderColor:n.additional.gray[8],color:n.additional.gray[8],"&:hover":{borderColor:n.additional.gray[8],backgroundColor:n.additional.gray[8],color:n.common.white.main}}})})),ae=function(){var e=ne(),t=Object(j.b)(),n=t.homeChainConfig,a=t.networkId,i=Object(C.b)(),c=i.getNetworkName,s=i.wrapTokenConfig,l=i.isReady,u=Object(m.useLocation)().pathname,d=Object(r.useState)(!1),p=Object(v.a)(d,2),f=p[0],b=p[1],h=Object(r.useState)([]),g=Object(v.a)(h,2),y=g[0],k=g[1];return Object(r.useEffect)((function(){u===xe.Transfer?(b(!n&&!!l),k(W.a.chains.filter((function(e){return void 0!==e.networkId})).map((function(e){return Number(e.networkId)})))):(b(!1),k([]))}),[u,b,n,l,s]),o.a.createElement(z,{className:e.root,injectedClass:{inner:e.inner},active:f},o.a.createElement("section",null,o.a.createElement(m.ExclamationCircleInverseSvg,{className:e.icon})),o.a.createElement("section",null,o.a.createElement(m.Typography,{className:e.heading,variant:"h3",component:"h3"},"Network Unsupported"),o.a.createElement(m.Typography,{component:"p",variant:"body1"},"This app does not currently support transfers on"," ",c(a),". Please change networks from within your browser wallet."),o.a.createElement("br",null),o.a.createElement(m.Typography,{component:"p",variant:"body1"},"This app is configured to work on"," ",y.map((function(e,t){return"".concat(c(e)).concat(t<y.length-1?", ":"")}))," ","networks"),o.a.createElement("section",{className:e.buttons},o.a.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},o.a.createElement(m.Button,{variant:"outline"},"Ask a question on ","")))))},re=n(475),oe=n.n(re),ie=n(476),ce=n.n(ie),se=n(477),le=n.n(se),ue=n(478),de=n.n(ue),pe={ETHIcon:oe.a,WETHIcon:ce.a,DAIIcon:le.a,celoUSD:de.a},me=Object(p.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(p.createStyles)({root:{padding:6*t.generalUnit,position:"relative"},walletArea:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},connectButton:{margin:"".concat(3*t.generalUnit,"px 0 ").concat(6*t.generalUnit,"px")},connecting:{textAlign:"center",marginBottom:2*t.generalUnit},connected:{width:"100%","& > *:first-child":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}},changeButton:{cursor:"pointer"},networkName:{padding:"".concat(2*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),border:"1px solid ".concat(n.additional.gray[6]),borderRadius:2,color:n.additional.gray[9],marginTop:t.generalUnit,marginBottom:3*t.generalUnit},formArea:{"&.disabled":{opacity:.4}},currencySection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",margin:"".concat(3*t.generalUnit,"px 0")},tokenInputArea:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-around"},tokenInputSection:{width:"60%"},tokenInput:{margin:0,"& > div":{height:32,"& input":{borderBottomRightRadius:0,borderTopRightRadius:0,borderRight:0}},"& span:last-child.error":{position:"absolute",width:"calc(100% + 62px)"}},maxButton:{height:32,borderBottomLeftRadius:0,borderTopLeftRadius:0,left:-1,color:n.additional.gray[8],backgroundColor:n.additional.gray[3],borderColor:n.additional.gray[6],"&:hover":{borderColor:n.additional.gray[6],backgroundColor:n.additional.gray[7],color:n.common.white.main},"&:focus":{borderColor:n.additional.gray[6]}},currencySelector:{width:"40%",paddingRight:t.generalUnit,"& *":{cursor:"pointer"}},token:{},address:{margin:0,marginBottom:3*t.generalUnit},addressInput:{},generalInput:{"& > span":{marginBottom:t.generalUnit}},faqButton:{cursor:"pointer",height:20,width:20,marginTop:5*t.generalUnit,fill:"".concat(n.additional.transferUi[1]," !important")},tokenItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer","& img, & svg":{display:"block",height:14,width:14,marginRight:10},"& span":{minWidth:"calc(100% - 20px)",textAlign:"left"}},fees:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:t.generalUnit,"& > *":{display:"block",width:"50%",color:n.additional.gray[8],marginBottom:t.generalUnit/2,"&:nth-child(even)":{textAlign:"right"}}},accountSelector:{marginBottom:24}})})),fe=function(){var e=me(),t=Object(j.b)(),n=t.walletType,a=t.setWalletType,i=K(),c=i.deposit,s=i.setDestinationChain,u=i.transactionStatus,d=i.resetDeposit,p=i.bridgeFee,f=i.tokens,g=i.isReady,k=i.homeConfig,w=i.destinationChainConfig,x=i.destinationChains,E=i.address,N=i.checkSupplies,S=Object(C.b)(),D=S.accounts,F=S.selectAccount,P=Object(r.useState)(!1),M=Object(v.a)(P,2),V=M[0],z=M[1],Z=Object(r.useState)(!1),_=Object(v.a)(Z,2),q=_[0],J=_[1],Y=Object(r.useState)(!1),ne=Object(v.a)(Y,2),re=ne[0],oe=ne[1],ie=Object(r.useState)(!1),ce=Object(v.a)(ie,2),se=ce[0],le=ce[1],ue=Object(r.useState)({receiver:"",token:"",tokenAmount:0,tokenSymbol:""}),de=Object(v.a)(ue,2),fe=de[0],be=de[1];Object(r.useEffect)((function(){"select"!==n&&!0===q?J(!1):"select"===n&&J(!0)}),[n,q]);var he=fe&&f[fe.token]?f[fe.token].decimals:18,ve=he>0?new RegExp("^[0-9]{1,18}(.[0-9]{1,".concat(he,"})?$")):new RegExp("^[0-9]{1,18}?$"),ge=Object(Q.a)().shape({tokenAmount:Object(Q.b)().test("Token selected","Please select a token",(function(e){return!!(e&&fe&&f[fe.token]&&void 0!==f[fe.token].balance)})).test("InputValid","Input invalid",(function(e){try{return ve.test("".concat(e))}catch(t){return console.error(t),!1}})).test("Max","Insufficent funds",(function(e){return!!(e&&fe&&f[fe.token]&&f[fe.token].balance)&&("Ethereum"===(null===k||void 0===k?void 0:k.type)?parseFloat(e)<=f[fe.token].balance:parseFloat(e)+(p||0)<=f[fe.token].balance)})).test("Bridge Supplies","Not enough tokens on the destination chain. Please contact support.",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(N&&w&&t)){e.next=5;break}return e.next=3,N(parseFloat(t),fe.token,w.chainId);case 3:return n=e.sent,e.abrupt("return",Boolean(n));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).test("Min","Less than minimum",(function(e){if(e){if("Substrate"===(null===w||void 0===w?void 0:w.type)){var t,n=null===(t=W.a.chains.find((function(e){return"Substrate"===e.type})))||void 0===t?void 0:t.existential;if(n)return parseFloat(e)>n}return parseFloat(e)>0}return!1})).required("Please set a value"),token:Object(Q.b)().required("Please select a token"),receiver:Object(Q.b)().test("Valid address","Please add a valid address",(function(e){return"Substrate"===(null===w||void 0===w?void 0:w.type)?function(e){try{return B(A(e)?U(e):I(e)),!0}catch(t){return!1}}(e):ee.utils.isAddress(e)})).required("Please add a receiving address")});return o.a.createElement("article",{className:e.root},o.a.createElement("div",{className:e.walletArea},g?q?o.a.createElement("section",{className:e.connecting},o.a.createElement(m.Typography,{component:"p",variant:"h5"},"This app requires access to your wallet, ",o.a.createElement("br",null),"please login and authorize access to continue.")):o.a.createElement("section",{className:e.connected},o.a.createElement("div",null,o.a.createElement(m.Typography,{variant:"body1"},"Home network"),o.a.createElement(m.Typography,{className:e.changeButton,variant:"body1",onClick:function(){return oe(!0)}},"Change")),o.a.createElement(m.Typography,{component:"h2",variant:"h2",className:e.networkName},null===k||void 0===k?void 0:k.name)):o.a.createElement(m.Button,{className:e.connectButton,fullsize:!0,onClick:function(){a("select")}},"Connect")),g&&"Substrate"===n&&D&&D.length>0&&o.a.createElement("div",null,o.a.createElement("section",{className:e.accountSelector},o.a.createElement(m.SelectInput,{label:"Select account",className:e.generalInput,options:D.map((function(e,t){return{label:e.address,value:t}})),onChange:function(e){return F&&F(e)},value:D.findIndex((function(e){return e.address===E})),placeholder:"Select an account"}))),o.a.createElement(R.Formik,{initialValues:{tokenAmount:0,token:"",receiver:""},validateOnChange:!1,validationSchema:ge,onSubmit:function(e){be(Object(l.a)(Object(l.a)({},e),{},{tokenSymbol:f[e.token].symbol||""})),le(!0)}},(function(t){return o.a.createElement(R.Form,{className:Object(y.default)(e.formArea,{disabled:!k||!E||t.isValidating})},o.a.createElement("section",null,o.a.createElement(m.SelectInput,{label:"Destination Network",className:e.generalInput,disabled:!k,options:x.map((function(e){return{label:e.name,value:e.chainId}})),onChange:function(e){return s(e)},value:null===w||void 0===w?void 0:w.chainId})),o.a.createElement("section",{className:e.currencySection},o.a.createElement("section",{className:e.currencySelector},o.a.createElement(G,{tokens:f,name:"token",disabled:!w,label:"Balance: ",className:e.generalInput,placeholder:"",sync:function(e){be(Object(l.a)(Object(l.a)({},fe),{},{token:e,receiver:"",tokenAmount:0,tokenSymbol:""}))},options:Object.keys(f).map((function(t){var n,a,r,i,c;return{value:t,label:o.a.createElement("div",{className:e.tokenItem},(null===(n=f[t])||void 0===n?void 0:n.imageUri)&&o.a.createElement("img",{src:(c=null===(a=f[t])||void 0===a?void 0:a.imageUri,c&&pe[c]?pe[c]:c),alt:null===(r=f[t])||void 0===r?void 0:r.symbol}),o.a.createElement("span",null,(null===(i=f[t])||void 0===i?void 0:i.symbol)||t))}}))||[]})),o.a.createElement("section",{className:e.tokenInputSection},o.a.createElement("div",{className:Object(y.default)(e.tokenInputArea,e.generalInput)},o.a.createElement(X,{classNames:{input:Object(y.default)(e.tokenInput,e.generalInput),button:e.maxButton},tokenSelectorKey:"token",tokens:f,disabled:!w||!fe.token||""===fe.token,name:"tokenAmount",label:"I want to send"})))),o.a.createElement("section",null,o.a.createElement(L,{disabled:!w,name:"receiver",label:"Destination Address",placeholder:"Please enter the receiving address",className:e.address,classNames:{input:e.addressInput},senderAddress:"".concat(E),sendToSameAccountHelper:(null===w||void 0===w?void 0:w.type)===(null===k||void 0===k?void 0:k.type)})),o.a.createElement(te,{amountFormikName:"tokenAmount",className:e.fees,fee:p,feeSymbol:null===k||void 0===k?void 0:k.nativeTokenSymbol,symbol:fe&&f[fe.token]?f[fe.token].symbol:void 0}),o.a.createElement("section",null,o.a.createElement(m.Button,{type:"submit",fullsize:!0,variant:"primary"},"Start transfer")),o.a.createElement("section",null,o.a.createElement(m.QuestionCircleSvg,{onClick:function(){return z(!0)},className:e.faqButton})))})),o.a.createElement(O,{open:V,close:function(){return z(!1)}}),o.a.createElement(T,{open:re,close:function(){return oe(!1)}}),o.a.createElement(H,{open:se,close:function(){return le(!1)},receiver:(null===fe||void 0===fe?void 0:fe.receiver)||"",sender:E||"",start:function(){le(!1),fe&&c(fe.tokenAmount,fe.receiver,fe.token)},sourceNetwork:(null===k||void 0===k?void 0:k.name)||"",targetNetwork:(null===w||void 0===w?void 0:w.name)||"",tokenSymbol:(null===fe||void 0===fe?void 0:fe.tokenSymbol)||"",value:(null===fe||void 0===fe?void 0:fe.tokenAmount)||0}),o.a.createElement($,{open:!!u,close:d}),o.a.createElement(ae,null))},be=Object(p.makeStyles)((function(e){var t=e.constants;e.palette;return Object(p.createStyles)({root:{padding:6*t.generalUnit,position:"relative"}})})),he=function(){var e=be();return o.a.createElement("article",{className:e.root},"Explorer")},ve=n(119),ge=n(15);function ye(e,t){switch(t.type){case"addTransfer":var n,r,o=(null===(n=e[t.payload.depositNonce])||void 0===n?void 0:n.proposalEvents)||[],i=(null===(r=e[t.payload.depositNonce])||void 0===r?void 0:r.votes)||[];return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},t.payload.depositNonce,Object(l.a)(Object(l.a)(Object(l.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[{proposalStatus:a.Inactive,proposalEventBlockNumber:t.payload.transferDetails.depositBlockNumber,proposalEventTransactionHash:t.payload.transferDetails.depositTransactionHash,timestamp:t.payload.transferDetails.timestamp}].concat(Object(ge.a)(o)),votes:Object(ge.a)(i)})));case"addProposalEvent":var c,u=(null===(c=e[t.payload.depositNonce])||void 0===c?void 0:c.proposalEvents)||[];return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},t.payload.depositNonce,Object(l.a)(Object(l.a)(Object(l.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[].concat(Object(ge.a)(u),[t.payload.proposalEventDetails])})));case"addVote":var d,p=(null===(d=e[t.payload.depositNonce])||void 0===d?void 0:d.votes)||[];return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},t.payload.depositNonce,Object(l.a)(Object(l.a)(Object(l.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{votes:[].concat(Object(ge.a)(p),[t.payload.voteDetails])})));default:return e}}!function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.Passed=2]="Passed",e[e.Executed=3]="Executed",e[e.Cancelled=4]="Cancelled"}(a||(a={}));var ke=o.a.createContext(void 0),we=function(e){var t=e.children,n=Object(r.useReducer)(ye,{}),a=Object(v.a)(n,2),i=a[0],c=a[1],s=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(W.a.chains.filter((function(e){return"Substrate"===e.type})).map(function(){var e=Object(h.a)(b.a.mark((function e(t){var n,a,r,o,i,s,u,d,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Checking events for ".concat(t.name)),n=new ee.providers.JsonRpcProvider(t.rpcUrl,t.networkId),a=ve.BridgeFactory.connect(t.bridgeAddress,n),r=ve.Erc20HandlerFactory.connect(t.erc20HandlerAddress,n),o=a.filters.Deposit(null,null,null),e.next=7,n.getLogs(Object(l.a)(Object(l.a)({},o),{},{fromBlock:t.deployedBlockNumber}));case 7:return(i=e.sent).forEach(function(){var e=Object(h.a)(b.a.mark((function e(o){var i,s,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.interface.parseLog(o),e.next=3,r.getDepositRecord(s.args.depositNonce,s.args.destinationChainID);case 3:return l=e.sent,e.t0=c,e.t1=s.args.depositNonce.toNumber(),e.t2=l._depositer,e.t3=o.blockNumber,e.t4=o.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=13,n.getBlock(o.blockNumber);case 13:e.t7=e.sent.timestamp,e.t8=s.args.destinationChainID,e.t9=(null===(i=W.a.chains.find((function(e){return e.chainId===s.args.destinationChainID})))||void 0===i?void 0:i.name)||"",e.t10=l._destinationRecipientAddress,e.t11=l._tokenAddress,e.t12=l._amount,e.t13=s.args.resourceID,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(i.length," deposits")),a.on(o,function(){var e=Object(h.a)(b.a.mark((function e(a,o,i,s){var l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDepositRecord(i,a);case 2:return u=e.sent,e.t0=c,e.t1=i.toNumber(),e.t2=u._depositer,e.t3=s.blockNumber,e.t4=s.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=12,n.getBlock(s.blockNumber);case 12:e.t7=e.sent.timestamp,e.t8=a,e.t9=(null===(l=W.a.chains.find((function(e){return e.chainId===a})))||void 0===l?void 0:l.name)||"",e.t10=u._destinationRecipientAddress,e.t11=u._tokenAddress,e.t12=u._amount,e.t13=o,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),s=a.filters.ProposalEvent(null,null,null,null,null),e.next=14,n.getLogs(Object(l.a)(Object(l.a)({},s),{},{fromBlock:t.deployedBlockNumber}));case 14:return(u=e.sent).forEach(function(){var e=Object(h.a)(b.a.mark((function e(r){var o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=c,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=W.a.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(u.length," proposal events")),a.on(s,function(){var e=Object(h.a)(b.a.mark((function e(a,r,o,i,s,l){var u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(u=W.a.chains.find((function(e){return e.chainId===a})))||void 0===u?void 0:u.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=l.blockNumber,e.t4=l.transactionHash,e.t5=s,e.next=8,n.getBlock(l.blockNumber);case 8:e.t6=e.sent.timestamp,e.t7=o,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()),d=a.filters.ProposalVote(null,null,null,null),e.next=21,n.getLogs(Object(l.a)(Object(l.a)({},d),{},{fromBlock:t.deployedBlockNumber}));case 21:return(p=e.sent).forEach(function(){var e=Object(h.a)(b.a.mark((function e(r){var o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=c,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=W.a.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,voteStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t8},e.t10={type:"addVote",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(p.length," proposal votes")),a.on(d,function(){var e=Object(h.a)(b.a.mark((function e(a,r,o,i,s){var l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(l=W.a.chains.find((function(e){return e.chainId===a})))||void 0===l?void 0:l.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=s.blockNumber,e.t4=s.transactionHash,e.next=7,n.getBlock(s.blockNumber);case 7:e.t5=e.sent.timestamp,e.t6=1===o,e.t7={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:"",timestamp:e.t5,voteStatus:e.t6},e.t8={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t7},e.t9={type:"addVote",payload:e.t8},(0,e.t0)(e.t9);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=[];return function(){var t=Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:e=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.length>0&&e.forEach((function(e){e.removeAllListeners()}))}}),[]),o.a.createElement(ke.Provider,{value:{transfers:i}},t)},xe={Transfer:"/transfer",Explore:"/explore"},Oe=function(){return o.a.createElement(m.Switch,null,o.a.createElement(m.Route,{exact:!0,path:xe.Transfer,component:fe}),o.a.createElement(m.Route,{exact:!0,path:xe.Explore},o.a.createElement(we,null,o.a.createElement(he,null))),o.a.createElement(m.Route,{exact:!0,path:"/"},o.a.createElement(m.Redirect,{to:xe.Transfer})))},je=Object(p.createTheme)({globalStyling:{body:{backgroundColor:"#F5F5F5"}},themeConfig:{constants:{navItemHeight:42},palette:{additional:{general:{1:"#85A5FF"},transferUi:{1:"#595959"},header:{1:"#F5F5F5",2:"#595959",3:"#BFBFBF"},preflight:{1:"#85A5FF",2:"#262626"},transactionModal:{1:"#597EF7",2:"#85A5FF",3:"#2F54EB"}}},overrides:{CheckboxInput:{root:{alignItems:"center"}},Button:{variants:{primary:{root:{backgroundColor:"#262626",color:"#ffffff",border:"1px solid #262626","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}}},outline:{root:{backgroundColor:"transparent",color:"#ffffff",border:"1px solid #ffffff","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}}}}}}}}),Ce=Object(p.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex,r=e.breakpoints;return Object(p.createStyles)({root:Object(s.a)({display:"flex",position:"fixed",justifyContent:"space-between",padding:"".concat(2*t.generalUnit,"px ").concat(4*t.generalUnit,"px"),width:"100%",top:0,left:0,backgroundColor:n.additional.header[1],borderBottom:"1px solid ".concat(n.additional.header[3]),color:n.additional.header[2],alignItems:"center",zIndex:null===a||void 0===a?void 0:a.layer2},r.down("sm"),{flexDirection:"column"}),left:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},logo:{height:5*t.generalUnit,width:5*t.generalUnit,"& svg, & img":{maxHeight:"100%",maxWidth:"100%"}},state:{display:"flex",flexDirection:"row",alignItems:"center"},indicator:{display:"block",height:10,width:10,borderRadius:"50%",backgroundColor:n.additional.green[6],marginRight:t.generalUnit},address:{marginRight:t.generalUnit},network:{},accountInfo:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},mainInfo:{display:"flex",flexDirection:"column"}})})),Ee=function(){var e=Ce(),t=K(),n=t.homeConfig,a=t.isReady,r=t.address;return o.a.createElement("header",{className:Object(y.default)(e.root)},o.a.createElement("div",{className:e.left},o.a.createElement(m.Typography,{variant:"h4"},"Automata Token Bridge")),o.a.createElement("section",{className:e.state},a?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.mainInfo},o.a.createElement("div",{className:e.accountInfo},o.a.createElement("span",{className:e.indicator}),o.a.createElement(m.Typography,{variant:"h5",className:e.address},r&&F(r))),o.a.createElement(m.Typography,{variant:"h5",className:e.address},o.a.createElement("div",null,o.a.createElement("span",null,"connected to "),o.a.createElement("span",null,o.a.createElement("strong",null,null===n||void 0===n?void 0:n.name)))))):o.a.createElement(m.Typography,{variant:"h5"},"No wallet connected")))};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Se=o.a.createElement("path",{d:"M12.35 11.5141C12.3531 11.5094 12.3578 11.5047 12.3609 11.5C13.3844 10.2828 14 8.71406 14 7C14 5.28594 13.3844 3.71719 12.3625 2.5C12.3594 2.49531 12.3547 2.49219 12.3516 2.4875C12.3344 2.46719 12.3187 2.44844 12.3016 2.42969C12.2953 2.42188 12.2891 2.41563 12.2828 2.40781L12.2188 2.33437L12.2172 2.33281C12.1938 2.30625 12.1687 2.27969 12.1453 2.25312L12.1438 2.25156C12.0938 2.19844 12.0437 2.14531 11.9922 2.09375L11.9906 2.09219L11.9156 2.01719L11.9109 2.0125C11.8875 1.98906 11.8641 1.96719 11.8406 1.94531C11.8328 1.9375 11.825 1.92969 11.8156 1.92188C11.8 1.90625 11.7844 1.89219 11.7688 1.87812C11.7641 1.87344 11.7578 1.86875 11.7531 1.8625C10.5063 0.70625 8.83594 0 7 0C5.16406 0 3.49375 0.70625 2.24531 1.8625C2.24062 1.86719 2.23438 1.87187 2.22969 1.87812C2.21406 1.89219 2.19844 1.90781 2.18281 1.92344C2.175 1.93125 2.16719 1.93906 2.15781 1.94688C2.13438 1.96875 2.11094 1.99219 2.0875 2.01406L2.08281 2.01875L2.00781 2.09375L2.00625 2.09531C1.95469 2.14688 1.90469 2.2 1.85469 2.25312L1.85313 2.25469C1.82813 2.28125 1.80469 2.30781 1.78125 2.33437L1.77969 2.33594C1.75781 2.35938 1.73594 2.38437 1.71563 2.40937C1.70938 2.41719 1.70313 2.42344 1.69688 2.43125C1.67969 2.45 1.66406 2.47031 1.64687 2.48906C1.64375 2.49375 1.63906 2.49688 1.63594 2.50156C0.615625 3.71719 0 5.28594 0 7C0 8.71406 0.615625 10.2828 1.6375 11.5C1.64062 11.5047 1.64531 11.5094 1.64844 11.5141L1.69688 11.5719C1.70313 11.5797 1.70938 11.5859 1.71563 11.5938L1.77969 11.6672C1.77969 11.6687 1.78125 11.6688 1.78125 11.6703C1.80469 11.6969 1.82813 11.7234 1.85313 11.7484L1.85469 11.75C1.90469 11.8031 1.95469 11.8562 2.00469 11.9078L2.00625 11.9094C2.03125 11.9344 2.05469 11.9594 2.07969 11.9828L2.08437 11.9875C2.13594 12.0391 2.18906 12.0891 2.24219 12.1375C3.49375 13.2937 5.16406 14 7 14C8.83594 14 10.5062 13.2937 11.7547 12.1375C11.8079 12.0887 11.86 12.0387 11.9109 11.9875L11.9156 11.9828C11.9406 11.9578 11.9656 11.9344 11.9891 11.9094L11.9906 11.9078C12.0422 11.8562 12.0922 11.8031 12.1406 11.75L12.1422 11.7484C12.1656 11.7219 12.1906 11.6969 12.2141 11.6703C12.2141 11.6688 12.2156 11.6687 12.2156 11.6672C12.2375 11.6438 12.2594 11.6187 12.2797 11.5938C12.2859 11.5859 12.2922 11.5797 12.2984 11.5719C12.3161 11.553 12.3333 11.5338 12.35 11.5141ZM12.4141 9.28594C12.1984 9.79531 11.9141 10.2672 11.5672 10.6953C11.1765 10.3577 10.7494 10.0647 10.2937 9.82187C10.475 9.08906 10.5875 8.28438 10.6172 7.4375H12.8594C12.8125 8.07656 12.6625 8.69687 12.4141 9.28594ZM12.8594 6.5625H10.6172C10.5875 5.71562 10.475 4.91094 10.2937 4.17812C10.7516 3.93437 11.1781 3.64062 11.5672 3.30469C12.3212 4.23277 12.7722 5.3699 12.8594 6.5625ZM9.28594 1.58594C9.90625 1.84844 10.4703 2.21094 10.9672 2.66719C10.6785 2.91296 10.3679 3.13159 10.0391 3.32031C9.79375 2.61719 9.47969 2.00625 9.11406 1.51719C9.17188 1.53906 9.22969 1.5625 9.28594 1.58594ZM7.87031 12.5328C7.72656 12.6453 7.58281 12.7312 7.4375 12.7891V9.89062C8.05749 9.93388 8.66717 10.0719 9.24531 10.3C9.11563 10.6844 8.96562 11.0391 8.79219 11.3594C8.52031 11.8656 8.20156 12.2703 7.87031 12.5328ZM8.79219 2.64062C8.96406 2.9625 9.11563 3.31719 9.24531 3.7C8.66717 3.92806 8.05749 4.06612 7.4375 4.10938V1.2125C7.58125 1.27031 7.72656 1.35469 7.87031 1.46875C8.20156 1.72969 8.52031 2.13438 8.79219 2.64062ZM7.4375 9.01406V7.4375H9.74219C9.71719 8.12813 9.63125 8.79844 9.4875 9.43437L9.48281 9.45312C8.82708 9.20447 8.13751 9.05644 7.4375 9.01406ZM7.4375 6.5625V4.98594C8.15312 4.94219 8.84063 4.79063 9.48281 4.54688L9.4875 4.56563C9.63125 5.20156 9.71719 5.87031 9.74219 6.5625H7.4375ZM6.5625 7.4375V9.01406C5.84688 9.05781 5.15938 9.20938 4.51719 9.45312L4.5125 9.43437C4.36875 8.79844 4.28281 8.12969 4.25781 7.4375H6.5625ZM4.25781 6.5625C4.28281 5.87187 4.36875 5.20156 4.5125 4.56563L4.51719 4.54688C5.15938 4.79063 5.84531 4.94219 6.5625 4.98594V6.5625H4.25781ZM6.5625 9.89062V12.7875C6.41875 12.7297 6.27344 12.6453 6.12969 12.5312C5.79844 12.2703 5.47813 11.8641 5.20625 11.3578C5.03438 11.0359 4.88281 10.6812 4.75313 10.2984C5.33438 10.0703 5.93906 9.93437 6.5625 9.89062ZM6.5625 4.10938C5.94251 4.06612 5.33283 3.92806 4.75469 3.7C4.88437 3.31562 5.03437 2.96094 5.20781 2.64062C5.47969 2.13438 5.79844 1.72812 6.13125 1.46719C6.275 1.35469 6.41875 1.26875 6.56406 1.21094V4.10938H6.5625ZM4.71406 1.58594C4.77188 1.5625 4.82812 1.53906 4.88594 1.51719C4.52031 2.00625 4.20625 2.61719 3.96094 3.32031C3.63281 3.13281 3.32188 2.91406 3.03281 2.66719C3.52969 2.21094 4.09375 1.84844 4.71406 1.58594ZM1.58594 4.71406C1.80156 4.20469 2.08594 3.73281 2.43281 3.30469C2.82187 3.64062 3.24844 3.93437 3.70625 4.17812C3.525 4.91094 3.4125 5.71562 3.38281 6.5625H1.14062C1.1875 5.92344 1.3375 5.30313 1.58594 4.71406ZM1.14062 7.4375H3.38281C3.4125 8.28438 3.525 9.08906 3.70625 9.82187C3.25059 10.0647 2.82347 10.3577 2.43281 10.6953C1.6788 9.76723 1.22776 8.6301 1.14062 7.4375ZM4.71406 12.4141C4.09375 12.1516 3.52969 11.7891 3.03281 11.3328C3.32188 11.0859 3.63281 10.8687 3.96094 10.6797C4.20625 11.3828 4.52031 11.9938 4.88594 12.4828C4.82812 12.4609 4.77031 12.4375 4.71406 12.4141ZM9.28594 12.4141C9.22812 12.4375 9.17188 12.4609 9.11406 12.4828C9.47969 11.9938 9.79375 11.3828 10.0391 10.6797C10.3672 10.8672 10.6781 11.0859 10.9672 11.3328C10.4731 11.7872 9.90432 12.1529 9.28594 12.4141Z"}),Ie=function(e){var t=e.svgRef,n=e.title,a=Te(e,["svgRef","title"]);return o.a.createElement("svg",Ne({viewBox:"0 0 14 14",ref:t},a),n?o.a.createElement("title",null,n):null,Se)},Be=o.a.forwardRef((function(e,t){return o.a.createElement(Ie,Ne({svgRef:t},e))})),De=(n.p,Object(p.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.breakpoints;return Object(p.createStyles)({root:Object(s.a)({minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:30,marginTop:10},r.between("sm","xl"),{paddingTop:20,marginTop:55}),inner:{paddingTop:2*n.navItemHeight,paddingBottom:2*n.navItemHeight},cta:{display:"block",maxWidth:200,maxHeight:200,position:"fixed",bottom:3*n.generalUnit,right:3*n.generalUnit},content:{margin:"30px auto",maxWidth:460,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:4},pageArea:{height:"100%",width:"100%",overflow:"hidden",border:"1px solid ".concat(a.additional.gray[7]),borderRadius:4},navTabs:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:"0 ".concat(n.generalUnit,"px"),transform:"translateY(1px)","& > a":{display:"flex",flexDirection:"row",alignItems:"center",padding:"".concat(n.generalUnit,"px ").concat(1.5*n.generalUnit,"px"),border:"1px solid ".concat(a.additional.gray[7]),textDecoration:"none",marginRight:n.generalUnit,transitionDuration:"".concat(t.transform,"ms"),color:a.additional.gray[8],maxHeight:n.navItemHeight,"& svg":{transitionDuration:"".concat(t.transform,"ms"),fill:a.additional.gray[8]},"&.active":{color:a.additional.gray[9],textDecoration:"underline","& svg":{fill:a.additional.geekblue[5]}},"& > *:first-child":{marginRight:n.generalUnit}},"& svg":{height:14,width:14}}})}))),Ue=function(e){var t=e.children,n=De();return o.a.createElement("section",{className:n.root},o.a.createElement("section",{className:n.inner},o.a.createElement(Ee,null),o.a.createElement("section",{className:n.content},o.a.createElement("section",{className:n.navTabs},o.a.createElement(m.NavLink,{activeClassName:"active",to:xe.Transfer},o.a.createElement(Be,null),o.a.createElement(m.Typography,{variant:"h5"},"Transfer"))),o.a.createElement("div",{className:n.pageArea},t))))},Ae=n(269);n(656);var Fe=function(){var e=W.a.chains.filter((function(e){return"Ethereum"===e.type})).reduce((function(e,t){return t.networkId?Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},t.networkId,t.tokens)):e}),{});return o.a.createElement(u.a,{fallback:function(e){var t=e.error,n=e.componentStack,a=e.eventId,r=e.resetError;return o.a.createElement("div",null,o.a.createElement("p",null,'An error occurred and has been logged. If you would like to provide additional info to help us debug and resolve the issue, click the "Provide Additional Details" button'),o.a.createElement("p",null,null===t||void 0===t?void 0:t.message.toString()),o.a.createElement("p",null,n),o.a.createElement("p",null,a),o.a.createElement("button",{onClick:function(){return Object(d.a)({eventId:a||""})}},"Provide Additional Details"),o.a.createElement("button",{onClick:r},"Reset error"))},onReset:function(){return window.location.reload()}},o.a.createElement(p.ThemeSwitcher,{themes:{light:je}},o.a.createElement(m.CssBaseline,null),o.a.createElement(m.ToasterProvider,{autoDismiss:!0},o.a.createElement(Ae.a,{tokensToWatch:e,networkIds:[5],onboardConfig:{dappId:"",walletSelect:{wallets:[{walletName:"metamask",preferred:!0}]},subscriptions:{network:function(e){return e&&console.log("chainId: ",e)},balance:function(e){return e&&console.log("balance: ",ee.utils.formatEther(e))}}},checkNetwork:!1,gasPricePollingInterval:120,gasPriceSetting:"fast"},o.a.createElement(j.a,null,o.a.createElement(J,null,o.a.createElement(m.Router,null,o.a.createElement(Ue,null,o.a.createElement(Oe,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(1),r=n.n(a).a.createContext(void 0),o=function(){var e=Object(a.useContext)(r);if(void 0===e)throw new Error("useHomeBridge must be called within a HomeBridgeProvider");return e}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I}));var a=n(2),r=n.n(a),o=n(18),i=n(3),c=n(1),s=n.n(c),l=n(39),u=n(378),d=n(119),p=n(36),m=n(141),f=n(133),b=function(e){var t=e.children,n=I(),a=n.depositNonce,l=n.destinationChainConfig,u=n.homeChainConfig,b=n.tokensDispatch,h=n.setTransactionStatus,v=n.setTransferTxHash,g=n.setDepositVotes,y=n.depositVotes,k=Object(c.useState)(void 0),w=Object(i.a)(k,2),x=w[0],O=w[1];return Object(c.useEffect)((function(){if(!x){var e=Object(f.b)(l);if(l&&e){var t=d.BridgeFactory.connect(l.bridgeAddress,e);O(t)}}}),[l,x]),Object(c.useEffect)((function(){return l&&null!==(null===u||void 0===u?void 0:u.chainId)&&void 0!==(null===u||void 0===u?void 0:u.chainId)&&x&&a&&(x.on(x.filters.ProposalEvent(u.chainId,p.a.from(a),null,null,null),(function(e,t,n,a,r,o){switch(p.a.from(n).toNumber()){case 1:b({type:"addMessage",payload:"Proposal created on ".concat(l.name)});break;case 2:b({type:"addMessage",payload:"Proposal has passed. Executing..."});break;case 3:h("Transfer Completed"),v(o.transactionHash);break;case 4:h("Transfer Aborted"),v(o.transactionHash)}})),x.on(x.filters.ProposalVote(u.chainId,p.a.from(a),null,null),function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o,i){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getTransactionReceipt();case 2:1===(c=e.sent).status&&g(y+1),b({type:"addMessage",payload:{address:String(c.from),signed:1===c.status?"Confirmed":"Rejected"}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}())),function(){null===x||void 0===x||x.removeAllListeners()}}),[a,u,x,y,l,g,h,v,b]),s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)},h=n(31),v=n(27),g=n(76),y=n(196),k=n(236),w=n(740),x=n(88),O=n(56),j=function(e){var t=e.children,n=new w.a,a=Object(c.useState)(),u=Object(i.a)(a,2),d=u[0],p=u[1],m=Object(c.useState)(!1),b=Object(i.a)(m,2),j=b[0],C=b[1],E=Object(c.useState)([]),N=Object(i.a)(E,2),T=N[0],S=N[1],B=Object(c.useState)(void 0),D=Object(i.a)(B,2),U=D[0],A=D[1],F=I(),P=F.homeChainConfig,H=F.setTransactionStatus,R=F.setDepositNonce,M=F.handleSetHomeChain,L=F.homeChains,V=Object(c.useState)(void 0),z=Object(i.a)(V,2),W=z[0],Z=z[1],_=Object(c.useState)(void 0),q=Object(i.a)(_,2),J=q[0],K=q[1],Y=Object(c.useState)(),$=Object(i.a)(Y,2),G=$[0],X=$[1],Q=Object(c.useState)("CSS"),ee=Object(i.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(c.useState)({}),re=Object(i.a)(ae,2),oe=re[0],ie=re[1];Object(c.useEffect)((function(){fe()}));var ce=Object(c.useState)(!1),se=Object(i.a)(ce,2),le=se[0],ue=se[1];Object(c.useEffect)((function(){!P||le||d||(ue(!0),Object(y.createApi)(P.rpcUrl).then((function(e){p(e),ue(!1)})).catch(console.error))}),[P,n,d,le]);var de=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,d.query[P.chainbridgePalletName].relayerThreshold();case 3:t=e.sent,Z(Number(t.toHuman()));case 5:case"end":return e.stop()}}),e)}))),[d,P]),pe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=15;break}if(!(t=P).bridgeFeeFunctionName){e.next=12;break}return e.t1=x.BigNumber,e.t2=Number,e.next=7,d.query[t.transferPalletName][t.bridgeFeeFunctionName]();case 7:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0=new e.t1(e.t4).shiftedBy(-t.decimals).toNumber(),e.next=13;break;case 12:e.t0=t.bridgeFeeValue?t.bridgeFeeValue:0;case 13:n=e.t0,K(n);case 15:case"end":return e.stop()}}),e)}))),[d,P]),me=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&(t=Number(d.consts[P.chainbridgePalletName].bridgeChainId.toHuman()),(null===P||void 0===P?void 0:P.chainId)!==t&&L.find((function(e){return e.chainId===t}))&&M(t));case 1:case"end":return e.stop()}}),e)}))),[d,M,P,L]);Object(c.useEffect)((function(){d&&d.isConnected&&P&&(de(),me(),pe())}),[d,de,pe,me,P]),Object(c.useEffect)((function(){var e;if(P&&U)return d&&d.query.system.account(U,(function(e){var t=e.toJSON().data.free;ie(Object(v.a)({},P.tokens[0].symbol||"TOKEN",{decimals:P.decimals,balance:parseInt(O.utils.formatUnits(t,P.decimals)),balanceBN:new x.BigNumber(t).shiftedBy(-P.decimals),name:P.tokens[0].name,symbol:P.tokens[0].symbol}))})).then((function(t){e=t})).catch(console.error),function(){e&&e()}}),[d,U,P]);var fe=Object(c.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j||Object(k.b)("chainbridge-ui").then((function(){var e;Object(k.a)({ss58Format:null===(e=L.find((function(e){return"Substrate"===e.type})))||void 0===e?void 0:e.ss58Prefix}).then((function(e){return e.map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(h.a)(Object(h.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}}))})).then((function(e){var t;S(e),1===e.length&&A(e[0].address),M(null===(t=L.find((function(e){return"Substrate"===e.type})))||void 0===t?void 0:t.chainId)})).catch(console.error)})).catch(console.error);case 1:case"end":return e.stop()}}),e)}))),[j,M,L]);Object(c.useEffect)((function(){null===d||void 0===d||d.isReady.then((function(){return C(!0)}))}),[d,C]);var be=Object(c.useCallback)((function(e){A(T[e].address)}),[T]),he=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!U){e.next=13;break}return e.next=3,Object(k.a)();case 3:if(i=e.sent,!(c=i.find((function(e){return e.address===U})))){e.next=13;break}return s=Object(y.submitDeposit)(d,t,n,o),e.next=9,Object(k.c)(c.meta.source);case 9:l=e.sent,H("Initializing Transfer"),X(t),s.signAndSend(U,{signer:l.signer},(function(e){var t=e.status,n=e.events;t.isInBlock&&console.log("Completed at block hash #".concat(t.isInBlock.toString())),t.isFinalized?(n.filter((function(e){var t=e.event;return d.events[P.chainbridgePalletName].FungibleTransfer.is(t)})),d.query[P.chainbridgePalletName].chainNonces(o).then((function(e){R("".concat(e.toJSON())),H("In Transit")})).catch((function(e){console.error(e)}))):console.log("Current status: ".concat(t.type))})).catch((function(e){console.log(":( transaction failed",e),H("Transfer Aborted")}));case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),[d,R,H,U,P]),ve=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=10;break}if(o=l.a.chains.find((function(e){return e.chainId===a})),i=P.tokens.find((function(e){return e.address===n})),"Ethereum"!==(null===o||void 0===o?void 0:o.type)||!i){e.next=9;break}return e.next=6,Object(f.c)(o,oe,i,t,n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[P,oe]);return s.a.createElement(g.a.Provider,{value:{connect:fe,disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===d||void 0===d?void 0:d.disconnect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(){return(null===P||void 0===P?void 0:P.name)||"undefined"},bridgeFee:J,deposit:he,depositAmount:G,selectedToken:te,setDepositAmount:X,setSelectedToken:ne,tokens:oe,relayerThreshold:W,wrapTokenConfig:void 0,wrapper:void 0,wrapToken:ve,unwrapToken:ge,isReady:j,chainConfig:P,address:U,nativeTokenBalance:0,accounts:T,selectAccount:be,handleCheckSupplies:ye}},t)},C=function(e){var t=e.children,n=I(),a=n.depositNonce,l=n.destinationChainConfig,u=n.setDepositVotes,d=n.depositVotes,p=n.tokensDispatch,f=n.setTransactionStatus,b=Object(c.useState)(),h=Object(i.a)(b,2),v=h[0],g=h[1],k=Object(c.useState)(!1),w=Object(i.a)(k,2),x=w[0],O=w[1];Object(c.useEffect)((function(){!l||x||v||(O(!0),Object(y.createApi)(l.rpcUrl).then((function(e){g(e),O(!1)})).catch(console.error))}),[l,v,x]);var j=Object(c.useState)(void 0),C=Object(i.a)(j,2),E=C[0],N=C[1];return Object(c.useEffect)((function(){if(v&&!E&&a){var e=v.query.system.events((function(e){console.log("----- Received "+e.length+" event(s): -----"),e.forEach((function(e){var t=e.event,n=e.phase,a=t.typeDef;console.log(t.section+":"+t.method+"::phase="+n.toString()),t.data.forEach((function(e,t){console.log(a[t].type+";"+e.toString())})),t.section===l.chainbridgePalletName&&"VoteFor"===t.method&&(u(d+1),p({type:"addMessage",payload:{address:"Substrate Relayer",signed:"Confirmed"}})),t.section===l.chainbridgePalletName&&"ProposalApproved"===t.method&&(u(d+1),f("Transfer Completed"))}))}));N(e)}else if(E&&!a){(function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(void 0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[v,a,d,l,E,u,f,p]),s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===v||void 0===v?void 0:v.disconnect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)},E=n(15);function N(e,t){switch(t.type){case"addMessage":return[].concat(Object(E.a)(e),[t.payload]);case"resetMessages":return[];default:return e}}var T=s.a.createContext(void 0),S=function(e){var t=e.children,n=Object(c.useState)("unset"),a=Object(i.a)(n,2),d=a[0],p=a[1],f=Object(c.useState)(0),h=Object(i.a)(f,2),v=h[0],y=h[1],k=Object(c.useState)(),w=Object(i.a)(k,2),x=w[0],O=w[1],E=Object(c.useState)([]),S=Object(i.a)(E,2),I=S[0],B=S[1],D=Object(c.useState)(),U=Object(i.a)(D,2),A=U[0],F=U[1],P=Object(c.useState)([]),H=Object(i.a)(P,2),R=H[0],M=H[1],L=Object(c.useState)(""),V=Object(i.a)(L,2),z=V[0],W=V[1],Z=Object(c.useState)(void 0),_=Object(i.a)(Z,2),q=_[0],J=_[1],K=Object(c.useState)(void 0),Y=Object(i.a)(K,2),$=Y[0],G=Y[1],X=Object(c.useState)(0),Q=Object(i.a)(X,2),ee=Q[0],te=Q[1],ne=Object(c.useReducer)(N,[]),ae=Object(i.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(c.useCallback)((function(e){if(e||0===e){var t=I.find((function(t){return t.chainId===e}));t&&(O(t),M(l.a.chains.filter((function(e){return e.chainId!==t.chainId}))),2===l.a.chains.length&&F(l.a.chains.find((function(e){return e.chainId!==t.chainId}))))}else O(void 0)}),[I,O]);Object(c.useEffect)((function(){B("unset"!==d?"select"===d?l.a.chains:l.a.chains.filter((function(e){return e.type===d})):[])}),[d]);var ce=Object(c.useCallback)((function(e){if(void 0===e)F(void 0);else{if(!x||$)throw new Error("Home chain not selected");var t=R.find((function(t){return t.chainId===e}));if(!t)throw new Error("Invalid destination chain selected");F(t)}}),[$,R,x]),se=function(e){var t=e.children;return"Ethereum"===(null===A||void 0===A?void 0:A.type)?s.a.createElement(b,null,t):"Substrate"===(null===A||void 0===A?void 0:A.type)?s.a.createElement(C,null,t):s.a.createElement(m.a.Provider,{value:{disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)};return s.a.createElement(T.Provider,{value:{chainId:null===x||void 0===x?void 0:x.chainId,networkId:v,setNetworkId:y,homeChainConfig:x,setWalletType:p,walletType:d,homeChains:I,destinationChains:R,inTransitMessages:re,handleSetHomeChain:ie,setDestinationChain:ce,destinationChainConfig:A,transactionStatus:q,setTransactionStatus:J,depositNonce:$,depositVotes:ee,setDepositNonce:G,setDepositVotes:te,tokensDispatch:oe,setTransferTxHash:W,transferTxHash:z}},"Ethereum"===d?s.a.createElement(u.a,null,s.a.createElement(se,null,t)):"Substrate"===d?s.a.createElement(j,null,s.a.createElement(se,null,t)):s.a.createElement(g.a.Provider,{value:{connect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disconnect:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNetworkName:function(e){return""},isReady:!1,selectedToken:"",deposit:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),setDepositAmount:function(){},tokens:{},setSelectedToken:function(e){},address:void 0,bridgeFee:void 0,chainConfig:void 0,depositAmount:void 0,nativeTokenBalance:void 0,relayerThreshold:void 0,wrapTokenConfig:void 0,wrapper:void 0,wrapToken:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unwrapToken:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},s.a.createElement(se,null,t)))},I=function(){var e=Object(c.useContext)(T);if(void 0===e)throw new Error("useNetworkManager must be called within a HomeNetworkProvider");return e}}},[[519,17,18]]]);
//# sourceMappingURL=main.3b74b9f2.chunk.js.map